/*! For license information please see main.2b24af44.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},139:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!l.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var b=y.prototype=new v;b.constructor=y,f(b,x.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,a){var r,s={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,r,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return i=i(l=e),e=""===s?"."+A(l,0):s,j(i)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),T(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+A(o=e[c],c);l+=T(o,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,r,d=s+A(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var a=[],r=0;return T(e,a,"","",function(e){return t.call(n,e,r++)}),a}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},O={transition:null},I={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<r&&0>s(d,l)?(e[a]=d,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(g=!1,b(e),!f)if(null!==a(c))f=!0,O(N);else{var t=a(d);null!==t&&I(j,t.startTime-e)}}function N(e,n){f=!1,g&&(g=!1,v(C),C=-1),p=!0;var s=h;try{for(b(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!T());){var i=m.callback;if("function"===typeof i){m.callback=null,h=m.priorityLevel;var o=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?m.callback=o:m===a(c)&&r(c),b(n)}else r(c);m=a(c)}if(null!==m)var l=!0;else{var u=a(d);null!==u&&I(j,u.startTime-n),l=!1}return l}finally{m=null,h=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,S=!1,k=null,C=-1,E=5,A=-1;function T(){return!(t.unstable_now()-A<E)}function P(){if(null!==k){var e=t.unstable_now();A=e;var n=!0;try{n=k(!0,e)}finally{n?w():(S=!1,k=null)}}else S=!1}if("function"===typeof y)w=function(){y(P)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,_=R.port2;R.port1.onmessage=P,w=function(){_.postMessage(null)}}else w=function(){x(P,0)};function O(e){k=e,S||(S=!0,w())}function I(e,n){C=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,O(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(g?(v(C),C=-1):g=!0,I(j,s-i))):(e.sortIndex=o,n(c,e),f||p||(f=!0,O(N))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var a=n(218);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,i){if(i!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,B=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var M=!1;function z(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||r[i]!==s[o]){var l="\n"+r[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case k:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){J(e,t);var n=q(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),a=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,Se=null;function ke(e){if(e=yr(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?Se?Se.push(e):Se=[e]:we=e}function Ee(){if(we){var e=we,t=Se;if(Se=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==we||null!==Se)&&(Te(),Ee())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Oe=!1}function Le(e,t,n,a,r,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Be=null,Fe=!1,Me=null,ze={onError:function(e){De=!0,Be=e}};function Ue(e,t,n,a,r,s,i,o,l){De=!1,Be=null,Le.apply(ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return qe(r),e;if(i===a)return qe(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,a=i;break}if(l===a){o=!0,a=r,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,a=r;break}if(l===a){o=!0,a=i,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,Ge=r.unstable_shouldYield,Ye=r.unstable_requestPaint,Je=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~r;0!==o?a=ut(o):0!==(s&=i)&&(a=ut(s))}else 0!==(i=n&~r)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,St,kt,Ct=!1,Et=[],At=null,Tt=null,Pt=null,Rt=new Map,_t=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Dt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=yr(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Bt(e){var t=vr(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void kt(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yr(n))&&Nt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);be=a,n.target.dispatchEvent(a),be=null,t.shift()}return!0}function Mt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Ct=!1,null!==At&&Ft(At)&&(At=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Rt.forEach(Mt),_t.forEach(Mt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zt)))}function Wt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var a=Et[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Tt&&Ut(Tt,e),null!==Pt&&Ut(Pt,e),Rt.forEach(t),_t.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ot.shift()}var Vt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,a){var r=yt,s=Vt.transition;Vt.transition=null;try{yt=1,Qt(e,t,n,a)}finally{yt=r,Vt.transition=s}}function Kt(e,t,n,a){var r=yt,s=Vt.transition;Vt.transition=null;try{yt=4,Qt(e,t,n,a)}finally{yt=r,Vt.transition=s}}function Qt(e,t,n,a){if(qt){var r=Gt(e,t,n,a);if(null===r)qa(e,t,a,$t,n),Lt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return At=Dt(At,e,t,n,a,r),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,a,r),!0;case"mouseover":return Pt=Dt(Pt,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return Rt.set(s,Dt(Rt.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,_t.set(s,Dt(_t.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lt(e,a),4&t&&-1<It.indexOf(e)){for(;null!==r;){var s=yr(r);if(null!==s&&jt(s),null===(s=Gt(e,t,n,a))&&qa(e,t,a,$t,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else qa(e,t,a,null,n)}}var $t=null;function Gt(e,t,n,a){if($t=null,null!==(e=vr(e=je(a))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Jt?Jt.value:Jt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=B({},cn,{view:0,detail:0}),mn=rn(un),hn=B({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=rn(hn),fn=rn(B({},hn,{dataTransfer:0})),gn=rn(B({},un,{relatedTarget:0})),xn=rn(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=rn(vn),bn=rn(B({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function kn(){return Sn}var Cn=B({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(Cn),An=rn(B({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(B({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=rn(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=B({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=rn(Rn),On=[9,13,27,32],In=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Bn=d&&(!In||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Mn=!1;function zn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,a){Ce(a),0<(t=Ka(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function $n(e){Fa(e,0)}function Gn(e){if(Q(br(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Kn&&(Kn.detachEvent("onpropertychange",na),Qn=Kn=null)}function na(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Hn(t,Qn,e,je(e)),Re($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Qn=n,(Kn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function sa(e,t){if("click"===e)return Gn(t)}function ia(e,t){if("input"===e||"change"===e)return Gn(t)}var oa="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(oa(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!oa(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var i=da(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,ga=null,xa=null,va=null,ya=!1;function ba(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ya||null==ga||ga!==$(a)||("selectionStart"in(a=ga)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},va&&la(va,a)||(va=a,0<(a=Ka(xa,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},wa={},Sa={};function ka(e){if(wa[e])return wa[e];if(!Na[e])return e;var t,n=Na[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sa)return wa[e]=n[t];return e}d&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);var Ca=ka("animationend"),Ea=ka("animationiteration"),Aa=ka("animationstart"),Ta=ka("transitionend"),Pa=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _a(e,t){Pa.set(e,t),l(t,[e])}for(var Oa=0;Oa<Ra.length;Oa++){var Ia=Ra[Oa];_a(Ia.toLowerCase(),"on"+(Ia[0].toUpperCase()+Ia.slice(1)))}_a(Ca,"onAnimationEnd"),_a(Ea,"onAnimationIteration"),_a(Aa,"onAnimationStart"),_a("dblclick","onDoubleClick"),_a("focusin","onFocus"),_a("focusout","onBlur"),_a(Ta,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Ba(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,o,l,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Be;De=!1,Be=null,Fe||(Fe=!0,Me=d)}}(a,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;Ba(r,o,c),s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;Ba(r,o,c),s=l}}}if(Fe)throw e=Me,Fe=!1,Me=null,e}function Ma(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Va(t,e,2,!1),n.add(a))}function za(e,t,n){var a=0;t&&(a|=4),Va(n,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Ua]){e[Ua]=!0,i.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||za(t,!1,e),za(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,za("selectionchange",!1,t))}}function Va(e,t,n,a){switch(Yt(t)){case 1:var r=Ht;break;case 4:r=Kt;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function qa(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var o=a.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;i=i.return}for(;null!==o;){if(null===(i=vr(o)))return;if(5===(l=i.tag)||6===l){a=s=i;continue e}o=o.parentNode}}a=a.return}Re(function(){var a=s,r=je(n),i=[];e:{var o=Pa.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ca:case Ea:case Aa:l=xn;break;case Ta:l=Pn;break;case"scroll":l=mn;break;case"wheel":l=_n;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var h,p=a;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=_e(p,m))&&d.push(Ha(p,f,h)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,n,r),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[pr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=pn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?o:br(l),h=null==c?o:br(c),(o=new d(f,p+"leave",l,n,r)).target=u,o.relatedTarget=h,f=null,vr(r)===a&&((d=new d(m,p+"enter",c,n,r)).target=h,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,p=0,h=d=l;h;h=Qa(h))p++;for(h=0,f=m;f;f=Qa(f))h++;for(;0<p-h;)d=Qa(d),p--;for(;0<h-p;)m=Qa(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qa(d),m=Qa(m)}d=null}else d=null;null!==l&&$a(i,o,l,d,!1),null!==c&&null!==u&&$a(i,u,c,d,!0)}if("select"===(l=(o=a?br(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(qn(o))if(Jn)g=ia;else{g=ra;var x=aa}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sa);switch(g&&(g=g(e,a))?Hn(i,g,n,r):(x&&x(e,o,a),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=a?br(a):window,e){case"focusin":(qn(x)||"true"===x.contentEditable)&&(ga=x,xa=a,va=null);break;case"focusout":va=xa=ga=null;break;case"mousedown":ya=!0;break;case"contextmenu":case"mouseup":case"dragend":ya=!1,ba(i,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ba(i,n,r)}var v;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?zn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(v=en()):(Xt="value"in(Jt=r)?Jt.value:Jt.textContent,Wn=!0)),0<(x=Ka(a,y)).length&&(y=new bn(y,e,null,n,r),i.push({event:y,listeners:x}),v?y.data=v:null!==(v=Un(n))&&(y.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Mn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!In&&zn(e,t)?(e=en(),Zt=Xt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ka(a,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=v))}Fa(i,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ka(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=_e(e,n))&&a.unshift(Ha(e,s,r)),null!=(s=_e(e,t))&&a.push(Ha(e,s,r))),e=e.return}return a}function Qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===a)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=_e(n,s))&&i.unshift(Ha(n,l,o)):r||null!=(l=_e(n,s))&&i.push(Ha(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ga=/\r\n?/g,Ya=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace(Ga,"\n").replace(Ya,"")}function Xa(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:ar;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Wt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Wt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,hr="__reactProps$"+ur,pr="__reactContainer$"+ur,fr="__reactEvents$"+ur,gr="__reactListeners$"+ur,xr="__reactHandles$"+ur;function vr(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[mr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[mr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function yr(e){return!(e=e[mr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[hr]||null}var Nr=[],wr=-1;function Sr(e){return{current:e}}function kr(e){0>wr||(e.current=Nr[wr],Nr[wr]=null,wr--)}function Cr(e,t){wr++,Nr[wr]=e.current,e.current=t}var Er={},Ar=Sr(Er),Tr=Sr(!1),Pr=Er;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Er;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function _r(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){kr(Tr),kr(Ar)}function Ir(e,t,n){if(Ar.current!==Er)throw Error(s(168));Cr(Ar,t),Cr(Tr,n)}function Lr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,V(e)||"Unknown",r));return B({},n,a)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Pr=Ar.current,Cr(Ar,e),Cr(Tr,Tr.current),!0}function Br(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=Lr(e,t,Pr),a.__reactInternalMemoizedMergedChildContext=e,kr(Tr),kr(Ar),Cr(Ar,e)):kr(Tr),Cr(Tr,n)}var Fr=null,Mr=!1,zr=!1;function Ur(e){null===Fr?Fr=[e]:Fr.push(e)}function Wr(){if(!zr&&null!==Fr){zr=!0;var e=0,t=yt;try{var n=Fr;for(yt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Fr=null,Mr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Qe(Ze,Wr),r}finally{yt=t,zr=!1}}return null}var Vr=[],qr=0,Hr=null,Kr=0,Qr=[],$r=0,Gr=null,Yr=1,Jr="";function Xr(e,t){Vr[qr++]=Kr,Vr[qr++]=Hr,Hr=e,Kr=t}function Zr(e,t,n){Qr[$r++]=Yr,Qr[$r++]=Jr,Qr[$r++]=Gr,Gr=e;var a=Yr;e=Jr;var r=32-it(a)-1;a&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Yr=1<<32-it(t)+r|n<<r|a,Jr=s+e}else Yr=1<<s|n<<r|a,Jr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Hr;)Hr=Vr[--qr],Vr[qr]=null,Kr=Vr[--qr],Vr[qr]=null;for(;e===Gr;)Gr=Qr[--$r],Qr[$r]=null,Jr=Qr[--$r],Qr[$r]=null,Yr=Qr[--$r],Qr[$r]=null}var ns=null,as=null,rs=!1,ss=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Gr?{id:Yr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=as;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var a=ns;t&&os(e,t)?is(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(ls(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?cr(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cr(e.nextSibling)}function hs(){as=ns=null,rs=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Bc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&vs(s)===t.type)?((a=r(t,n.props)).ref=gs(e,t,n),a.return=e,a):((a=Ic(n.type,n.key,n.props,null,e.mode,a)).ref=gs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case _:return m(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;xs(e,t)}return null}function h(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case N:return n.key===r?d(e,t,n,a):null;case _:return h(e,t,(r=n._init)(n._payload),a)}if(te(n)||L(n))return null!==r?null:u(e,t,n,a,null);xs(e,n)}return null}function p(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case N:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case _:return p(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||L(a))return u(t,e=e.get(n)||null,a,r,null);xs(t,a)}return null}function f(r,s,o,l){for(var c=null,d=null,u=s,f=s=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var x=h(r,u,o[f],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(r,u),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x,u=g}if(f===o.length)return n(r,u),rs&&Xr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(r,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,f),c}for(u=a(r,u);f<o.length;f++)null!==(g=p(u,r,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),rs&&Xr(r,f),c}function g(r,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,g=o=0,x=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var y=h(r,f,v.value,c);if(null===y){null===f&&(f=x);break}e&&f&&null===y.alternate&&t(r,f),o=i(y,o,g),null===u?d=y:u.sibling=y,u=y,f=x}if(v.done)return n(r,f),rs&&Xr(r,g),d;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=m(r,v.value,c))&&(o=i(v,o,g),null===u?d=v:u.sibling=v,u=v);return rs&&Xr(r,g),d}for(f=a(r,f);!v.done;g++,v=l.next())null!==(v=p(f,r,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=i(v,o,g),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(r,e)}),rs&&Xr(r,g),d}return function e(a,s,i,l){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===w){if(7===d.tag){n(a,d.sibling),(s=r(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&vs(c)===d.type){n(a,d.sibling),(s=r(d,i.props)).ref=gs(a,d,i),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}i.type===w?((s=Lc(i.props.children,a.mode,l,i.key)).return=a,a=s):((l=Ic(i.type,i.key,i.props,null,a.mode,l)).ref=gs(a,s,i),l.return=a,a=l)}return o(a);case N:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(a,s.sibling),(s=r(s,i.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Fc(i,a.mode,l)).return=a,a=s}return o(a);case _:return e(a,s,(d=i._init)(i._payload),l)}if(te(i))return f(a,s,i,l);if(L(i))return g(a,s,i,l);xs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,i)).return=a,a=s):(n(a,s),(s=Bc(i,a.mode,l)).return=a,a=s),o(a)):n(a,s)}}var bs=ys(!0),js=ys(!1),Ns=Sr(null),ws=null,Ss=null,ks=null;function Cs(){ks=Ss=ws=null}function Es(e){var t=Ns.current;kr(Ns),e._currentValue=t}function As(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){ws=e,ks=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ws)throw Error(s(308));Ss=e,ws.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Rs=null;function _s(e){null===Rs?Rs=[e]:Rs.push(e)}function Os(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,_s(t)):(n.next=r.next,r.next=n),t.interleaved=n,Is(e,a)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Al)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Is(e,n)}return null===(r=a.interleaved)?(t.next=t,_s(a)):(t.next=r.next,r.next=t),a.interleaved=t,Is(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Us(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,a){var r=e.updateQueue;Ls=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=r.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,h=o.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(m=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=B({},u,m);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=m;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=u}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var qs={},Hs=Sr(qs),Ks=Sr(qs),Qs=Sr(qs);function $s(e){if(e===qs)throw Error(s(174));return e}function Gs(e,t){switch(Cr(Qs,t),Cr(Ks,e),Cr(Hs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}kr(Hs),Cr(Hs,t)}function Ys(){kr(Hs),kr(Ks),kr(Qs)}function Js(e){$s(Qs.current);var t=$s(Hs.current),n=le(t,e.type);t!==n&&(Cr(Ks,e),Cr(Hs,n))}function Xs(e){Ks.current===e&&(kr(Hs),kr(Ks))}var Zs=Sr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=b.ReactCurrentDispatcher,ri=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function hi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oa(e[n],t[n]))return!1;return!0}function fi(e,t,n,a,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Xi:Zi,e=n(a,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ai.current=eo,e=n(a,r)}while(di)}if(ai.current=Ji,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==ui;return ui=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=oi,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var o=r.next;r.next=i.next,i.next=o}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=a):c=c.next=m,ii.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=a:c.next=l,oa(a,t.memoizedState)||(yo=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Dl|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{i=e(i,o.action),o=o.next}while(o!==r);oa(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ni(){}function wi(e,t){var n=ii,a=vi(),r=t(),i=!oa(a.memoizedState,r);if(i&&(a.memoizedState=r,yo=!0),a=a.queue,Li(Ci.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Pi(9,ki.bind(null,n,a,r,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&si)||Si(n,t,r)}return r}function Si(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ki(e,t,n,a){t.value=n,t.getSnapshot=a,Ei(t)&&Ai(e)}function Ci(e,t,n){return n(function(){Ei(t)&&Ai(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oa(e,n)}catch(a){return!0}}function Ai(e){var t=Is(e,1);null!==t&&nc(t,e,1,-1)}function Ti(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ri(){return vi().memoizedState}function _i(e,t,n,a){var r=xi();ii.flags|=e,r.memoizedState=Pi(1|t,n,void 0,void 0===a?null:a)}function Oi(e,t,n,a){var r=vi();a=void 0===a?null:a;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==a&&pi(a,i.deps))return void(r.memoizedState=Pi(t,n,s,a))}ii.flags|=e,r.memoizedState=Pi(1|t,n,s,a)}function Ii(e,t){return _i(8390656,8,e,t)}function Li(e,t){return Oi(2048,8,e,t)}function Di(e,t){return Oi(4,2,e,t)}function Bi(e,t){return Oi(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oi(4,4,Fi.bind(null,t,e),n)}function zi(){}function Ui(e,t){var n=vi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Wi(e,t){var n=vi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Vi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(oa(n,t)||(n=ft(),ii.lanes|=n,Dl|=n,e.baseState=!0),t)}function qi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var a=ri.transition;ri.transition={};try{e(!1),t()}finally{yt=n,ri.transition=a}}function Hi(){return vi().memoizedState}function Ki(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e))Gi(t,n);else if(null!==(n=Os(e,t,n,a))){nc(n,e,a,ec()),Yi(n,t,a)}}function Qi(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Gi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,oa(o,i)){var l=t.interleaved;return null===l?(r.next=r,_s(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Os(e,t,r,a))&&(nc(n,e,a,r=ec()),Yi(n,t,a))}}function $i(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yi(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ji={readContext:Ps,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Ps,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_i(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=xi();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ti,useDebugValue:zi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=qi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ii,r=xi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&si)||Si(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Ii(Ci.bind(null,a,i,e),[e]),a.flags|=2048,Pi(9,ki.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=Tl.identifierPrefix;if(rs){var n=Jr;t=":"+t+"R"+(n=(Yr&~(1<<32-it(Yr)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Ps,useCallback:Ui,useContext:Ps,useEffect:Li,useImperativeHandle:Mi,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:Wi,useReducer:bi,useRef:Ri,useState:function(){return bi(yi)},useDebugValue:zi,useDeferredValue:function(e){return Vi(vi(),oi.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:Ui,useContext:Ps,useEffect:Li,useImperativeHandle:Mi,useInsertionEffect:Di,useLayoutEffect:Bi,useMemo:Wi,useReducer:ji,useRef:Ri,useState:function(){return ji(yi)},useDebugValue:zi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Vi(t,oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],vi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Fs(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,r))&&(nc(t,e,r,a),zs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Fs(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,r))&&(nc(t,e,r,a),zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Fs(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ms(e,r,a))&&(nc(t,e,a,n),zs(t,e,a))}};function ro(e,t,n,a,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,s))}function so(e,t,n){var a=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(r=_r(t)?Pr:Ar.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Rr(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ps(s):(s=_r(t)?Pr:Ar.current,r.context=Rr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ao.enqueueReplaceState(r,r.state,null),Ws(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){ql||(ql=!0,Hl=a),uo(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof a&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new mo;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vo=b.ReactCurrentOwner,yo=!1;function bo(e,t,n,a){t.child=null===e?js(t,null,n,a):bs(t,e.child,n,a)}function jo(e,t,n,a,r){n=n.render;var s=t.ref;return Ts(t,r),a=fi(e,t,n,a,s,r),n=gi(),null===e||yo?(rs&&n&&es(t),t.flags|=1,bo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qo(e,t,r))}function No(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||_c(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wo(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:la)(i,a)&&e.ref===t.ref)return qo(e,t,r)}return t.flags|=1,(e=Oc(s,a)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(la(s,a)&&e.ref===t.ref){if(yo=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,qo(e,t,r);0!==(131072&e.flags)&&(yo=!0)}}return Co(e,t,n,a,r)}function So(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Ol,_l),_l|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Ol,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Cr(Ol,_l),_l|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Cr(Ol,_l),_l|=a;return bo(e,t,r,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,a,r){var s=_r(n)?Pr:Ar.current;return s=Rr(t,s),Ts(t,r),n=fi(e,t,n,a,s,r),a=gi(),null===e||yo?(rs&&a&&es(t),t.flags|=1,bo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,qo(e,t,r))}function Eo(e,t,n,a,r){if(_r(n)){var s=!0;Dr(t)}else s=!1;if(Ts(t,r),null===t.stateNode)Vo(e,t),so(t,n,a),oo(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Rr(t,c=_r(n)?Pr:Ar.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==a||l!==c)&&io(t,i,a,c),Ls=!1;var m=t.memoizedState;i.state=m,Ws(t,a,i,r),l=t.memoizedState,o!==a||m!==l||Tr.current||Ls?("function"===typeof d&&(no(t,n,d,a),l=t.memoizedState),(o=Ls||ro(t,n,o,a,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Bs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Rr(t,l=_r(n)?Pr:Ar.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,a,l),Ls=!1,m=t.memoizedState,i.state=m,Ws(t,a,i,r);var p=t.memoizedState;o!==u||m!==p||Tr.current||Ls?("function"===typeof h&&(no(t,n,h,a),p=t.memoizedState),(c=Ls||ro(t,n,c,a,m,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),i.props=a,i.state=p,i.context=l,a=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return Ao(e,t,n,a,s,r)}function Ao(e,t,n,a,r,s){ko(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&Br(t,n,!1),qo(e,t,s);a=t.stateNode,vo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=a.state,r&&Br(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ir(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ir(0,t.context,!1),Gs(e,t.containerInfo)}function Po(e,t,n,a,r){return hs(),ps(r),t.flags|=256,bo(e,t,n,a),t.child}var Ro,_o,Oo,Io,Lo={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var a,r=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cr(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,r,0,null),e=Lc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,a=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Dc({mode:"visible",children:a.children},r,0,null),(i=Lc(i,r,o,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Lo,i);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Mo(e,t,o,a=co(i=Error(s(419)),a,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(a=Tl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|o))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Is(e,r),nc(a,e,r,-1))}return fc(),Mo(e,t,o,a=co(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,as=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Qr[$r++]=Yr,Qr[$r++]=Jr,Qr[$r++]=Gr,Yr=e.id,Jr=e.overflow,Gr=t),t=Fo(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,i,n);if(o){o=r.fallback,l=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?o=Oc(a,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return e=(o=e.child).sibling,r=Oc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,a){return null!==a&&ps(a),bs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),As(e.return,t,n)}function Uo(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Wo(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(bo(e,t,a.children,n),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Qo(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return _r(t.type)&&Or(),Ko(t),null;case 3:return a=t.stateNode,Ys(),kr(Tr),kr(Ar),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),_o(e,t),Ko(t),null;case 5:Xs(t);var r=$s(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=$s(Hs.current),us(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[mr]=t,a[hr]=i,e=0!==(1&t.mode),n){case"dialog":Ma("cancel",a),Ma("close",a);break;case"iframe":case"object":case"embed":Ma("load",a);break;case"video":case"audio":for(r=0;r<La.length;r++)Ma(La[r],a);break;case"source":Ma("error",a);break;case"img":case"image":case"link":Ma("error",a),Ma("load",a);break;case"details":Ma("toggle",a);break;case"input":Y(a,i),Ma("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ma("invalid",a);break;case"textarea":re(a,i),Ma("invalid",a)}for(var l in ve(n,i),r=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ma("scroll",a)}switch(n){case"input":K(a),Z(a,i,!0);break;case"textarea":K(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[mr]=t,e[hr]=a,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,a),n){case"dialog":Ma("cancel",e),Ma("close",e),r=a;break;case"iframe":case"object":case"embed":Ma("load",e),r=a;break;case"video":case"audio":for(r=0;r<La.length;r++)Ma(La[r],e);r=a;break;case"source":Ma("error",e),r=a;break;case"img":case"image":case"link":Ma("error",e),Ma("load",e),r=a;break;case"details":Ma("toggle",e),r=a;break;case"input":Y(e,a),r=G(e,a),Ma("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=B({},a,{value:void 0}),Ma("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ma("invalid",e)}for(i in ve(n,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ma("scroll",e):null!=d&&y(e,i,d,l))}switch(n){case"input":K(e),Z(e,a,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+q(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=$s(Qs.current),$s(Hs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[mr]=t,(i=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[mr]=t,t.stateNode=a}return Ko(t),null;case 13:if(kr(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),hs(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mr]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Il&&(Il=3):fc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ys(),_o(e,t),null===e&&Wa(t.stateNode.containerInfo),Ko(t),null;case 10:return Es(t.type._context),Ko(t),null;case 19:if(kr(Zs),null===(i=t.memoizedState))return Ko(t),null;if(a=0!==(128&t.flags),null===(l=i.rendering))if(a)Ho(i,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Wl&&(t.flags|=128,a=!0,Ho(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!rs)return Ko(t),null}else 2*Je()-i.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,a=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=Zs.current,Cr(Zs,a?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&_l)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return _r(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),kr(Tr),kr(Ar),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(kr(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return kr(Zs),null;case 4:return Ys(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_o=function(){},Oo=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,$s(Hs.current);var s,i=null;switch(n){case"input":r=G(e,r),a=G(e,a),i=[];break;case"select":r=B({},r,{value:void 0}),a=B({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ve(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ma("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,n,a){n!==a&&(t.flags|=4)};var Go=!1,Yo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Sc(e,t,a)}else n.current=null}function el(e,t,n){try{n()}catch(a){Sc(e,t,a)}}var tl=!1;function nl(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&el(t,n,s)}r=r.next}while(r!==a)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[hr],delete t[fr],delete t[gr],delete t[xr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function ml(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var a=dl,r=ul;dl=null,ml(e,t,n),ul=r,null!==(dl=a)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Wt(e)):lr(dl,n.stateNode));break;case 4:a=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,ml(e,t,n),dl=a,ul=r;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),r=r.next}while(r!==a)}ml(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(o){Sc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Yo=(a=Yo)||null!==n.memoizedState,ml(e,t,n),Yo=a):ml(e,t,n);break;default:ml(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach(function(t){var a=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));hl(i,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Sc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),xl(e),4&a){try{nl(3,e,e.return),al(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:fl(t,e),xl(e),512&a&&null!==n&&Zo(n,n.return);break;case 5:if(fl(t,e),xl(e),512&a&&null!==n&&Zo(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(g){Sc(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(r,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?ge(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):y(r,u,m,d)}switch(l){case"input":X(r,i);break;case"textarea":se(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(r,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[hr]=i}catch(g){Sc(e,e.return,g)}}break;case 6:if(fl(t,e),xl(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(g){Sc(e,e.return,g)}}break;case 3:if(fl(t,e),xl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:fl(t,e),xl(e);break;case 13:fl(t,e),xl(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Je())),4&a&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(d=Yo)||u,fl(t,e),Yo=d):fl(t,e),xl(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(m=Xo=u;null!==Xo;){switch(p=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Zo(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){a=h,n=h.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Sc(a,n,g)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){jl(m);continue}}null!==p?(p.return=h,Xo=p):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fl(t,e),xl(e),4&a&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(me(r,""),a.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xo=e,yl(e,t,n)}function yl(e,t,n){for(var a=0!==(1&e.mode);null!==Xo;){var r=Xo,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Go;if(!i){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Go;var c=Yo;if(Go=i,(Yo=l)&&!c)for(Xo=r;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?Nl(r):null!==l?(l.return=i,Xo=l):Nl(r);for(;null!==s;)Xo=s,yl(s,t,n),s=s.sibling;Xo=r,Go=o,Yo=c}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Xo=s):bl(e)}}function bl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||al(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yo)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vs(t,i,a);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Wt(m)}}}break;default:throw Error(s(163))}Yo||512&t.flags&&rl(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function Nl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Sc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Sc(t,r,l)}}var s=t.return;try{rl(t)}catch(l){Sc(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){Sc(t,i,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var wl,Sl=Math.ceil,kl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Al=0,Tl=null,Pl=null,Rl=0,_l=0,Ol=Sr(0),Il=0,Ll=null,Dl=0,Bl=0,Fl=0,Ml=null,zl=null,Ul=0,Wl=1/0,Vl=null,ql=!1,Hl=null,Kl=null,Ql=!1,$l=null,Gl=0,Yl=0,Jl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Al)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Rl?Rl&-Rl:null!==fs.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,a){if(50<Yl)throw Yl=0,Jl=null,Error(s(185));xt(e,n,a),0!==(2&Al)&&e===Tl||(e===Tl&&(0===(2&Al)&&(Bl|=n),4===Il&&oc(e,Rl)),ac(e,a),1===n&&0===Al&&0===(1&t.mode)&&(Wl=Je()+500,Mr&&Wr()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&a)||(r[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var a=mt(e,e===Tl?Rl:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Mr=!0,Ur(e)}(lc.bind(null,e)):Ur(lc.bind(null,e)),ir(function(){0===(6&Al)&&Wr()}),n=null;else{switch(bt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Zl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var a=mt(e,e===Tl?Rl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var r=Al;Al|=2;var i=pc();for(Tl===e&&Rl===t||(Vl=null,Wl=Je()+500,mc(e,t));;)try{vc();break}catch(l){hc(e,l)}Cs(),kl.current=i,Al=r,null!==Pl?t=0:(Tl=null,Rl=0,t=Il)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(a=r,t=sc(e,r))),1===t)throw n=Ll,mc(e,0),oc(e,a),ac(e,Je()),n;if(6===t)oc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!oa(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,a))&&(0!==(i=pt(e))&&(a=i,t=sc(e,i))),1===t))throw n=Ll,mc(e,0),oc(e,a),ac(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,zl,Vl);break;case 3:if(oc(e,a),(130023424&a)===a&&10<(t=Ul+500-Je())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(jc.bind(null,e,zl,Vl),t);break}jc(e,zl,Vl);break;case 4:if(oc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var o=31-it(a);i=1<<o,(o=t[o])>r&&(r=o),a&=~i}if(a=r,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sl(a/1960))-a)){e.timeoutHandle=ar(jc.bind(null,e,zl,Vl),a);break}jc(e,zl,Vl);break;default:throw Error(s(329))}}}return ac(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=zl,zl=n,null!==t&&ic(t)),e}function ic(e){null===zl?zl=e:zl.push.apply(zl,e)}function oc(e,t){for(t&=~Fl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function lc(e){if(0!==(6&Al))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return ac(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var a=pt(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Ll,mc(e,0),oc(e,t),ac(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,zl,Vl),ac(e,Je()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Wl=Je()+500,Mr&&Wr())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Al)&&Nc();var t=Al;Al|=1;var n=El.transition,a=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=a,El.transition=n,0===(6&(Al=t))&&Wr()}}function uc(){_l=Ol.current,kr(Ol)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Or();break;case 3:Ys(),kr(Tr),kr(Ar),ni();break;case 5:Xs(a);break;case 4:Ys();break;case 13:case 19:kr(Zs);break;case 10:Es(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Pl=e=Oc(e.current,null),Rl=_l=t,Il=0,Ll=null,Fl=Bl=Dl=0,zl=Ml=null,null!==Rs){for(t=0;t<Rs.length;t++)if(null!==(a=(n=Rs[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Rs=null}return e}function hc(e,t){for(;;){var n=Pl;try{if(Cs(),ai.current=Ji,ci){for(var a=ii.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===n||null===n.return){Il=1,Ll=t,Pl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&fo(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Il&&(Il=2),null===Ml?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Us(i,ho(0,c,t));break e;case 1:l=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Kl||!Kl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Us(i,po(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pc(){var e=kl.current;return kl.current=Ji,null===e?Ji:e}function fc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Bl)||oc(Tl,Rl)}function gc(e,t){var n=Al;Al|=2;var a=pc();for(Tl===e&&Rl===t||(Vl=null,mc(e,t));;)try{xc();break}catch(r){hc(e,r)}if(Cs(),Al=n,kl.current=a,null!==Pl)throw Error(s(261));return Tl=null,Rl=0,Il}function xc(){for(;null!==Pl;)yc(Pl)}function vc(){for(;null!==Pl&&!Ge();)yc(Pl)}function yc(e){var t=wl(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,_l)))return void(Pl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,n){var a=yt,r=El.transition;try{El.transition=null,yt=1,function(e,t,n,a){do{Nc()}while(null!==$l);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Tl&&(Pl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Tc(tt,function(){return Nc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var o=yt;yt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(er=qt,ha(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==r&&3!==m.nodeType||(l=o+r),m!==i||0!==a&&3!==m.nodeType||(c=o+a),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===r&&(l=o),h===i&&++u===a&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(j){Sc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=tl,tl=!1}(e,n),gl(n,e),pa(tr),qt=!!er,tr=er=null,e.current=n,vl(n,e,r),Ye(),Al=l,yt=o,El.transition=i}else e.current=n;if(Ql&&(Ql=!1,$l=e,Gl=r),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Gl)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===Jl?Yl++:(Yl=0,Jl=e):Yl=0,Wr()}(e,t,n,a)}finally{El.transition=r,yt=a}return null}function Nc(){if(null!==$l){var e=bt(Gl),t=El.transition,n=yt;try{if(El.transition=null,yt=16>e?16:e,null===$l)var a=!1;else{if(e=$l,$l=null,Gl=0,0!==(6&Al))throw Error(s(331));var r=Al;for(Al|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Xo=m;else for(;null!==Xo;){var h=(u=Xo).sibling,p=u.return;if(sl(u),u===d){Xo=null;break}if(null!==h){h.return=p,Xo=h;break}Xo=p}}}var f=i.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Xo=v;break e}Xo=i.return}}var y=e.current;for(Xo=y;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(N){Sc(l,l.return,N)}if(l===o){Xo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Xo=j;break e}Xo=l.return}}if(Al=r,Wr(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(N){}a=!0}return a}finally{yt=n,El.transition=t}}return!1}function wc(e,t,n){e=Ms(e,t=ho(0,t=lo(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),ac(e,t))}function Sc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Kl||!Kl.has(a))){t=Ms(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),ac(t,e));break}}t=t.return}}function kc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Il||3===Il&&(130023424&Rl)===Rl&&500>Je()-Ul?mc(e,0):Fl|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Is(e,t))&&(xt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,n)}function Tc(e,t){return Qe(e,t)}function Pc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,a){return new Pc(e,t,n,a)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,a,r,i){var o=2;if(a=e,"function"===typeof e)_c(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Lc(n.children,r,i,t);case S:o=8,r|=8;break;case k:return(e=Rc(12,n,t,2|r)).elementType=k,e.lanes=i,e;case T:return(e=Rc(13,n,t,r)).elementType=T,e.lanes=i,e;case P:return(e=Rc(19,n,t,r)).elementType=P,e.lanes=i,e;case O:return Dc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case A:o=11;break e;case R:o=14;break e;case _:o=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function Lc(e,t,n,a){return(e=Rc(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Rc(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,a,r,s,i,o,l){return e=new Mc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Uc(e){if(!e)return Er;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(_r(n))return Lr(e,n,t)}return t}function Wc(e,t,n,a,r,s,i,o,l){return(e=zc(n,a,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=Fs(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,r),e.current.lanes=r,xt(e,r,a),ac(e,a),e}function Vc(e,t,n,a){var r=t.current,s=ec(),i=tc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Ms(r,t,i))&&(nc(e,r,i,s),zs(e,r,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:To(t),hs();break;case 5:Js(t);break;case 1:_r(t.type)&&Dr(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(Ns,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Cr(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);Cr(Zs,1&Zs.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Wo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,rs&&0!==(1048576&t.flags)&&Zr(t,Kr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vo(e,t),e=t.pendingProps;var r=Rr(t,Ar.current);Ts(t,n),r=fi(null,t,a,e,r,n);var i=gi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(a)?(i=!0,Dr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ds(t),r.updater=ao,t.stateNode=r,r._reactInternals=t,oo(t,a,e,n),t=Ao(null,t,a,!0,i,n)):(t.tag=0,rs&&i&&es(t),bo(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return _c(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(a),e=to(a,e),r){case 0:t=Co(null,t,a,e,n);break e;case 1:t=Eo(null,t,a,e,n);break e;case 11:t=jo(null,t,a,e,n);break e;case 14:t=No(null,t,a,to(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Co(e,t,a,r=t.elementType===a?r:to(a,r),n);case 1:return a=t.type,r=t.pendingProps,Eo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 3:e:{if(To(t),null===e)throw Error(s(387));a=t.pendingProps,r=(i=t.memoizedState).element,Bs(e,t),Ws(t,a,null,n);var o=t.memoizedState;if(a=o.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Po(e,t,a,n,r=lo(Error(s(423)),t));break e}if(a!==r){t=Po(e,t,a,n,r=lo(Error(s(424)),t));break e}for(as=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),a===r){t=qo(e,t,n);break e}bo(e,t,a,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,o=r.children,nr(a,r)?o=null:null!==i&&nr(a,i)&&(t.flags|=32),ko(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Bo(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=bs(t,null,a,n):bo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,jo(e,t,a,r=t.elementType===a?r:to(a,r),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,o=r.value,Cr(Ns,a._currentValue),a._currentValue=o,null!==i)if(oa(i.value,o)){if(i.children===r.children&&!Tr.current){t=qo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Fs(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),As(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),As(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ts(t,n),a=a(r=Ps(r)),t.flags|=1,bo(e,t,a,n),t.child;case 14:return r=to(a=t.type,t.pendingProps),No(e,t,a,r=to(a.type,r),n);case 15:return wo(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:to(a,r),Vo(e,t),t.tag=1,_r(a)?(e=!0,Dr(t)):e=!1,Ts(t,n),so(t,a,r),oo(t,a,r,n),Ao(null,t,a,!0,e,n);case 19:return Wo(e,t,n);case 22:return So(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof r){var o=r;r=function(){var e=qc(i);o.call(e)}}Vc(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=qc(i);s.call(e)}}var i=Wc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[pr]=i.current,Wa(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var o=a;a=function(){var e=qc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[pr]=l.current,Wa(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,l,n,a)}),l}(n,t,e,r,a);return qc(i)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[pr]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Bt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ac(t,Je()),0===(6&Al)&&(Wl=Je()+500,Wr()))}break;case 13:dc(function(){var t=Is(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},Nt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Is(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(s(90));Q(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[yr,br,jr,Ce,Ee,cc]},td={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,a="",r=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,a,r),e[pr]=t.current,Wa(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,r,0,i,o),e[pr]=t.current,Wa(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Gc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,a,r,s,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,s,i,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,n.d(s,i),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Sn,hasStandardBrowserEnv:()=>Cn,hasStandardBrowserWebWorkerEnv:()=>En,navigator:()=>kn,origin:()=>An});var t={};n.r(t),n.d(t,{Decoder:()=>is,Encoder:()=>rs,PacketType:()=>as,protocol:()=>ns});var a,r=n(43),s=n.t(r,2),i=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,d=s.history,p=a.Pop,f=null,g=x();function x(){return(d.state||{idx:null}).idx}function v(){p=a.Pop;let e=x(),t=null==e?null:e-g;g=e,f&&f({action:p,location:b.location,delta:t})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let b={get action(){return p},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),f=e,()=>{s.removeEventListener(l,v),f=null}},createHref:e=>t(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=a.Push;let r=m(b.location,e,t);n&&n(r,e),g=x()+1;let o=u(r,g),l=b.createHref(r);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}i&&f&&f({action:p,location:b.location,delta:1})},replace:function(e,t){p=a.Replace;let r=m(b.location,e,t);n&&n(r,e),g=x();let s=u(r,g),o=b.createHref(r);d.replaceState(s,"",o),i&&f&&f({action:p,location:b.location,delta:0})},go:e=>d.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,a){let r=_(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let s=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=R(r);i=T(s[o],e,a)}return i}function y(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let o=B([a,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of b(e.path))r(e,t,a);else r(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let i=b(a.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,w=2,S=1,k=10,C=-2,E=e=>"*"===e;function A(e,t){let n=e.split("/"),a=n.length;return n.some(E)&&(a+=C),t&&(a+=w),n.filter(e=>!E(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?S:k),a)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},s="/",i=[];for(let o=0;o<a.length;++o){let e=a[o],l=o===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:B([s,d.pathname]),pathnameBase:F(B([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=B([s,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function O(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function L(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=p(e):(r=o({},e),c(!r.pathname||!r.pathname.includes("?"),O("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),O("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),O("#","search","hash",r)));let s,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!a&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(a),hash:z(r)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],V=(new Set(W),["get",...W]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},q.apply(this,arguments)}const H=r.createContext(null);const K=r.createContext(null);const Q=r.createContext(null);const $=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function J(){return null!=r.useContext($)}function X(){return J()||c(!1),r.useContext($).location}function Z(e){r.useContext(Q).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=de(le.UseNavigateStable),t=me(ce.UseNavigateStable),n=r.useRef(!1);Z(()=>{n.current=!0});let a=r.useCallback(function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,q({fromRouteId:t},r)))},[e,t]);return a}():function(){J()||c(!1);let e=r.useContext(H),{basename:t,future:n,navigator:a}=r.useContext(Q),{matches:s}=r.useContext(G),{pathname:i}=X(),o=JSON.stringify(L(s,n.v7_relativeSplatPath)),l=r.useRef(!1);Z(()=>{l.current=!0});let d=r.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void a.go(n);let s=D(n,JSON.parse(o),i,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:B([t,s.pathname])),(r.replace?a.replace:a.push)(s,r.state,r)},[t,a,o,i,e]);return d}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(Q),{matches:s}=r.useContext(G),{pathname:i}=X(),o=JSON.stringify(L(s,a.v7_relativeSplatPath));return r.useMemo(()=>D(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ne(e,t,n,s){J()||c(!1);let{navigator:i}=r.useContext(Q),{matches:o}=r.useContext(G),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,h=X();if(t){var f;let e="string"===typeof t?p(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=h;let g=m.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let b=oe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:B([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?r.createElement($.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},b):b}function ae(){let e=function(){var e;let t=r.useContext(Y),n=ue(ce.UseRouteError),a=me(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const re=r.createElement(ae,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},a)}function oe(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<o.length;r++){let e=o[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,a,s)=>{let i,c=!1,m=null,h=null;var p;n&&(i=l&&a.route.id?l[a.route.id]:void 0,m=a.route.errorElement||re,d&&(u<0&&0===s?(p="route-fallback",!1||he[p]||(he[p]=!0),c=!0,h=null):u===s&&(c=!0,h=a.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=i?m:c?h:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(ie,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=r.useContext(H);return t||c(!1),t}function ue(e){let t=r.useContext(K);return t||c(!1),t}function me(e){let t=function(){let e=r.useContext(G);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const he={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function fe(e){let{to:t,replace:n,state:a,relative:s}=e;J()||c(!1);let{future:i,static:o}=r.useContext(Q),{matches:l}=r.useContext(G),{pathname:d}=X(),u=ee(),m=D(t,L(l,i.v7_relativeSplatPath),d,"path"===s),h=JSON.stringify(m);return r.useEffect(()=>u(JSON.parse(h),{replace:n,state:a,relative:s}),[u,h,s,n,a]),null}function ge(e){c(!1)}function xe(e){let{basename:t="/",children:n=null,location:s,navigationType:i=a.Pop,navigator:o,static:l=!1,future:d}=e;J()&&c(!1);let u=t.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof s&&(s=p(s));let{pathname:h="/",search:f="",hash:g="",state:x=null,key:v="default"}=s,y=r.useMemo(()=>{let e=_(h,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:x,key:v},navigationType:i}},[u,h,f,g,x,v,i]);return null==y?null:r.createElement(Q.Provider,{value:m},r.createElement($.Provider,{children:n,value:y}))}function ve(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise(()=>{});r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ye(e.props.children,s)),n.push(i)}),n}function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function je(e){var t=function(e,t){if("object"!=be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==be(t)?t:t+""}function Ne(e,t,n){return(t=je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach(function(t){Ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ke(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}function Ce(e,t){if(null==e)return{};var n,a,r=ke(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ee(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ee(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}const Ae=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=Ee(e))&&(a&&(a+=" "),a+=t);return a},Te=["theme","type"],Pe=["delay","staleId"],Re=e=>"number"==typeof e&&!isNaN(e),_e=e=>"string"==typeof e,Oe=e=>"function"==typeof e,Ie=e=>_e(e)||Oe(e)?e:null,Le=e=>(0,r.isValidElement)(e)||_e(e)||Oe(e)||Re(e);function De(e){let{enter:t,exit:n,appendPosition:a=!1,collapse:s=!0,collapseDuration:i=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m}=e;const h=a?"".concat(t,"--").concat(l):t,p=a?"".concat(n,"--").concat(l):n,f=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{const e=u.current,t=h.split(" "),n=a=>{a.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===f.current&&"animationcancel"!==a.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{const e=u.current,t=()=>{e.removeEventListener("animationend",t),s?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:a,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=a+"px",r.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}(e,d,i):d()};m||(c?t():(f.current=1,e.className+=" ".concat(p),e.addEventListener("animationend",t)))},[m]),r.createElement(r.Fragment,null,o)}}function Be(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Fe={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Me=e=>{let{theme:t,type:n}=e,a=Ce(e,Te);return r.createElement("svg",Se({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},a))},ze={info:function(e){return r.createElement(Me,Se({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(Me,Se({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(Me,Se({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(Me,Se({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function Ue(e){const[,t]=(0,r.useReducer)(e=>e+1,0),[n,a]=(0,r.useState)([]),s=(0,r.useRef)(null),i=(0,r.useRef)(new Map).current,o=e=>-1!==n.indexOf(e),l=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>i.get(e)}).current;function c(e){let{containerId:t}=e;const{limit:n}=l.props;!n||t&&l.containerId!==t||(l.count-=l.queue.length,l.queue=[])}function d(e){a(t=>null==e?[]:t.filter(t=>t!==e))}function u(){const{toastContent:e,toastProps:t,staleId:n}=l.queue.shift();h(e,t,n)}function m(e,n){let{delay:a,staleId:o}=n,c=Ce(n,Pe);if(!Le(e)||function(e){return!s.current||l.props.enableMultiContainer&&e.containerId!==l.props.containerId||i.has(e.toastId)&&null==e.updateId}(c))return;const{toastId:m,updateId:p,data:f}=c,{props:g}=l,x=()=>d(m),v=null==p;v&&l.count++;const y=Se(Se(Se({},g),{},{style:g.toastStyle,key:l.toastKey++},Object.fromEntries(Object.entries(c).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:m,updateId:p,data:f,closeToast:x,isIn:!1,className:Ie(c.className||g.toastClassName),bodyClassName:Ie(c.bodyClassName||g.bodyClassName),progressClassName:Ie(c.progressClassName||g.progressClassName),autoClose:!c.isLoading&&(b=c.autoClose,j=g.autoClose,!1===b||Re(b)&&b>0?b:j),deleteToast(){const e=Be(i.get(m),"removed");i.delete(m),Fe.emit(4,e);const n=l.queue.length;if(l.count=null==m?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),n>0){const e=null==m?l.props.limit:1;if(1===n||1===e)l.displayedToast++,u();else{const t=e>n?n:e;l.displayedToast=t;for(let e=0;e<t;e++)u()}}else t()}});var b,j;y.iconOut=function(e){let{theme:t,type:n,isLoading:a,icon:s}=e,i=null;const o={theme:t,type:n};return!1===s||(Oe(s)?i=s(o):(0,r.isValidElement)(s)?i=(0,r.cloneElement)(s,o):_e(s)||Re(s)?i=s:a?i=ze.spinner():(e=>e in ze)(n)&&(i=ze[n](o))),i}(y),Oe(c.onOpen)&&(y.onOpen=c.onOpen),Oe(c.onClose)&&(y.onClose=c.onClose),y.closeButton=g.closeButton,!1===c.closeButton||Le(c.closeButton)?y.closeButton=c.closeButton:!0===c.closeButton&&(y.closeButton=!Le(g.closeButton)||g.closeButton);let N=e;(0,r.isValidElement)(e)&&!_e(e.type)?N=(0,r.cloneElement)(e,{closeToast:x,toastProps:y,data:f}):Oe(e)&&(N=e({closeToast:x,toastProps:y,data:f})),g.limit&&g.limit>0&&l.count>g.limit&&v?l.queue.push({toastContent:N,toastProps:y,staleId:o}):Re(a)?setTimeout(()=>{h(N,y,o)},a):h(N,y,o)}function h(e,t,n){const{toastId:r}=t;n&&i.delete(n);const s={content:e,props:t};i.set(r,s),a(e=>[...e,r].filter(e=>e!==n)),Fe.emit(4,Be(s,null==s.props.updateId?"added":"updated"))}return(0,r.useEffect)(()=>(l.containerId=e.containerId,Fe.cancelEmit(3).on(0,m).on(1,e=>s.current&&d(e)).on(5,c).emit(2,l),()=>{i.clear(),Fe.emit(3,l)}),[]),(0,r.useEffect)(()=>{l.props=e,l.isToastActive=o,l.displayedToast=n.length}),{getToastToRender:function(t){const n=new Map,a=Array.from(i.values());return e.newestOnTop&&a.reverse(),a.forEach(e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:s,isToastActive:o}}function We(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function Ve(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function qe(e){const[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),i=(0,r.useRef)(null),o=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,r.useRef)(e),{autoClose:c,pauseOnHover:d,closeToast:u,onClick:m,closeOnClick:h}=e;function p(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",v),document.addEventListener("touchend",y);const n=i.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=We(t.nativeEvent),o.y=Ve(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function f(t){if(o.boundingRect){const{top:n,bottom:a,left:r,right:s}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=r&&o.x<=s&&o.y>=n&&o.y<=a?x():g()}}function g(){n(!0)}function x(){n(!1)}function v(n){const a=i.current;o.canDrag&&a&&(o.didMove=!0,t&&x(),o.x=We(n),o.y=Ve(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),a.style.transform="translate".concat(e.draggableDirection,"(").concat(o.delta,"px)"),a.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function y(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",y);const t=i.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate".concat(e.draggableDirection,"(0)"),t.style.opacity="1"}}(0,r.useEffect)(()=>{l.current=e}),(0,r.useEffect)(()=>(i.current&&i.current.addEventListener("d",g,{once:!0}),Oe(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=l.current;Oe(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}),[]),(0,r.useEffect)(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",g),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const b={onMouseDown:p,onTouchStart:p,onMouseUp:f,onTouchEnd:f};return c&&d&&(b.onMouseEnter=x,b.onMouseLeave=g),h&&(b.onClick=e=>{m&&m(e),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:x,isRunning:t,preventExitTransition:a,toastRef:i,eventHandlers:b}}function He(e){let{closeToast:t,theme:n,ariaLabel:a="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":a},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ke(e){let{delay:t,isRunning:n,closeToast:a,type:s="default",hide:i,className:o,style:l,controlledProgress:c,progress:d,rtl:u,isIn:m,theme:h}=e;const p=i||c&&0===d,f=Se(Se({},l),{},{animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused",opacity:p?0:1});c&&(f.transform="scaleX(".concat(d,")"));const g=Ae("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(s),{"Toastify__progress-bar--rtl":u}),x=Oe(o)?o({rtl:u,type:s,defaultClassName:g}):Ae(g,o);return r.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:x,style:f,[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&a()}})}const Qe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:s}=qe(e),{closeButton:i,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:m,transition:h,position:p,className:f,style:g,bodyClassName:x,bodyStyle:v,progressClassName:y,progressStyle:b,updateId:j,role:N,progress:w,rtl:S,toastId:k,deleteToast:C,isIn:E,isLoading:A,iconOut:T,closeOnClick:P,theme:R}=e,_=Ae("Toastify__toast","Toastify__toast-theme--".concat(R),"Toastify__toast--".concat(d),{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":P}),O=Oe(f)?f({rtl:S,position:p,type:d,defaultClassName:_}):Ae(_,f),I=!!w||!l,L={closeToast:m,type:d,theme:R};let D=null;return!1===i||(D=Oe(i)?i(L):(0,r.isValidElement)(i)?(0,r.cloneElement)(i,L):He(L)),r.createElement(h,{isIn:E,done:C,position:p,preventExitTransition:n,nodeRef:a},r.createElement("div",Se(Se({id:k,onClick:c,className:O},s),{},{style:g,ref:a}),r.createElement("div",Se(Se({},E&&{role:N}),{},{className:Oe(x)?x({type:d}):Ae("Toastify__toast-body",x),style:v}),null!=T&&r.createElement("div",{className:Ae("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!A})},T),r.createElement("div",null,o)),D,r.createElement(Ke,Se(Se({},j&&!I?{key:"pb-".concat(j)}:{}),{},{rtl:S,theme:R,delay:l,isRunning:t,isIn:E,closeToast:m,hide:u,type:d,style:b,className:y,controlledProgress:I,progress:w||0}))))},$e=function(e,t){return void 0===t&&(t=!1),{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Ge=De($e("bounce",!0)),Ye=(De($e("slide",!0)),De($e("zoom")),De($e("flip")),(0,r.forwardRef)((e,t)=>{const{getToastToRender:n,containerRef:a,isToastActive:s}=Ue(e),{className:i,style:o,rtl:l,containerId:c}=e;function d(e){const t=Ae("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":l});return Oe(i)?i({position:e,rtl:l,defaultClassName:t}):Ae(t,Ie(i))}return(0,r.useEffect)(()=>{t&&(t.current=a.current)},[]),r.createElement("div",{ref:a,className:"Toastify",id:c},n((e,t)=>{const n=t.length?Se({},o):Se(Se({},o),{},{pointerEvents:"none"});return r.createElement("div",{className:d(e),style:n,key:"container-".concat(e)},t.map((e,n)=>{let{content:a,props:i}=e;return r.createElement(Qe,Se(Se({},i),{},{isIn:s(i.toastId),style:Se(Se({},i.style),{},{"--nth":n+1,"--len":t.length}),key:"toast-".concat(i.key)}),a)}))}))}));Ye.displayName="ToastContainer",Ye.defaultProps={position:"top-right",transition:Ge,autoClose:5e3,closeButton:He,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Je,Xe=new Map,Ze=[],et=1;function tt(){return""+et++}function nt(e){return e&&(_e(e.toastId)||Re(e.toastId))?e.toastId:tt()}function at(e,t){return Xe.size>0?Fe.emit(0,e,t):Ze.push({content:e,options:t}),t.toastId}function rt(e,t){return Se(Se({},t),{},{type:t&&t.type||e,toastId:nt(t)})}function st(e){return(t,n)=>at(t,rt(e,n))}function it(e,t){return at(e,rt("default",t))}it.loading=(e,t)=>at(e,rt("default",Se({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),it.promise=function(e,t,n){let a,{pending:r,error:s,success:i}=t;r&&(a=_e(r)?it.loading(r,n):it.loading(r.render,Se(Se({},n),r)));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,r)=>{if(null==t)return void it.dismiss(a);const s=Se(Se(Se({type:e},o),n),{},{data:r}),i=_e(t)?{render:t}:t;return a?it.update(a,Se(Se({},s),i)):it(i.render,Se(Se({},s),i)),r},c=Oe(e)?e():e;return c.then(e=>l("success",i,e)).catch(e=>l("error",s,e)),c},it.success=st("success"),it.info=st("info"),it.error=st("error"),it.warning=st("warning"),it.warn=it.warning,it.dark=(e,t)=>at(e,rt("default",Se({theme:"dark"},t))),it.dismiss=e=>{Xe.size>0?Fe.emit(1,e):Ze=Ze.filter(t=>null!=e&&t.options.toastId!==e)},it.clearWaitingQueue=function(e){return void 0===e&&(e={}),Fe.emit(5,e)},it.isActive=e=>{let t=!1;return Xe.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},it.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{const n=function(e,t){let{containerId:n}=t;const a=Xe.get(n||Je);return a&&a.getToast(e)}(e,t);if(n){const{props:a,content:r}=n,s=Se(Se(Se({delay:100},a),t),{},{toastId:t.toastId||e,updateId:tt()});s.toastId!==e&&(s.staleId=e);const i=s.render||r;delete s.render,at(i,s)}},0)},it.done=e=>{it.update(e,{progress:1})},it.onChange=e=>(Fe.on(4,e),()=>{Fe.off(4,e)}),it.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},it.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Fe.on(2,e=>{Je=e.containerId||e,Xe.set(Je,e),Ze.forEach(e=>{Fe.emit(0,e.content,e.options)}),Ze=[]}).on(3,e=>{Xe.delete(e.containerId||e),0===Xe.size&&Fe.off(0).off(1).off(5)});var ot=n(950),lt=n.t(ot,2);function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ct.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ut=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(sm){}new Map;const mt=s.startTransition;lt.flushSync,s.useId;function ht(e){let{basename:t,children:n,future:a,window:s}=e,i=r.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),f(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return m("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,e)}({window:s,v5Compat:!0}));let o=i.current,[l,c]=r.useState({action:o.action,location:o.location}),{v7_startTransition:d}=a||{},u=r.useCallback(e=>{d&&mt?mt(()=>c(e)):c(e)},[c,d]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.useEffect(()=>pe(a),[a]),r.createElement(xe,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:a})}const pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=r.forwardRef(function(e,t){let n,{onClick:a,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:m,viewTransition:p}=e,f=dt(e,ut),{basename:g}=r.useContext(Q),x=!1;if("string"===typeof u&&ft.test(u)&&(n=u,pt))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=_(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:x=!0}catch(sm){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;J()||c(!1);let{basename:a,navigator:s}=r.useContext(Q),{hash:i,pathname:o,search:l}=te(e,{relative:n}),d=o;return"/"!==a&&(d="/"===o?a:B([a,o])),s.createHref({pathname:d,search:l,hash:i})}(u,{relative:s}),y=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),d=X(),u=te(e,{relative:o});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:h(d)===h(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,a,s,n,e,i,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:m,relative:s,viewTransition:p});return r.createElement("a",ct({},f,{href:n||v,onClick:x||i?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:t,target:d}))});var xt,vt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xt||(xt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(vt||(vt={}));function yt(e,t){return function(){return e.apply(t,arguments)}}const{toString:bt}=Object.prototype,{getPrototypeOf:jt}=Object,{iterator:Nt,toStringTag:wt}=Symbol,St=(e=>t=>{const n=bt.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kt=e=>(e=e.toLowerCase(),t=>St(t)===e),Ct=e=>t=>typeof t===e,{isArray:Et}=Array,At=Ct("undefined");function Tt(e){return null!==e&&!At(e)&&null!==e.constructor&&!At(e.constructor)&&_t(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pt=kt("ArrayBuffer");const Rt=Ct("string"),_t=Ct("function"),Ot=Ct("number"),It=e=>null!==e&&"object"===typeof e,Lt=e=>{if("object"!==St(e))return!1;const t=jt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(wt in e)&&!(Nt in e)},Dt=kt("Date"),Bt=kt("File"),Ft=kt("Blob"),Mt=kt("FileList"),zt=kt("URLSearchParams"),[Ut,Wt,Vt,qt]=["ReadableStream","Request","Response","Headers"].map(kt);function Ht(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Et(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Tt(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let i;for(n=0;n<s;n++)i=a[n],t.call(null,e[i],i,e)}}function Kt(e,t){if(Tt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const Qt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,$t=e=>!At(e)&&e!==Qt;const Gt=(Yt="undefined"!==typeof Uint8Array&&jt(Uint8Array),e=>Yt&&e instanceof Yt);var Yt;const Jt=kt("HTMLFormElement"),Xt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Zt=kt("RegExp"),en=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};Ht(n,(n,r)=>{let s;!1!==(s=t(n,r,e))&&(a[r]=s||n)}),Object.defineProperties(e,a)};const tn=kt("AsyncFunction"),nn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],Qt.addEventListener("message",e=>{let{source:t,data:r}=e;t===Qt&&r===n&&a.length&&a.shift()()},!1),e=>{a.push(e),Qt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,_t(Qt.postMessage)),an="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Qt):"undefined"!==typeof process&&process.nextTick||nn,rn={isArray:Et,isArrayBuffer:Pt,isBuffer:Tt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||_t(e.append)&&("formdata"===(t=St(e))||"object"===t&&_t(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Pt(e.buffer),t},isString:Rt,isNumber:Ot,isBoolean:e=>!0===e||!1===e,isObject:It,isPlainObject:Lt,isEmptyObject:e=>{if(!It(e)||Tt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(sm){return!1}},isReadableStream:Ut,isRequest:Wt,isResponse:Vt,isHeaders:qt,isUndefined:At,isDate:Dt,isFile:Bt,isBlob:Ft,isRegExp:Zt,isFunction:_t,isStream:e=>It(e)&&_t(e.pipe),isURLSearchParams:zt,isTypedArray:Gt,isFileList:Mt,forEach:Ht,merge:function e(){const{caseless:t,skipUndefined:n}=$t(this)&&this||{},a={},r=(r,s)=>{const i=t&&Kt(a,s)||s;Lt(a[i])&&Lt(r)?a[i]=e(a[i],r):Lt(r)?a[i]=e({},r):Et(r)?a[i]=r.slice():n&&At(r)||(a[i]=r)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Ht(arguments[s],r);return a},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ht(t,(t,a)=>{n&&_t(t)?e[a]=yt(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,s,i;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],a&&!a(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&jt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:St,kindOfTest:kt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Et(e))return e;let t=e.length;if(!Ot(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Nt]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:Jt,hasOwnProperty:Xt,hasOwnProp:Xt,reduceDescriptors:en,freezeMethods:e=>{en(e,(t,n)=>{if(_t(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];_t(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Et(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Kt,global:Qt,isContextDefined:$t,isSpecCompliantForm:function(e){return!!(e&&_t(e.append)&&"FormData"===e[wt]&&e[Nt])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(It(e)){if(t.indexOf(e)>=0)return;if(Tt(e))return e;if(!("toJSON"in e)){t[a]=e;const r=Et(e)?[]:{};return Ht(e,(e,t)=>{const s=n(e,a+1);!At(s)&&(r[t]=s)}),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:tn,isThenable:e=>e&&(It(e)||_t(e))&&_t(e.then)&&_t(e.catch),setImmediate:nn,asap:an,isIterable:e=>null!=e&&_t(e[Nt])};function sn(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r,this.status=r.status?r.status:null)}rn.inherits(sn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rn.toJSONObject(this.config),code:this.code,status:this.status}}});const on=sn.prototype,ln={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ln[e]={value:e}}),Object.defineProperties(sn,ln),Object.defineProperty(on,"isAxiosError",{value:!0}),sn.from=(e,t,n,a,r,s)=>{const i=Object.create(on);rn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return sn.call(i,o,l,n,a,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const cn=sn;function dn(e){return rn.isPlainObject(e)||rn.isArray(e)}function un(e){return rn.endsWith(e,"[]")?e.slice(0,-2):e}function mn(e,t,n){return e?e.concat(t).map(function(e,t){return e=un(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const hn=rn.toFlatObject(rn,{},null,function(e){return/^is[A-Z]/.test(e)});const pn=function(e,t,n){if(!rn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=rn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!rn.isUndefined(t[e])})).metaTokens,r=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&rn.isSpecCompliantForm(t);if(!rn.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(rn.isDate(e))return e.toISOString();if(rn.isBoolean(e))return e.toString();if(!o&&rn.isBlob(e))throw new cn("Blob is not supported. Use a Buffer instead.");return rn.isArrayBuffer(e)||rn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(rn.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(rn.isArray(e)&&function(e){return rn.isArray(e)&&!e.some(dn)}(e)||(rn.isFileList(e)||rn.endsWith(n,"[]"))&&(o=rn.toArray(e)))return n=un(n),o.forEach(function(e,a){!rn.isUndefined(e)&&null!==e&&t.append(!0===i?mn([n],a,s):null===i?n:n+"[]",l(e))}),!1;return!!dn(e)||(t.append(mn(r,n,s),l(e)),!1)}const d=[],u=Object.assign(hn,{defaultVisitor:c,convertValue:l,isVisitable:dn});if(!rn.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!rn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),rn.forEach(n,function(n,s){!0===(!(rn.isUndefined(n)||null===n)&&r.call(t,n,rn.isString(s)?s.trim():s,a,u))&&e(n,a?a.concat(s):[s])}),d.pop()}}(e),t};function fn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function gn(e,t){this._pairs=[],e&&pn(e,this,t)}const xn=gn.prototype;xn.append=function(e,t){this._pairs.push([e,t])},xn.toString=function(e){const t=e?function(t){return e.call(this,t,fn)}:fn;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const vn=gn;function yn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bn(e,t,n){if(!t)return e;const a=n&&n.encode||yn;rn.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(s=r?r(t,n):rn.isURLSearchParams(t)?t.toString():new vn(t,n).toString(a),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const jn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rn.forEach(this.handlers,function(t){null!==t&&e(t)})}},Nn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:vn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Sn="undefined"!==typeof window&&"undefined"!==typeof document,kn="object"===typeof navigator&&navigator||void 0,Cn=Sn&&(!kn||["ReactNative","NativeScript","NS"].indexOf(kn.product)<0),En="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,An=Sn&&window.location.href||"http://localhost",Tn=Se(Se({},e),wn);const Pn=function(e){function t(e,n,a,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=r>=e.length;if(s=!s&&rn.isArray(a)?a.length:s,o)return rn.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!i;a[s]&&rn.isObject(a[s])||(a[s]=[]);return t(e,n,a[s],r)&&rn.isArray(a[s])&&(a[s]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let s;for(a=0;a<r;a++)s=n[a],t[s]=e[s];return t}(a[s])),!i}if(rn.isFormData(e)&&rn.isFunction(e.entries)){const n={};return rn.forEachEntry(e,(e,a)=>{t(function(e){return rn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const Rn={transitional:Nn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=rn.isObject(e);r&&rn.isHTMLForm(e)&&(e=new FormData(e));if(rn.isFormData(e))return a?JSON.stringify(Pn(e)):e;if(rn.isArrayBuffer(e)||rn.isBuffer(e)||rn.isStream(e)||rn.isFile(e)||rn.isBlob(e)||rn.isReadableStream(e))return e;if(rn.isArrayBufferView(e))return e.buffer;if(rn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return pn(e,new Tn.classes.URLSearchParams,Se({visitor:function(e,t,n,a){return Tn.isNode&&rn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=rn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return pn(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(rn.isString(e))try{return(t||JSON.parse)(e),rn.trim(e)}catch(sm){if("SyntaxError"!==sm.name)throw sm}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Rn.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(rn.isResponse(e)||rn.isReadableStream(e))return e;if(e&&rn.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(sm){if(n){if("SyntaxError"===sm.name)throw cn.from(sm,cn.ERR_BAD_RESPONSE,this,null,this.response);throw sm}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rn.forEach(["delete","get","head","post","put","patch"],e=>{Rn.headers[e]={}});const _n=Rn,On=rn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),In=Symbol("internals");function Ln(e){return e&&String(e).trim().toLowerCase()}function Dn(e){return!1===e||null==e?e:rn.isArray(e)?e.map(Dn):String(e)}function Bn(e,t,n,a,r){return rn.isFunction(a)?a.call(this,t,n):(r&&(t=n),rn.isString(t)?rn.isString(a)?-1!==t.indexOf(a):rn.isRegExp(a)?a.test(t):void 0:void 0)}class Fn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Ln(t);if(!r)throw new Error("header name must be a non-empty string");const s=rn.findKey(a,r);(!s||void 0===a[s]||!0===n||void 0===n&&!1!==a[s])&&(a[s||t]=Dn(e))}const s=(e,t)=>rn.forEach(e,(e,n)=>r(e,n,t));if(rn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(rn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&On[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(rn.isObject(e)&&rn.isIterable(e)){let n,a,r={};for(const t of e){if(!rn.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[a=t[0]]=(n=r[a])?rn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Ln(e)){const n=rn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(rn.isFunction(t))return t.call(this,e,n);if(rn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ln(e)){const n=rn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Ln(e)){const r=rn.findKey(n,e);!r||t&&!Bn(0,n[r],r,t)||(delete n[r],a=!0)}}return rn.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Bn(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return rn.forEach(this,(a,r)=>{const s=rn.findKey(n,r);if(s)return t[s]=Dn(a),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Dn(a),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return rn.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&rn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[In]=this[In]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Ln(e);t[a]||(!function(e,t){const n=rn.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[a]=!0)}return rn.isArray(e)?e.forEach(a):a(e),this}}Fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rn.reduceDescriptors(Fn.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),rn.freezeMethods(Fn);const Mn=Fn;function zn(e,t){const n=this||_n,a=t||n,r=Mn.from(a.headers);let s=a.data;return rn.forEach(e,function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function Un(e){return!(!e||!e.__CANCEL__)}function Wn(e,t,n){cn.call(this,null==e?"canceled":e,cn.ERR_CANCELED,t,n),this.name="CanceledError"}rn.inherits(Wn,cn,{__CANCEL__:!0});const Vn=Wn;function qn(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new cn("Request failed with status code "+n.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Hn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=a[i];r||(r=l),n[s]=o,a[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-r<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const Kn=function(e,t){let n,a,r=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,a||(a=setTimeout(()=>{a=null,i(n)},s-t)))},()=>n&&i(n)]},Qn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const r=Hn(50,250);return Kn(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-a,l=r(o);a=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},$n=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Gn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return rn.asap(()=>e(...n))},Yn=Tn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Tn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,Jn=Tn.hasStandardBrowserEnv?{write(e,t,n,a,r,s){const i=[e+"="+encodeURIComponent(t)];rn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),rn.isString(a)&&i.push("path="+a),rn.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Xn(e,t,n){let a=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Zn=e=>e instanceof Mn?Se({},e):e;function ea(e,t){t=t||{};const n={};function a(e,t,n,a){return rn.isPlainObject(e)&&rn.isPlainObject(t)?rn.merge.call({caseless:a},e,t):rn.isPlainObject(t)?rn.merge({},t):rn.isArray(t)?t.slice():t}function r(e,t,n,r){return rn.isUndefined(t)?rn.isUndefined(e)?void 0:a(void 0,e,0,r):a(e,t,0,r)}function s(e,t){if(!rn.isUndefined(t))return a(void 0,t)}function i(e,t){return rn.isUndefined(t)?rn.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function o(n,r,s){return s in t?a(n,r):s in e?a(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>r(Zn(e),Zn(t),0,!0)};return rn.forEach(Object.keys(Se(Se({},e),t)),function(a){const s=l[a]||r,i=s(e[a],t[a],a);rn.isUndefined(i)&&s!==o||(n[a]=i)}),n}const ta=e=>{const t=ea({},e);let{data:n,withXSRFToken:a,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Mn.from(i),t.url=bn(Xn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),rn.isFormData(n))if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(rn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,a]=e;t.includes(n.toLowerCase())&&i.set(n,a)})}if(Tn.hasStandardBrowserEnv&&(a&&rn.isFunction(a)&&(a=a(t)),a||!1!==a&&Yn(t.url))){const e=r&&s&&Jn.read(s);e&&i.set(r,e)}return t},na="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=ta(e);let r=a.data;const s=Mn.from(a.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(i),a.signal&&a.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function g(){if(!f)return;const a=Mn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());qn(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new cn("Request aborted",cn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const a=t&&t.message?t.message:"Network Error",r=new cn(a,cn.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const r=a.transitional||Nn;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new cn(t,r.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,e,f)),f=null},void 0===r&&s.setContentType(null),"setRequestHeader"in f&&rn.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),rn.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),h&&([l,d]=Qn(h,!0),f.addEventListener("progress",l)),m&&f.upload&&([o,c]=Qn(m),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(i=t=>{f&&(n(!t||t.type?new Vn(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(i),a.signal&&(a.signal.aborted?i():a.signal.addEventListener("abort",i)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);x&&-1===Tn.protocols.indexOf(x)?n(new cn("Unsupported protocol "+x+":",cn.ERR_BAD_REQUEST,e)):f.send(r||null)})},aa=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;a.abort(t instanceof cn?t:new Vn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,r(new cn("timeout ".concat(t," of ms exceeded"),cn.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=a;return o.unsubscribe=()=>rn.asap(i),o}};function ra(e,t){this.v=e,this.k=t}function sa(e){return function(){return new ia(e.apply(this,arguments))}}function ia(e){var t,n;function a(t,n){try{var s=e[t](n),i=s.value,o=i instanceof ra;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return a(l,n);n=e[l](n).value}r(s.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(s,i){var o={key:e,arg:r,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function oa(e){return new ra(e,0)}function la(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new ra(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function ca(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new da(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function da(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return da=function(e){this.s=e,this.n=e.next},da.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new da(e)}ia.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ia.prototype.next=function(e){return this._invoke("next",e)},ia.prototype.throw=function(e){return this._invoke("throw",e)},ia.prototype.return=function(e){return this._invoke("return",e)};const ua=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,r=0;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},ma=function(){var e=sa(function*(e,t){var n,a=!1,r=!1;try{for(var s,i=ca(ha(e));a=!(s=yield oa(i.next())).done;a=!1){const e=s.value;yield*la(ca(ua(e,t)))}}catch(o){r=!0,n=o}finally{try{a&&null!=i.return&&(yield oa(i.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ha=function(){var e=sa(function*(e){if(e[Symbol.asyncIterator])return void(yield*la(ca(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield oa(t.read());if(e)break;yield n}}finally{yield oa(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),pa=(e,t,n,a)=>{const r=ma(e,t);let s,i=0,o=e=>{s||(s=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await r.next();if(t)return o(),void e.close();let s=a.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:fa}=rn,ga=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(rn.global),{ReadableStream:xa,TextEncoder:va}=rn.global,ya=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(sm){return!1}},ba=e=>{e=rn.merge.call({skipUndefined:!0},ga,e);const{fetch:t,Request:n,Response:a}=e,r=t?fa(t):"function"===typeof fetch,s=fa(n),i=fa(a);if(!r)return!1;const o=r&&fa(xa),l=r&&("function"===typeof va?(c=new va,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&o&&ya(()=>{let e=!1;const t=new n(Tn.origin,{body:new xa,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&ya(()=>rn.isReadableStream(new a("").body)),m={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let a=t&&t[e];if(a)return a.call(t);throw new cn("Response type '".concat(e,"' is not supported"),cn.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const a=rn.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(rn.isBlob(e))return e.size;if(rn.isSpecCompliantForm(e)){const t=new n(Tn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rn.isArrayBufferView(e)||rn.isArrayBuffer(e)?e.byteLength:(rn.isURLSearchParams(e)&&(e+=""),rn.isString(e)?(await l(e)).byteLength:void 0)})(t):a};return async e=>{let{url:r,method:i,data:o,signal:l,cancelToken:c,timeout:p,onDownloadProgress:f,onUploadProgress:g,responseType:x,headers:v,withCredentials:y="same-origin",fetchOptions:b}=ta(e),j=t||fetch;x=x?(x+"").toLowerCase():"text";let N=aa([l,c&&c.toAbortSignal()],p),w=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let k;try{if(g&&d&&"get"!==i&&"head"!==i&&0!==(k=await h(v,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(rn.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=$n(k,Qn(Gn(g)));o=pa(t.body,65536,e,n)}}rn.isString(y)||(y=y?"include":"omit");const t=s&&"credentials"in n.prototype,l=Se(Se({},b),{},{signal:N,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?y:void 0});w=s&&new n(r,l);let c=await(s?j(w,b):j(r,l));const p=u&&("stream"===x||"response"===x);if(u&&(f||p&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=rn.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&$n(t,Qn(Gn(f),!0))||[];c=new a(pa(c.body,65536,n,()=>{r&&r(),S&&S()}),e)}x=x||"text";let C=await m[rn.findKey(m,x)||"text"](c,e);return!p&&S&&S(),await new Promise((t,n)=>{qn(t,n,{data:C,headers:Mn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new cn("Network Error",cn.ERR_NETWORK,e,w),{cause:C.cause||C});throw cn.from(C,C&&C.code,e,w)}}},ja=new Map,Na=e=>{let t=e?e.env:{};const{fetch:n,Request:a,Response:r}=t,s=[a,r,n];let i,o,l=s.length,c=ja;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:ba(t)),c=o;return o},wa=(Na(),{http:null,xhr:na,fetch:{get:Na}});rn.forEach(wa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(sm){}Object.defineProperty(e,"adapterName",{value:t})}});const Sa=e=>"- ".concat(e),ka=e=>rn.isFunction(e)||null===e||!1===e,Ca=(e,t)=>{e=rn.isArray(e)?e:[e];const{length:n}=e;let a,r;const s={};for(let i=0;i<n;i++){let n;if(a=e[i],r=a,!ka(a)&&(r=wa[(n=String(a)).toLowerCase()],void 0===r))throw new cn("Unknown adapter '".concat(n,"'"));if(r&&(rn.isFunction(r)||(r=r.get(t))))break;s[n||"#"+i]=r}if(!r){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Sa).join("\n"):" "+Sa(e[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function Ea(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vn(null,e)}function Aa(e){Ea(e),e.headers=Mn.from(e.headers),e.data=zn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Ca(e.adapter||_n.adapter,e)(e).then(function(t){return Ea(e),t.data=zn.call(e,e.transformResponse,t),t.headers=Mn.from(t.headers),t},function(t){return Un(t)||(Ea(e),t&&t.response&&(t.response.data=zn.call(e,e.transformResponse,t.response),t.response.headers=Mn.from(t.response.headers))),Promise.reject(t)})}const Ta="1.12.2",Pa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Pa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ra={};Pa.transitional=function(e,t,n){function a(e,t){return"[Axios v"+Ta+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new cn(a(r," has been removed"+(t?" in "+t:"")),cn.ERR_DEPRECATED);return t&&!Ra[r]&&(Ra[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},Pa.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const _a={assertOptions:function(e,t,n){if("object"!==typeof e)throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const s=a[r],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new cn("option "+s+" must be "+n,cn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new cn("Unknown option "+s,cn.ERR_BAD_OPTION)}},validators:Pa},Oa=_a.validators;class Ia{constructor(e){this.defaults=e||{},this.interceptors={request:new jn,response:new jn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(sm){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ea(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&_a.assertOptions(n,{silentJSONParsing:Oa.transitional(Oa.boolean),forcedJSONParsing:Oa.transitional(Oa.boolean),clarifyTimeoutError:Oa.transitional(Oa.boolean)},!1),null!=a&&(rn.isFunction(a)?t.paramsSerializer={serialize:a}:_a.assertOptions(a,{encode:Oa.function,serialize:Oa.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_a.assertOptions(t,{baseUrl:Oa.spelling("baseURL"),withXsrfToken:Oa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&rn.merge(r.common,r[t.method]);r&&rn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Mn.concat(s,r);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Aa.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Aa.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return bn(Xn((e=ea(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}rn.forEach(["delete","get","head","options"],function(e){Ia.prototype[e]=function(t,n){return this.request(ea(n||{},{method:e,url:t,data:(n||{}).data}))}}),rn.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,r){return this.request(ea(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}Ia.prototype[e]=t(),Ia.prototype[e+"Form"]=t(!0)});const La=Ia;class Da{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,r){n.reason||(n.reason=new Vn(e,a,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Da(function(t){e=t}),cancel:e}}}const Ba=Da;const Fa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fa).forEach(e=>{let[t,n]=e;Fa[n]=t});const Ma=Fa;const za=function e(t){const n=new La(t),a=yt(La.prototype.request,n);return rn.extend(a,La.prototype,n,{allOwnKeys:!0}),rn.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(ea(t,n))},a}(_n);za.Axios=La,za.CanceledError=Vn,za.CancelToken=Ba,za.isCancel=Un,za.VERSION=Ta,za.toFormData=pn,za.AxiosError=cn,za.Cancel=za.CanceledError,za.all=function(e){return Promise.all(e)},za.spread=function(e){return function(t){return e.apply(null,t)}},za.isAxiosError=function(e){return rn.isObject(e)&&!0===e.isAxiosError},za.mergeConfig=ea,za.AxiosHeaders=Mn,za.formToJSON=e=>Pn(rn.isHTMLForm(e)?new FormData(e):e),za.getAdapter=Ca,za.HttpStatusCode=Ma,za.default=za;const Ua=za;var Wa=n(579);Ua.defaults.baseURL="http://localhost:5001/api",console.log("AuthContext - API Base URL:",Ua.defaults.baseURL);const Va=(0,r.createContext)(),qa=()=>(0,r.useContext)(Va),Ha=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=localStorage.getItem("token");e?(Ua.defaults.headers.common.Authorization="Bearer ".concat(e),h()):l(!1)},[]);const h=async()=>{try{const e=(await Ua.get("/auth/me")).data.data.user;a(e),m(e.role),i(!0),l(!1)}catch(c){console.error("Error fetching user data:",c),p(),l(!1)}},p=()=>{localStorage.removeItem("token"),delete Ua.defaults.headers.common.Authorization,a(null),m(null),i(!1)},f={currentUser:n,isAuthenticated:s,loading:o,error:c,userRole:u,isAdmin:()=>"admin"===u,register:async e=>{try{d(null);const t=await Ua.post("/auth/signup",e),{token:n,data:r}=t.data;return localStorage.setItem("token",n),Ua.defaults.headers.common.Authorization="Bearer ".concat(n),a(r.user),m(r.user.role),i(!0),{success:!0}}catch(c){var t,n,r,s;return d((null===(t=c.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Registration failed"),{success:!1,error:(null===(r=c.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Registration failed"}}},login:async(e,t)=>{try{d(null),console.log("Login attempt - Base URL:",Ua.defaults.baseURL),console.log("Login attempt - Full URL:",Ua.defaults.baseURL+"/auth/login");const n=await Ua.post("/auth/login",{email:e,password:t}),{token:r,data:s}=n.data;return localStorage.setItem("token",r),Ua.defaults.headers.common.Authorization="Bearer ".concat(r),a(s.user),m(s.user.role),i(!0),{success:!0}}catch(c){var n,r,s,o;return d((null===(n=c.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Login failed"),{success:!1,error:(null===(s=c.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Login failed"}}},logout:p};return(0,Wa.jsx)(Va.Provider,{value:f,children:t})},Ka=Object.create(null);Ka.open="0",Ka.close="1",Ka.ping="2",Ka.pong="3",Ka.message="4",Ka.upgrade="5",Ka.noop="6";const Qa=Object.create(null);Object.keys(Ka).forEach(e=>{Qa[Ka[e]]=e});const $a={type:"error",data:"parser error"},Ga="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ya="function"===typeof ArrayBuffer,Ja=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Xa=(e,t,n)=>{let{type:a,data:r}=e;return Ga&&r instanceof Blob?t?n(r):Za(r,n):Ya&&(r instanceof ArrayBuffer||Ja(r))?t?n(r):Za(new Blob([r]),n):n(Ka[a]+(r||""))},Za=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function er(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let tr;const nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ar="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)ar[nr.charCodeAt(n)]=n;const rr="function"===typeof ArrayBuffer,sr=(e,t)=>{if("string"!==typeof e)return{type:"message",data:or(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ir(e.substring(1),t)};return Qa[n]?e.length>1?{type:Qa[n],data:e.substring(1)}:{type:Qa[n]}:$a},ir=(e,t)=>{if(rr){const n=(e=>{let t,n,a,r,s,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)n=ar[e.charCodeAt(t)],a=ar[e.charCodeAt(t+1)],r=ar[e.charCodeAt(t+2)],s=ar[e.charCodeAt(t+3)],d[l++]=n<<2|a>>4,d[l++]=(15&a)<<4|r>>2,d[l++]=(3&r)<<6|63&s;return c})(e);return or(n,t)}return{base64:!0,data:e}},or=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,lr=String.fromCharCode(30);function cr(){return new TransformStream({transform(e,t){!function(e,t){Ga&&e.data instanceof Blob?e.data.arrayBuffer().then(er).then(t):Ya&&(e.data instanceof ArrayBuffer||Ja(e.data))?t(er(e.data)):Xa(e,!1,e=>{tr||(tr=new TextEncoder),t(tr.encode(e))})}(e,n=>{const a=n.length;let r;if(a<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,a);else if(a<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,a)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(a))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let dr;function ur(e){return e.reduce((e,t)=>e+t.length,0)}function mr(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let a=0;for(let r=0;r<t;r++)n[r]=e[0][a++],a===e[0].length&&(e.shift(),a=0);return e.length&&a<e[0].length&&(e[0]=e[0].slice(a)),n}function hr(e){if(e)return function(e){for(var t in hr.prototype)e[t]=hr.prototype[t];return e}(e)}hr.prototype.on=hr.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},hr.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},hr.prototype.off=hr.prototype.removeListener=hr.prototype.removeAllListeners=hr.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<a.length;r++)if((n=a[r])===t||n.fn===t){a.splice(r,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},hr.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(n){a=0;for(var r=(n=n.slice(0)).length;a<r;++a)n[a].apply(this,t)}return this},hr.prototype.emitReserved=hr.prototype.emit,hr.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},hr.prototype.hasListeners=function(e){return!!this.listeners(e).length};const pr="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fr="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function gr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const xr=fr.setTimeout,vr=fr.clearTimeout;function yr(e,t){t.useNativeTimers?(e.setTimeoutFn=xr.bind(fr),e.clearTimeoutFn=vr.bind(fr)):(e.setTimeoutFn=fr.setTimeout.bind(fr),e.clearTimeoutFn=fr.clearTimeout.bind(fr))}function br(e){return"string"===typeof e?function(e){let t=0,n=0;for(let a=0,r=e.length;a<r;a++)t=e.charCodeAt(a),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(a++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function jr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Nr extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class wr extends hr{constructor(e){super(),this.writable=!1,yr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Nr(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=sr(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Sr extends wr{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(lr),a=[];for(let r=0;r<n.length;r++){const e=sr(n[r],t);if(a.push(e),"error"===e.type)break}return a})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,a=new Array(n);let r=0;e.forEach((e,s)=>{Xa(e,!1,e=>{a[s]=e,++r===n&&t(a.join(lr))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=jr()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let kr=!1;try{kr="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(im){}const Cr=kr;function Er(){}class Ar extends Sr{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class Tr extends hr{constructor(e,t,n){super(),this.createRequest=e,yr(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=gr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(sm){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(sm){}try{n.setRequestHeader("Accept","*/*")}catch(sm){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(sm){return void this.setTimeoutFn(()=>{this._onError(sm)},0)}"undefined"!==typeof document&&(this._index=Tr.requestsCount++,Tr.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Er,e)try{this._xhr.abort()}catch(sm){}"undefined"!==typeof document&&delete Tr.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Tr.requestsCount=0,Tr.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Pr);else if("function"===typeof addEventListener){addEventListener("onpagehide"in fr?"pagehide":"unload",Pr,!1)}function Pr(){for(let e in Tr.requests)Tr.requests.hasOwnProperty(e)&&Tr.requests[e].abort()}const Rr=function(){const e=_r({xdomain:!1});return e&&null!==e.responseType}();function _r(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Cr))return new XMLHttpRequest}catch(sm){}if(!t)try{return new(fr[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(sm){}}const Or="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ir extends wr{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Or?{}:gr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(im){return this.emitReserved("error",im)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;Xa(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(sm){}a&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=jr()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Lr=fr.WebSocket||fr.MozWebSocket;const Dr={websocket:class extends Ir{createSocket(e,t,n){return Or?new Lr(e,t,n):t?new Lr(e,t):new Lr(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends wr{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(im){return this.emitReserved("error",im)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){dr||(dr=new TextDecoder);const n=[];let a=0,r=-1,s=!1;return new TransformStream({transform(i,o){for(n.push(i);;){if(0===a){if(ur(n)<1)break;const e=mr(n,1);s=128===(128&e[0]),r=127&e[0],a=r<126?3:126===r?1:2}else if(1===a){if(ur(n)<2)break;const e=mr(n,2);r=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),a=3}else if(2===a){if(ur(n)<8)break;const e=mr(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>Math.pow(2,21)-1){o.enqueue($a);break}r=s*Math.pow(2,32)+t.getUint32(4),a=3}else{if(ur(n)<r)break;const e=mr(n,r);o.enqueue(sr(s?e:dr.decode(e),t)),a=0}if(0===r||r>e){o.enqueue($a);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),a=cr();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const r=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),r())}).catch(e=>{})};r();const s={type:"open"};this.query.sid&&(s.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;this._writer.write(n).then(()=>{a&&pr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Ar{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Rr&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Tr(_r,this.uri(),e)}}},Br=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mr(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));let r=Br.exec(e||""),s={},i=14;for(;i--;)s[Fr[i]]=r[i]||"";return-1!=n&&-1!=a&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function(e,t){const n=/\/{2,9}/g,a=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||a.splice(0,1);"/"==t.slice(-1)&&a.splice(a.length-1,1);return a}(0,s.path),s.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,a){t&&(n[t]=a)}),n}(0,s.query),s}const zr="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ur=[];zr&&addEventListener("offline",()=>{Ur.forEach(e=>e())},!1);class Wr extends hr{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Mr(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Mr(t.host).host);yr(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let a=0,r=n.length;a<r;a++){let e=n[a].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),zr&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ur.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Wr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Wr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=br(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,pr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,a){if("function"===typeof t&&(a=t,t=void 0),"function"===typeof n&&(a=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Wr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zr&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Ur.indexOf(this._offlineEventListener);-1!==e&&Ur.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Wr.protocol=4;class Vr extends Wr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Wr.priorWebsocketSuccess=!1;const a=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Wr.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function r(){n||(n=!0,c(),t.close(),t=null)}const s=e=>{const n=new Error("probe error: "+e);n.transport=t.name,r(),this.emitReserved("upgradeError",n)};function i(){s("transport closed")}function o(){s("socket closed")}function l(e){t&&e.name!==t.name&&r()}const c=()=>{t.removeListener("open",a),t.removeListener("error",s),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",s),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class qr extends Vr{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Dr[e]).filter(e=>!!e)),super(e,t)}}const Hr="function"===typeof ArrayBuffer,Kr=Object.prototype.toString,Qr="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Kr.call(Blob),$r="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Kr.call(File);function Gr(e){return Hr&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Qr&&e instanceof Blob||$r&&e instanceof File}function Yr(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Yr(e[t]))return!0;return!1}if(Gr(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Yr(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Yr(e[n]))return!0;return!1}function Jr(e){const t=[],n=e.data,a=e;return a.data=Xr(n,t),a.attachments=t.length,{packet:a,buffers:t}}function Xr(e,t){if(!e)return e;if(Gr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let a=0;a<e.length;a++)n[a]=Xr(e[a],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=Xr(e[a],t));return n}return e}function Zr(e,t){return e.data=es(e.data,t),delete e.attachments,e}function es(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=es(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=es(e[n],t));return e}const ts=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ns=5;var as;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(as||(as={}));class rs{constructor(e){this.replacer=e}encode(e){return e.type!==as.EVENT&&e.type!==as.ACK||!Yr(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===as.EVENT?as.BINARY_EVENT:as.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==as.BINARY_EVENT&&e.type!==as.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Jr(e),n=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(n),a}}function ss(e){return"[object Object]"===Object.prototype.toString.call(e)}class is extends hr{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===as.BINARY_EVENT;n||t.type===as.BINARY_ACK?(t.type=n?as.EVENT:as.ACK,this.reconstructor=new os(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Gr(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===as[n.type])throw new Error("unknown packet type "+n.type);if(n.type===as.BINARY_EVENT||n.type===as.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(a,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(a,t)}else n.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!is.isPayloadValid(n.type,a))throw new Error("invalid payload");n.data=a}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(sm){return!1}}static isPayloadValid(e,t){switch(e){case as.CONNECT:return ss(t);case as.DISCONNECT:return void 0===t;case as.CONNECT_ERROR:return"string"===typeof t||ss(t);case as.EVENT:case as.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===ts.indexOf(t[0]));case as.ACK:case as.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class os{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Zr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ls(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const cs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ds extends hr{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ls(e,"open",this.onopen.bind(this)),ls(e,"packet",this.onpacket.bind(this)),ls(e,"error",this.onerror.bind(this)),ls(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,a;if(cs.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:as.EVENT,data:s,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof s[s.length-1]){const e=this.ids++,t=s.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(a=this.io.engine)||void 0===a?void 0:a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,a=this;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),i=function(){a.io.clearTimeoutFn(s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(a,n)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise((t,a)=>{const r=(e,n)=>e?a(e):t(n);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(a!==t._queue[0])return;if(null!==e)a.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];n(null,...s)}return a.pending=!1,t._drainQueue()}),this._queue.push(a),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:as.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case as.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case as.EVENT:case as.BINARY_EVENT:this.onevent(e);break;case as.ACK:case as.BINARY_ACK:this.onack(e);break;case as.DISCONNECT:this.ondisconnect();break;case as.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];t.packet({type:as.ACK,id:e,data:r})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:as.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function us(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}us.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},us.prototype.reset=function(){this.attempts=0},us.prototype.setMin=function(e){this.ms=e},us.prototype.setMax=function(e){this.max=e},us.prototype.setJitter=function(e){this.jitter=e};class ms extends hr{constructor(e,n){var a;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,yr(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(a=n.randomizationFactor)&&void 0!==a?a:.5),this.backoff=new us({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||t;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qr(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=ls(t,"open",function(){n.onopen(),e&&e()}),r=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},s=ls(t,"error",r);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{a(),r(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ls(e,"ping",this.onping.bind(this)),ls(e,"data",this.ondata.bind(this)),ls(e,"error",this.onerror.bind(this)),ls(e,"close",this.onclose.bind(this)),ls(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(sm){this.onclose("parse error",sm)}}ondecoded(e){pr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ds(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const hs={};function ps(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),a=Mr(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const r=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+r+":"+a.port+t,a.href=a.protocol+"://"+r+(n&&n.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=n.source,r=n.id,s=n.path,i=hs[r]&&s in hs[r].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new ms(a,t):(hs[r]||(hs[r]=new ms(a,t)),o=hs[r]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(ps,{Manager:ms,Socket:ds,io:ps,connect:ps});const fs=(0,r.createContext)(),gs=()=>{const e=(0,r.useContext)(fs);if(!e)throw new Error("useSocket must be used within a SocketProvider");return e},xs=e=>{var t;let{children:n}=e;const[a,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(0),{currentUser:d,isAuthenticated:u}=qa(),m=(null===(t="http://localhost:5001/api")?void 0:t.replace("/api",""))||"http://localhost:5001";(0,r.useEffect)(()=>{if(u&&d){const e=ps(m,{transports:["websocket","polling"],timeout:2e4});return e.on("connect",()=>{console.log("Connected to server:",e.id),o(!0),"admin"===d.role?e.emit("join_admin",d.id):e.emit("join",d.id)}),e.on("disconnect",()=>{console.log("Disconnected from server"),o(!1)}),e.on("connect_error",e=>{console.error("Socket connection error:",e),o(!1)}),e.on("new_notification",e=>{console.log("New notification received:",e);const{notification:t,unreadCount:n}=e;c(n),it.info((0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:t.title}),(0,Wa.jsx)("br",{}),(0,Wa.jsx)("span",{children:t.message})]}),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),window.dispatchEvent(new CustomEvent("newNotification",{detail:{notification:t,unreadCount:n}}))}),e.on("notification_updated",e=>{console.log("Notification updated:",e),c(e.unreadCount),window.dispatchEvent(new CustomEvent("notificationUpdated",{detail:e}))}),s(e),()=>{e.close(),s(null),o(!1)}}a&&(a.close(),s(null),o(!1),c(0))},[u,d,m]);const h={socket:a,isConnected:i,unreadCount:l,emit:(e,t)=>{a&&i?a.emit(e,t):console.warn("Socket not connected. Cannot emit event:",e)},on:(e,t)=>{a&&a.on(e,t)},off:(e,t)=>{a&&a.off(e,t)},updateUnreadCount:e=>{c(e)}};return(0,Wa.jsx)(fs.Provider,{value:h,children:n})},vs=()=>{const{isAuthenticated:e,currentUser:t,logout:n}=qa(),{unreadCount:a}=gs(),s=ee(),[i,o]=(0,r.useState)(!1),l=()=>{o(!1)};return(0,Wa.jsxs)("nav",{className:"navbar",children:[(0,Wa.jsx)(gt,{to:"/",className:"logo",onClick:l,children:"Pay4U"}),(0,Wa.jsxs)("button",{className:"hamburger ".concat(i?"active":""),onClick:()=>{o(!i)},"aria-label":"Toggle navigation menu",children:[(0,Wa.jsx)("span",{}),(0,Wa.jsx)("span",{}),(0,Wa.jsx)("span",{})]}),(0,Wa.jsxs)("ul",{className:"nav-menu ".concat(i?"active":""),children:[!e&&(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/",onClick:l,children:"Home"})}),e?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/dashboard",onClick:l,children:"Dashboard"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/wallet",onClick:l,children:"Wallet"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/recharge",onClick:l,children:"Recharge"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/money-transfer",onClick:l,children:"Money Transfer"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/aeps",onClick:l,children:"AEPS"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/transactions",onClick:l,children:"Transactions"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/vouchers",onClick:l,children:"Brand Vouchers"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsxs)(gt,{to:"/notifications",onClick:l,className:"notification-link",children:[(0,Wa.jsx)("span",{className:"notification-icon",children:"\ud83d\udd14"}),"Notifications",a>0&&(0,Wa.jsx)("span",{className:"notification-badge",children:a})]})}),"admin"===(null===t||void 0===t?void 0:t.role)&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/admin/notifications",onClick:l,className:"admin-link",children:"Admin Notifications"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/admin/dashboard",className:"admin-link",onClick:l,children:"Admin Panel"})})]}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)("button",{onClick:()=>{n(),s("/"),o(!1)},className:"btn btn-secondary",children:"Logout"})})]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/login",onClick:l,children:"Login"})}),(0,Wa.jsx)("li",{children:(0,Wa.jsx)(gt,{to:"/register",onClick:l,children:"Register"})})]})]}),e&&(0,Wa.jsx)("div",{className:"desktop-notifications",children:(0,Wa.jsxs)(gt,{to:"/notifications",className:"notification-bell",children:[(0,Wa.jsx)("span",{className:"bell-icon",children:"\ud83d\udd14"}),a>0&&(0,Wa.jsx)("span",{className:"notification-count",children:a>99?"99+":a})]})}),e&&t&&(0,Wa.jsxs)("div",{className:"user-info desktop-only",children:[t.profilePicture&&(0,Wa.jsx)("img",{src:t.profilePicture,alt:"Profile"}),(0,Wa.jsxs)("span",{children:["Welcome, ",t.name||t.email]})]})]})},ys=()=>{const{logout:e}=qa(),t=ee(),n=X(),a=e=>n.pathname===e?"active":"";return(0,Wa.jsxs)("nav",{className:"admin-navbar",children:[(0,Wa.jsx)("div",{className:"admin-navbar-brand",children:(0,Wa.jsx)(gt,{to:"/admin/dashboard",className:"admin-logo",children:"Pay4U Admin"})}),(0,Wa.jsxs)("ul",{className:"admin-nav-links",children:[(0,Wa.jsx)("li",{className:a("/admin/dashboard"),children:(0,Wa.jsxs)(gt,{to:"/admin/dashboard",children:[(0,Wa.jsx)("i",{className:"fas fa-tachometer-alt"})," Dashboard"]})}),(0,Wa.jsx)("li",{className:a("/admin/transactions/pending"),children:(0,Wa.jsxs)(gt,{to:"/admin/transactions/pending",children:[(0,Wa.jsx)("i",{className:"fas fa-clock"})," Pending Approvals"]})}),(0,Wa.jsx)("li",{className:a("/admin/transactions"),children:(0,Wa.jsxs)(gt,{to:"/admin/transactions",children:[(0,Wa.jsx)("i",{className:"fas fa-exchange-alt"})," All Transactions"]})}),(0,Wa.jsx)("li",{className:a("/admin/commissions"),children:(0,Wa.jsxs)(gt,{to:"/admin/commissions",children:[(0,Wa.jsx)("i",{className:"fas fa-percentage"})," Commission Management"]})}),(0,Wa.jsx)("li",{className:a("/admin/commission-schemes"),children:(0,Wa.jsxs)(gt,{to:"/admin/commission-schemes",children:[(0,Wa.jsx)("i",{className:"fas fa-layer-group"})," Commission Schemes"]})}),(0,Wa.jsx)("li",{className:a("/admin/user-commissions"),children:(0,Wa.jsxs)(gt,{to:"/admin/user-commissions",children:[(0,Wa.jsx)("i",{className:"fas fa-users-cog"})," User Commissions"]})}),(0,Wa.jsx)("li",{className:a("/admin/vouchers"),children:(0,Wa.jsxs)(gt,{to:"/admin/vouchers",children:[(0,Wa.jsx)("i",{className:"fas fa-gift"})," Voucher Management"]})}),(0,Wa.jsx)("li",{className:a("/admin/voucher-orders"),children:(0,Wa.jsxs)(gt,{to:"/admin/voucher-orders",children:[(0,Wa.jsx)("i",{className:"fas fa-clipboard-check"})," Voucher Approvals"]})}),(0,Wa.jsx)("li",{className:a("/admin/charge-slabs"),children:(0,Wa.jsxs)(gt,{to:"/admin/charge-slabs",children:[(0,Wa.jsx)("i",{className:"fas fa-calculator"})," Charge Slabs"]})}),(0,Wa.jsx)("li",{className:a("/admin/audit"),children:(0,Wa.jsxs)(gt,{to:"/admin/audit",children:[(0,Wa.jsx)("i",{className:"fas fa-shield-alt"})," Transaction Audit"]})}),(0,Wa.jsx)("li",{className:a("/admin/upi-barcodes"),children:(0,Wa.jsxs)(gt,{to:"/admin/upi-barcodes",children:[(0,Wa.jsx)("i",{className:"fas fa-qrcode"})," UPI Barcode Management"]})}),(0,Wa.jsx)("li",{children:(0,Wa.jsxs)(gt,{to:"/dashboard",children:[(0,Wa.jsx)("i",{className:"fas fa-user"})," User Dashboard"]})}),(0,Wa.jsx)("li",{children:(0,Wa.jsxs)("button",{onClick:()=>{e(),t("/")},className:"btn-logout",children:[(0,Wa.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})]})},bs=e=>{let{children:t}=e;const{currentUser:n}=qa(),a=ee();return(0,r.useEffect)(()=>{n&&"admin"===n.role||a("/dashboard")},[n,a]),n&&"admin"===n.role?(0,Wa.jsxs)("div",{className:"admin-layout",children:[(0,Wa.jsx)(ys,{}),(0,Wa.jsx)("div",{className:"admin-content",children:t})]}):null},js=(0,r.createContext)(),Ns=()=>(0,r.useContext)(js),ws=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([]),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Math.random().toString(36).substring(2,9),s={id:r,message:e,type:t,timestamp:new Date};return a(e=>[s,...e]),n&&setTimeout(()=>{i(r)},n),r},i=e=>{a(t=>t.filter(t=>t.id!==e))},o={notifications:n,addNotification:s,removeNotification:i,clearNotifications:()=>{a([])},success:(e,t)=>s(e,"success",t),error:(e,t)=>s(e,"error",t),info:(e,t)=>s(e,"info",t),warning:(e,t)=>s(e,"warning",t)};return(0,Wa.jsx)(js.Provider,{value:o,children:t})},Ss=()=>{const{notifications:e,removeNotification:t}=Ns();return 0===e.length?null:(0,Wa.jsx)("div",{className:"notification-container",children:e.map(e=>(0,Wa.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,Wa.jsx)("div",{className:"notification-content",children:(0,Wa.jsx)("span",{className:"notification-message",children:e.message})}),(0,Wa.jsx)("button",{className:"notification-close",onClick:()=>t(e.id),children:"\xd7"})]},e.id))})};var ks={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cs=r.createContext&&r.createContext(ks),Es=function(){return Es=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Es.apply(this,arguments)},As=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};function Ts(e){return e&&e.map(function(e,t){return r.createElement(e.tag,Es({key:t},e.attr),Ts(e.child))})}function Ps(e){return function(t){return r.createElement(Rs,Es({attr:Es({},e.attr)},t),Ts(e.child))}}function Rs(e){var t=function(t){var n,a=e.attr,s=e.size,i=e.title,o=As(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Es({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,o,{className:n,style:Es(Es({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==Cs?r.createElement(Cs.Consumer,null,function(e){return t(e)}):t(ks)}function _s(e){return Ps({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"}}]})(e)}function Os(e){return Ps({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"}}]})(e)}function Is(e){return Ps({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M305.44954,462.59c7.39157,7.29792,6.18829,20.09661-3.00038,25.00356-77.713,41.80281-176.72559,29.9105-242.34331-35.7082C-5.49624,386.28227-17.404,287.362,24.41381,209.554c4.89125-9.095,17.68975-10.29834,25.00318-3.00043L166.22872,323.36708l27.39411-27.39452c-.68759-2.60974-1.594-5.00071-1.594-7.81361a32.00407,32.00407,0,1,1,32.00407,32.00455c-2.79723,0-5.20378-.89075-7.79786-1.594l-27.40974,27.41015ZM511.9758,303.06732a16.10336,16.10336,0,0,1-16.002,17.00242H463.86031a15.96956,15.96956,0,0,1-15.89265-15.00213C440.46671,175.5492,336.45348,70.53427,207.03078,63.53328a15.84486,15.84486,0,0,1-15.00191-15.90852V16.02652A16.09389,16.09389,0,0,1,209.031.02425C372.25491,8.61922,503.47472,139.841,511.9758,303.06732Zm-96.01221-.29692a16.21093,16.21093,0,0,1-16.11142,17.29934H367.645a16.06862,16.06862,0,0,1-15.89265-14.70522c-6.90712-77.01094-68.118-138.91037-144.92467-145.22376a15.94,15.94,0,0,1-14.79876-15.89289V112.13393a16.134,16.134,0,0,1,17.29908-16.096C319.45132,104.5391,407.55627,192.64538,415.96359,302.7704Z"}}]})(e)}function Ls(e){return Ps({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"}}]})(e)}const Ds=()=>{const{isAuthenticated:e}=qa();return(0,Wa.jsxs)("div",{className:"home-container",children:[(0,Wa.jsxs)("div",{className:"hero-section",children:[(0,Wa.jsx)("h1",{children:"Welcome to Pay4U"}),(0,Wa.jsx)("p",{className:"lead",children:"Your one-stop solution for mobile recharges, DTH services, and bill payments."}),e?(0,Wa.jsx)("div",{className:"cta-buttons",children:(0,Wa.jsx)(gt,{to:"/dashboard",className:"btn btn-primary",children:"Go to Dashboard"})}):(0,Wa.jsxs)("div",{className:"cta-buttons",children:[(0,Wa.jsx)(gt,{to:"/register",className:"btn btn-primary",children:"Get Started"}),(0,Wa.jsx)(gt,{to:"/login",className:"btn btn-secondary",children:"Login"})]})]}),(0,Wa.jsxs)("div",{className:"features-section",children:[(0,Wa.jsx)("h2",{children:"Our Features"}),(0,Wa.jsxs)("div",{className:"features-grid",children:[(0,Wa.jsxs)("div",{className:"feature-card",children:[(0,Wa.jsx)("div",{className:"feature-icon",children:(0,Wa.jsx)(Ls,{})}),(0,Wa.jsx)("h3",{children:"Digital Wallet"}),(0,Wa.jsx)("p",{children:"Securely store money in your digital wallet for quick and easy transactions."})]}),(0,Wa.jsxs)("div",{className:"feature-card",children:[(0,Wa.jsx)("div",{className:"feature-icon",children:(0,Wa.jsx)(Os,{})}),(0,Wa.jsx)("h3",{children:"Mobile Recharge"}),(0,Wa.jsx)("p",{children:"Recharge your prepaid mobile across all major operators instantly."})]}),(0,Wa.jsxs)("div",{className:"feature-card",children:[(0,Wa.jsx)("div",{className:"feature-icon",children:(0,Wa.jsx)(Is,{})}),(0,Wa.jsx)("h3",{children:"DTH Recharge"}),(0,Wa.jsx)("p",{children:"Pay for your DTH services and enjoy uninterrupted entertainment."})]}),(0,Wa.jsxs)("div",{className:"feature-card",children:[(0,Wa.jsx)("div",{className:"feature-icon",children:(0,Wa.jsx)(_s,{})}),(0,Wa.jsx)("h3",{children:"Bill Payments"}),(0,Wa.jsx)("p",{children:"Pay your utility bills, credit cards, and more in just a few clicks."})]})]})]}),(0,Wa.jsxs)("div",{className:"how-it-works",children:[(0,Wa.jsx)("h2",{children:"How It Works"}),(0,Wa.jsxs)("div",{className:"steps",children:[(0,Wa.jsxs)("div",{className:"step",children:[(0,Wa.jsx)("div",{className:"step-number",children:"1"}),(0,Wa.jsx)("h3",{children:"Create an Account"}),(0,Wa.jsx)("p",{children:"Sign up for a free Pay4U account in minutes."})]}),(0,Wa.jsxs)("div",{className:"step",children:[(0,Wa.jsx)("div",{className:"step-number",children:"2"}),(0,Wa.jsx)("h3",{children:"Add Money to Wallet"}),(0,Wa.jsx)("p",{children:"Top up your wallet using various payment methods."})]}),(0,Wa.jsxs)("div",{className:"step",children:[(0,Wa.jsx)("div",{className:"step-number",children:"3"}),(0,Wa.jsx)("h3",{children:"Make Payments"}),(0,Wa.jsx)("p",{children:"Use your wallet balance for recharges and bill payments."})]})]})]}),(0,Wa.jsx)("div",{className:"stats-section",children:(0,Wa.jsxs)("div",{className:"stats-container",children:[(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("div",{className:"stat-number",children:"10K+"}),(0,Wa.jsx)("div",{className:"stat-label",children:"Happy Users"})]}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("div",{className:"stat-number",children:"50K+"}),(0,Wa.jsx)("div",{className:"stat-label",children:"Transactions"})]}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("div",{className:"stat-number",children:"99.9%"}),(0,Wa.jsx)("div",{className:"stat-label",children:"Uptime"})]}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("div",{className:"stat-number",children:"24/7"}),(0,Wa.jsx)("div",{className:"stat-label",children:"Support"})]})]})}),(0,Wa.jsxs)("div",{className:"testimonials-section",children:[(0,Wa.jsx)("h2",{children:"What Our Users Say"}),(0,Wa.jsxs)("div",{className:"testimonials-grid",children:[(0,Wa.jsxs)("div",{className:"testimonial-card",children:[(0,Wa.jsx)("div",{className:"testimonial-content",children:(0,Wa.jsx)("p",{children:'"Pay4U has made my life so much easier. I can recharge my phone and pay bills instantly without any hassle."'})}),(0,Wa.jsxs)("div",{className:"testimonial-author",children:[(0,Wa.jsx)("div",{className:"author-name",children:"Priya Sharma"}),(0,Wa.jsx)("div",{className:"author-role",children:"Regular User"})]})]}),(0,Wa.jsxs)("div",{className:"testimonial-card",children:[(0,Wa.jsx)("div",{className:"testimonial-content",children:(0,Wa.jsx)("p",{children:'"The digital wallet feature is fantastic. Quick, secure, and reliable for all my payment needs."'})}),(0,Wa.jsxs)("div",{className:"testimonial-author",children:[(0,Wa.jsx)("div",{className:"author-name",children:"Rahul Kumar"}),(0,Wa.jsx)("div",{className:"author-role",children:"Business Owner"})]})]}),(0,Wa.jsxs)("div",{className:"testimonial-card",children:[(0,Wa.jsx)("div",{className:"testimonial-content",children:(0,Wa.jsx)("p",{children:'"Best app for mobile recharges and bill payments. The interface is clean and user-friendly."'})}),(0,Wa.jsxs)("div",{className:"testimonial-author",children:[(0,Wa.jsx)("div",{className:"author-name",children:"Anjali Patel"}),(0,Wa.jsx)("div",{className:"author-role",children:"Student"})]})]})]})]}),(0,Wa.jsx)("div",{className:"cta-section",children:(0,Wa.jsxs)("div",{className:"cta-content",children:[(0,Wa.jsx)("h2",{children:"Ready to Get Started?"}),(0,Wa.jsx)("p",{children:"Join thousands of users who trust Pay4U for their digital payment needs."}),e?(0,Wa.jsx)("div",{className:"cta-buttons",children:(0,Wa.jsx)(gt,{to:"/dashboard",className:"btn btn-primary",children:"Go to Dashboard"})}):(0,Wa.jsxs)("div",{className:"cta-buttons",children:[(0,Wa.jsx)(gt,{to:"/register",className:"btn btn-primary",children:"Create Account"}),(0,Wa.jsx)(gt,{to:"/login",className:"btn btn-secondary",children:"Sign In"})]})]})})]})},Bs=()=>{const[e,t]=(0,r.useState)({email:"",password:""}),[n,a]=(0,r.useState)(!1),{login:s}=qa(),i=ee(),{email:o,password:l}=e,c=n=>{t(Se(Se({},e),{},{[n.target.name]:n.target.value}))};return(0,Wa.jsxs)("div",{className:"form-container",children:[(0,Wa.jsx)("h1",{className:"form-title",children:"Login to Your Account"}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&l){a(!0);try{const e=await s(o,l);e.success?(it.success("Login successful"),i("/dashboard")):it.error(e.error||"Login failed")}catch(t){it.error("An error occurred. Please try again."),console.error("Login error:",t)}finally{a(!1)}}else it.error("Please fill in all fields")},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Wa.jsx)("input",{type:"email",id:"email",name:"email",value:o,onChange:c,className:"form-control",placeholder:"Enter your email",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Wa.jsx)("input",{type:"password",id:"password",name:"password",value:l,onChange:c,className:"form-control",placeholder:"Enter your password",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:n,children:n?"Logging in...":"Login"})]}),(0,Wa.jsx)("p",{className:"mt-3 text-center",children:(0,Wa.jsx)(gt,{to:"/forgot-password",children:"Forgot Password?"})}),(0,Wa.jsxs)("p",{className:"mt-3 text-center",children:["Don't have an account? ",(0,Wa.jsx)(gt,{to:"/register",children:"Register"})]})]})},Fs=()=>{const[e,t]=(0,r.useState)({name:"",email:"",phone:"",password:"",confirmPassword:""}),[n,a]=(0,r.useState)(!1),{register:s}=qa(),i=ee(),{name:o,email:l,phone:c,password:d,confirmPassword:u}=e,m=n=>{t(Se(Se({},e),{},{[n.target.name]:n.target.value}))};return(0,Wa.jsxs)("div",{className:"form-container",children:[(0,Wa.jsx)("h1",{className:"form-title",children:"Create an Account"}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o&&l&&c&&d)if(d===u)if(d.length<8)it.error("Password must be at least 8 characters");else if(/^\d{10}$/.test(c)){a(!0);try{const e={name:o,email:l,phone:c,password:d},t=await s(e);t.success?(it.success("Registration successful"),i("/dashboard")):it.error(t.error||"Registration failed")}catch(t){it.error("An error occurred. Please try again."),console.error("Registration error:",t)}finally{a(!1)}}else it.error("Please enter a valid 10-digit phone number");else it.error("Passwords do not match");else it.error("Please fill in all fields")},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,Wa.jsx)("input",{type:"text",id:"name",name:"name",value:o,onChange:m,className:"form-control",placeholder:"Enter your full name",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Wa.jsx)("input",{type:"email",id:"email",name:"email",value:l,onChange:m,className:"form-control",placeholder:"Enter your email",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Wa.jsx)("input",{type:"tel",id:"phone",name:"phone",value:c,onChange:m,className:"form-control",placeholder:"Enter your 10-digit phone number",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Wa.jsx)("input",{type:"password",id:"password",name:"password",value:d,onChange:m,className:"form-control",placeholder:"Enter your password (min. 8 characters)",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,Wa.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:u,onChange:m,className:"form-control",placeholder:"Confirm your password",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:n,children:n?"Registering...":"Register"})]}),(0,Wa.jsxs)("p",{className:"mt-3 text-center",children:["Already have an account? ",(0,Wa.jsx)(gt,{to:"/login",children:"Login"})]})]})},Ms=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),{info:s}=Ns();(0,r.useEffect)(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[]);const i=async()=>{try{const n=(await Ua.get("/transactions/status-updates")).data.data.statusUpdates,r=n.filter(t=>!e.some(e=>e._id===t._id));r.length>0&&e.length>0&&r.forEach(e=>{const t={approved:"approved \u2713",rejected:"rejected \u2717",completed:"completed \u2713",failed:"failed \u2717"}[e.status]||e.status;s("Transaction ".concat(e.transactionId?e.transactionId.substring(0,8):"N/A"," has been ").concat(t))}),t(n),a(!1)}catch(n){console.error("Error fetching transaction status updates:",n),a(!1)}};return n||0===e.length?null:(0,Wa.jsxs)("div",{className:"transaction-updates",children:[(0,Wa.jsx)("h3",{children:"Recent Transaction Updates"}),(0,Wa.jsx)("div",{className:"updates-list",children:e.map(e=>(0,Wa.jsxs)("div",{className:"update-item status-".concat(e.status),children:[(0,Wa.jsxs)("div",{className:"update-header",children:[(0,Wa.jsxs)("span",{className:"transaction-id",children:["#",e.transactionId?e.transactionId.substring(0,8):"N/A"]}),(0,Wa.jsx)("span",{className:"status-badge ".concat(e.status),children:e.status})]}),(0,Wa.jsxs)("div",{className:"update-details",children:[(0,Wa.jsxs)("div",{className:"amount",children:["\u20b9",e.amount.toFixed(2)]}),(0,Wa.jsx)("div",{className:"timestamp",children:new Date(e.updatedAt).toLocaleString()})]}),e.notes&&(0,Wa.jsx)("div",{className:"notes",children:e.notes})]},e._id))})]})},zs=()=>{const{currentUser:e}=qa(),{error:t}=Ns(),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{const e=await Ua.get("/wallet/my-wallet");a(e.data.data.wallet)}catch(e){console.error("Error fetching wallet data:",e),t("Failed to load wallet data")}finally{i(!1)}})()},[]),s?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"dashboard-container",style:{padding:"0.75rem"},children:[(0,Wa.jsxs)("div",{className:"welcome-header",style:{marginBottom:"0.75rem",textAlign:"center"},children:[(0,Wa.jsx)("h1",{style:{fontSize:"1.25rem",margin:0,marginBottom:"0.25rem"},children:"Welcome back!"}),(0,Wa.jsx)("p",{className:"welcome-subtitle",style:{fontSize:"0.875rem",margin:0,color:"var(--text-secondary)"},children:(null===e||void 0===e?void 0:e.name)||"User"})]}),(0,Wa.jsx)("div",{className:"wallet-summary",style:{marginBottom:"1rem"},children:(0,Wa.jsxs)("div",{className:"wallet-card",style:{padding:"0.75rem",borderRadius:"8px",background:"var(--card-bg)",border:"1px solid var(--border-color)"},children:[(0,Wa.jsxs)("div",{className:"wallet-header",style:{marginBottom:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Wa.jsx)("div",{className:"wallet-icon",style:{fontSize:"1.25rem"},children:"\ud83d\udcb3"}),(0,Wa.jsxs)("div",{className:"wallet-info",style:{flex:1},children:[(0,Wa.jsx)("h2",{style:{fontSize:"0.875rem",margin:0,marginBottom:"0.125rem",color:"var(--text-secondary)"},children:"Balance"}),(0,Wa.jsxs)("div",{className:"wallet-balance",style:{fontSize:"1.25rem",fontWeight:"700",color:"var(--primary-color)"},children:["\u20b9",(null===n||void 0===n?void 0:n.balance.toFixed(2))||"0.00"]})]})]}),(0,Wa.jsxs)("div",{className:"wallet-actions",style:{gap:"0.5rem",display:"flex"},children:[(0,Wa.jsxs)(gt,{to:"/wallet",className:"btn btn-primary touch-target",style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",flex:1,textAlign:"center"},children:[(0,Wa.jsx)("span",{className:"btn-icon",children:"\ud83d\udcb0"}),"Top Up"]}),(0,Wa.jsxs)(gt,{to:"/transactions",className:"btn btn-secondary touch-target",style:{padding:"0.375rem 0.75rem",fontSize:"0.75rem",flex:1,textAlign:"center"},children:[(0,Wa.jsx)("span",{className:"btn-icon",children:"\ud83d\udccb"}),"History"]})]})]})}),(0,Wa.jsxs)("div",{className:"quick-actions-section",children:[(0,Wa.jsx)("h2",{style:{fontSize:"1rem",margin:0,marginBottom:"0.75rem",color:"var(--text-primary)"},children:"Quick Actions"}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:"0.75rem",marginBottom:"1rem",justifyItems:"center"},children:[(0,Wa.jsxs)(gt,{to:"/mobile-recharge",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83d\udcf1"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"Mobile"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Recharge"})]})]}),(0,Wa.jsxs)(gt,{to:"/dth-recharge",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83d\udcfa"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"DTH"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Recharge"})]})]}),(0,Wa.jsxs)(gt,{to:"/bill-payment",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83d\udcc4"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"Bills"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Payment"})]})]}),(0,Wa.jsxs)(gt,{to:"/money-transfer",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83d\udcb8"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"Money"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Transfer"})]})]}),(0,Wa.jsxs)(gt,{to:"/aeps",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83c\udfe7"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"AEPS"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Banking"})]})]}),(0,Wa.jsxs)(gt,{to:"/vouchers",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83c\udf81"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"Vouchers"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Discounts"})]})]}),(0,Wa.jsxs)(gt,{to:"/transactions",style:{display:"flex",flexDirection:"column",alignItems:"center",textDecoration:"none",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.375rem",border:"1.5px solid var(--primary-color)",boxShadow:"0 2px 6px rgba(0,0,0,0.1)",fontSize:"1.25rem"},children:"\ud83d\udcca"}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.0625rem",lineHeight:"1.1"},children:"History"}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--text-secondary)",fontWeight:"400"},children:"Transactions"})]})]})]})]}),(0,Wa.jsx)(Ms,{})]})},Us=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1);return(0,Wa.jsx)("div",{className:"auth-container",children:(0,Wa.jsxs)("div",{className:"auth-card",children:[(0,Wa.jsxs)("div",{className:"auth-header",children:[(0,Wa.jsx)("h2",{children:"Forgot Password"}),(0,Wa.jsx)("p",{children:"Enter your email address and we'll send you a link to reset your password."})]}),(0,Wa.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),l(!0),i(""),a("");try{const n=await fetch("http://localhost:5001/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),r=await n.json();n.ok?(a("Password reset link has been sent to your email address."),t("")):i(r.message||"Something went wrong. Please try again.")}catch(im){i("Network error. Please check your connection and try again.")}finally{l(!1)}},className:"auth-form",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Wa.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter your email address",disabled:o})]}),s&&(0,Wa.jsx)("div",{className:"error-message",children:s}),n&&(0,Wa.jsx)("div",{className:"success-message",children:n}),(0,Wa.jsx)("button",{type:"submit",className:"auth-button",disabled:o||!e,children:o?"Sending...":"Send Reset Link"})]}),(0,Wa.jsxs)("div",{className:"auth-footer",children:[(0,Wa.jsxs)("p",{children:["Remember your password? ",(0,Wa.jsx)(gt,{to:"/login",children:"Sign In"})]}),(0,Wa.jsxs)("p",{children:["Don't have an account? ",(0,Wa.jsx)(gt,{to:"/signup",children:"Sign Up"})]})]})]})})},Ws=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),{token:u}=function(){let{matches:e}=r.useContext(G),t=e[e.length-1];return t?t.params:{}}(),m=ee();return(0,Wa.jsx)("div",{className:"auth-container",children:(0,Wa.jsxs)("div",{className:"auth-card",children:[(0,Wa.jsxs)("div",{className:"auth-header",children:[(0,Wa.jsx)("h2",{children:"Reset Password"}),(0,Wa.jsx)("p",{children:"Enter your new password below."})]}),(0,Wa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),d(!0),l(""),i(""),e!==n)return l("Passwords do not match"),void d(!1);if(e.length<6)return l("Password must be at least 6 characters long"),void d(!1);try{const t=await fetch("http://localhost:5001/api/auth/reset-password/".concat(u),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),n=await t.json();t.ok?(i("Password reset successful! You are now logged in."),n.token&&(localStorage.setItem("token",n.token),localStorage.setItem("user",JSON.stringify(n.data.user))),setTimeout(()=>{m("/dashboard")},2e3)):l(n.message||"Failed to reset password. Please try again.")}catch(im){l("Network error. Please check your connection and try again.")}finally{d(!1)}},className:"auth-form",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,Wa.jsx)("input",{type:"password",id:"password",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter new password",disabled:c,minLength:"6"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,Wa.jsx)("input",{type:"password",id:"confirmPassword",value:n,onChange:e=>a(e.target.value),required:!0,placeholder:"Confirm new password",disabled:c,minLength:"6"})]}),o&&(0,Wa.jsx)("div",{className:"error-message",children:o}),s&&(0,Wa.jsx)("div",{className:"success-message",children:s}),(0,Wa.jsx)("button",{type:"submit",className:"auth-button",disabled:c||!e||!n,children:c?"Resetting...":"Reset Password"})]}),(0,Wa.jsx)("div",{className:"auth-footer",children:(0,Wa.jsxs)("p",{children:["Remember your password? ",(0,Wa.jsx)(gt,{to:"/login",children:"Sign In"})]})})]})})};const Vs=new class{constructor(){this.currentPosition=null,this.watchId=null,this.permissionGranted=!1}async requestLocationPermission(){return new Promise((e,t)=>{navigator.geolocation?navigator.permissions?navigator.permissions.query({name:"geolocation"}).then(n=>{"granted"===n.state?(this.permissionGranted=!0,this.getCurrentPosition().then(e).catch(t)):"denied"===n.state?t(new Error("Location permission denied")):this.getCurrentPosition().then(e).catch(t)}).catch(()=>{this.getCurrentPosition().then(e).catch(t)}):this.getCurrentPosition().then(e).catch(t):t(new Error("Geolocation is not supported by this browser"))})}async getCurrentPosition(){return new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(t=>{this.currentPosition={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed,timestamp:t.timestamp},this.permissionGranted=!0,e(this.currentPosition)},e=>{let n="Location access denied";switch(e.code){case e.PERMISSION_DENIED:n="Location permission denied by user";break;case e.POSITION_UNAVAILABLE:n="Location information unavailable";break;case e.TIMEOUT:n="Location request timed out"}t(new Error(n))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})}startWatching(e,t){if(!navigator.geolocation)return void t(new Error("Geolocation not supported"));this.watchId=navigator.geolocation.watchPosition(t=>{this.currentPosition={latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy,altitude:t.coords.altitude,altitudeAccuracy:t.coords.altitudeAccuracy,heading:t.coords.heading,speed:t.coords.speed,timestamp:t.timestamp},e(this.currentPosition)},t,{enableHighAccuracy:!0,timeout:5e3,maximumAge:3e4})}stopWatching(){null!==this.watchId&&(navigator.geolocation.clearWatch(this.watchId),this.watchId=null)}async getAddressFromCoordinates(e,t){try{const n=await fetch("https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(e,"&longitude=").concat(t,"&localityLanguage=en"));if(!n.ok)throw new Error("Geocoding service unavailable");const a=await n.json();return{street:a.locality||"",city:a.city||a.locality||"",state:a.principalSubdivision||"",country:a.countryName||"",postalCode:a.postcode||"",formattedAddress:a.display_name||"".concat(a.city,", ").concat(a.countryName)}}catch(n){return console.error("Error getting address:",n),{street:"",city:"",state:"",country:"",postalCode:"",formattedAddress:"Address unavailable"}}}isPermissionGranted(){return this.permissionGranted}getCurrentCachedPosition(){return this.currentPosition}formatCoordinates(e,t,n){return{latitude:parseFloat(e).toFixed(6),longitude:parseFloat(t).toFixed(6),accuracy:n?"\xb1".concat(Math.round(n),"m"):"Unknown",dms:this.convertToDMS(e,t)}}convertToDMS(e,t){const n=(e,t)=>{const n=Math.abs(e),a=Math.floor(n),r=60*(n-a),s=Math.floor(r),i=(60*(r-s)).toFixed(2),o=t?e>=0?"N":"S":e>=0?"E":"W";return"".concat(a,"\xb0").concat(s,"'").concat(i,'"').concat(o)};return{latitude:n(e,!0),longitude:n(t,!1)}}},qs=(0,r.createContext)(),Hs=()=>{const e=(0,r.useContext)(qs);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e},Ks=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{u()},[]);const u=async()=>{if(navigator.permissions)try{"granted"===(await navigator.permissions.query({name:"geolocation"})).state&&i(!0)}catch(im){console.log("Permission API not supported")}},m=async()=>{l(!0),d(null);try{const e=await Vs.requestLocationPermission(),t=await Vs.getAddressFromCoordinates(e.latitude,e.longitude),n={coordinates:{latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy,altitude:e.altitude,altitudeAccuracy:e.altitudeAccuracy,heading:e.heading,speed:e.speed,timestamp:e.timestamp},address:t,formatted:Vs.formatCoordinates(e.latitude,e.longitude,e.accuracy)};return a(n),i(!0),n}catch(im){throw d(im.message),i(!1),im}finally{l(!1)}},h={locationData:n,permissionGranted:s,loading:o,error:c,getCurrentLocation:m,requestLocationPermission:async()=>await m(),clearLocation:()=>{a(null),i(!1),d(null)},updateLocationInRequest:e=>n&&n.coordinates?Se(Se({},e),{},{location:{latitude:n.coordinates.latitude,longitude:n.coordinates.longitude,accuracy:n.coordinates.accuracy,altitude:n.coordinates.altitude,timestamp:n.coordinates.timestamp,address:n.address}}):e,getLocationForAPI:()=>n&&n.coordinates?{latitude:n.coordinates.latitude,longitude:n.coordinates.longitude,accuracy:n.coordinates.accuracy,altitude:n.coordinates.altitude,timestamp:n.coordinates.timestamp,address:n.address}:null,isLocationAvailable:()=>n&&n.coordinates,getFormattedLocation:()=>n&&n.formatted?"".concat(n.formatted.latitude,", ").concat(n.formatted.longitude," (\xb1").concat(n.formatted.accuracy,")"):"Location not available",getAddressString:()=>n&&n.address&&n.address.formattedAddress||"Address not available"};return(0,Wa.jsx)(qs.Provider,{value:h,children:t})};var Qs=n(139),$s=n.n(Qs);const Gs=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ys=!1,Js=!1;try{var Xs={get passive(){return Ys=!0},get once(){return Js=Ys=!0}};Gs&&(window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,!0))}catch(sm){}const Zs=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!Js){var r=a.once,s=a.capture,i=n;!Js&&r&&(i=n.__once||function e(a){this.removeEventListener(t,e,s),n.call(this,a)},n.__once=i),e.addEventListener(t,i,Ys?a:s)}e.addEventListener(t,n,a)};function ei(e){return e&&e.ownerDocument||document}const ti=function(e,t,n,a){var r=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};var ni;function ai(e){if((!ni&&0!==ni||e)&&Gs){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ni=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ni}const ri=function(e){const t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t};function si(e){const t=ri(e);return(0,r.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}const ii=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const oi=function(e,t){return(0,r.useMemo)(()=>function(e,t){const n=ii(e),a=ii(t);return e=>{n&&n(e),a&&a(e)}}(e,t),[e,t])};function li(e){const t=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)(()=>()=>t.current(),[])}function ci(e,t){return function(e){var t=ei(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var di=/([A-Z])/g;var ui=/^ms-/;function mi(e){return function(e){return e.replace(di,"-$1").toLowerCase()}(e).replace(ui,"-ms-")}var hi=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const pi=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(mi(t))||ci(e).getPropertyValue(mi(t));Object.keys(t).forEach(function(r){var s=t[r];s||0===s?!function(e){return!(!e||!hi.test(e))}(r)?n+=mi(r)+": "+s+";":a+=r+"("+s+") ":e.style.removeProperty(mi(r))}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n};const fi=function(e,t,n,a){return Zs(e,t,n,a),function(){ti(e,t,n,a)}};function gi(e,t,n){void 0===n&&(n=5);var a=!1,r=setTimeout(function(){a||function(e,t,n,a){if(void 0===n&&(n=!1),void 0===a&&(a=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,a),e.dispatchEvent(r)}}(e,"transitionend",!0)},t+n),s=fi(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(r),s()}}function xi(e,t,n,a){null==n&&(n=function(e){var t=pi(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=gi(e,n,a),s=fi(e,"transitionend",t);return function(){r(),s()}}function vi(e){void 0===e&&(e=ei());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(sm){return e.body}}function yi(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function bi(e){const t=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)(()=>()=>t.current(),[])}const ji=function(e){const t=(0,r.useRef)(e);return(0,r.useEffect)(()=>{t.current=e},[e]),t};function Ni(e){const t=ji(e);return(0,r.useCallback)(function(){return t.current&&t.current(...arguments)},[t])}const wi=(Si="modal-open","".concat("data-rr-ui-").concat(Si));var Si;const ki=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(pi(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(wi,""),pi(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(wi),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ci=(0,r.createContext)(Gs?window:void 0);Ci.Provider;function Ei(){return(0,r.useContext)(Ci)}const Ai=(e,t)=>Gs?null==e?(t||ei()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Ti=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Pi=function(e,t){return(0,r.useMemo)(()=>function(e,t){const n=Ti(e),a=Ti(t);return e=>{n&&n(e),a&&a(e)}}(e,t),[e,t])},Ri="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,_i="undefined"!==typeof document||Ri?r.useLayoutEffect:r.useEffect;function Oi(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=r.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}const Ii=function(e){let{children:t,in:n,onExited:a,mountOnEnter:s,unmountOnExit:i}=e;const o=(0,r.useRef)(null),l=(0,r.useRef)(n),c=Ni(a);(0,r.useEffect)(()=>{n?l.current=!0:c(o.current)},[n,c]);const d=Pi(o,Oi(t)),u=(0,r.cloneElement)(t,{ref:d});return n?u:i||!l.current&&s?null:u},Li=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Di=["component"];const Bi=r.forwardRef((e,t)=>{let{component:n}=e,a=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Di);const s=function(e){let{onEnter:t,onEntering:n,onEntered:a,onExit:s,onExiting:i,onExited:o,addEndListener:l,children:c}=e,d=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Li);const u=(0,r.useRef)(null),m=Pi(u,Oi(c)),h=e=>t=>{e&&u.current&&e(u.current,t)},p=(0,r.useCallback)(h(t),[t]),f=(0,r.useCallback)(h(n),[n]),g=(0,r.useCallback)(h(a),[a]),x=(0,r.useCallback)(h(s),[s]),v=(0,r.useCallback)(h(i),[i]),y=(0,r.useCallback)(h(o),[o]),b=(0,r.useCallback)(h(l),[l]);return Object.assign({},d,{nodeRef:u},t&&{onEnter:p},n&&{onEntering:f},a&&{onEntered:g},s&&{onExit:x},i&&{onExiting:v},o&&{onExited:y},l&&{addEndListener:b},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:m})):(0,r.cloneElement)(c,{ref:m})})}(a);return(0,Wa.jsx)(n,Object.assign({ref:t},s))}),Fi=Bi;function Mi(e){let{children:t,in:n,onExited:a,onEntered:s,transition:i}=e;const[o,l]=(0,r.useState)(!n);n&&o&&l(!1);const c=function(e){let{in:t,onTransition:n}=e;const a=(0,r.useRef)(null),s=(0,r.useRef)(!0),i=Ni(n);return _i(()=>{if(!a.current)return;let e=!1;return i({in:t,element:a.current,initial:s.current,isStale:()=>e}),()=>{e=!0}},[t,i]),_i(()=>(s.current=!1,()=>{s.current=!0}),[]),a}({in:!!n,onTransition:e=>{Promise.resolve(i(e)).then(()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==a||a(e.element)))},t=>{throw e.in||l(!0),t})}}),d=Pi(c,Oi(t));return o&&!n?null:(0,r.cloneElement)(t,{ref:d})}function zi(e,t,n){return e?(0,Wa.jsx)(Fi,Object.assign({},n,{component:e})):t?(0,Wa.jsx)(Mi,Object.assign({},n,{transition:t})):(0,Wa.jsx)(Ii,Object.assign({},n))}const Ui=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Wi;function Vi(e){const t=Ei(),n=e||function(e){return Wi||(Wi=new ki({ownerDocument:null==e?void 0:e.document})),Wi}(t),a=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:(0,r.useCallback)(e=>{a.current.dialog=e},[]),setBackdropRef:(0,r.useCallback)(e=>{a.current.backdrop=e},[])})}const qi=(0,r.forwardRef)((e,t)=>{let{show:n=!1,role:a="dialog",className:s,style:i,children:o,backdrop:l=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:u,transition:m,runTransition:h,backdropTransition:p,runBackdropTransition:f,autoFocus:g=!0,enforceFocus:x=!0,restoreFocus:v=!0,restoreFocusOptions:y,renderDialog:b,renderBackdrop:j=e=>(0,Wa.jsx)("div",Object.assign({},e)),manager:N,container:w,onShow:S,onHide:k=()=>{},onExit:C,onExited:E,onExiting:A,onEnter:T,onEntering:P,onEntered:R}=e,_=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Ui);const O=Ei(),I=function(e,t){const n=Ei(),[a,s]=(0,r.useState)(()=>Ai(e,null==n?void 0:n.document));if(!a){const t=Ai(e);t&&s(t)}return(0,r.useEffect)(()=>{t&&a&&t(a)},[t,a]),(0,r.useEffect)(()=>{const t=Ai(e);t!==a&&s(t)},[e,a]),a}(w),L=Vi(N),D=function(){const e=(0,r.useRef)(!0),t=(0,r.useRef)(()=>e.current);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}(),B=function(e){const t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{t.current=e}),t.current}(n),[F,M]=(0,r.useState)(!n),z=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,()=>L,[L]),Gs&&!B&&n&&(z.current=vi(null==O?void 0:O.document)),n&&F&&M(!1);const U=Ni(()=>{if(L.add(),Q.current=fi(document,"keydown",H),K.current=fi(document,"focus",()=>setTimeout(V),!0),S&&S(),g){var e,t;const n=vi(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==O?void 0:O.document);L.dialog&&n&&!yi(L.dialog,n)&&(z.current=n,L.dialog.focus())}}),W=Ni(()=>{var e;(L.remove(),null==Q.current||Q.current(),null==K.current||K.current(),v)&&(null==(e=z.current)||null==e.focus||e.focus(y),z.current=null)});(0,r.useEffect)(()=>{n&&I&&U()},[n,I,U]),(0,r.useEffect)(()=>{F&&W()},[F,W]),bi(()=>{W()});const V=Ni(()=>{if(!x||!D()||!L.isTopModal())return;const e=vi(null==O?void 0:O.document);L.dialog&&e&&!yi(L.dialog,e)&&L.dialog.focus()}),q=Ni(e=>{e.target===e.currentTarget&&(null==d||d(e),!0===l&&k())}),H=Ni(e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==u||u(e),e.defaultPrevented||k())}),K=(0,r.useRef)(),Q=(0,r.useRef)();if(!I)return null;const $=Object.assign({role:a,ref:L.setDialogRef,"aria-modal":"dialog"===a||void 0},_,{style:i,className:s,tabIndex:-1});let G=b?b($):(0,Wa.jsx)("div",Object.assign({},$,{children:r.cloneElement(o,{role:"document"})}));G=zi(m,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:C,onExiting:A,onExited:function(){M(!0),null==E||E(...arguments)},onEnter:T,onEntering:P,onEntered:R,children:G});let Y=null;return l&&(Y=j({ref:L.setBackdropRef,onClick:q}),Y=zi(p,f,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Y})),(0,Wa.jsx)(Wa.Fragment,{children:ot.createPortal((0,Wa.jsxs)(Wa.Fragment,{children:[Y,G]}),I)})});qi.displayName="Modal";const Hi=Object.assign(qi,{Manager:ki});var Ki=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qi(e,t){return Ki(e.querySelectorAll(t))}function $i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Gi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yi=".sticky-top",Ji=".navbar-toggler";class Xi extends ki{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,pi(t,{[e]:"".concat(parseFloat(pi(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],pi(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Qi(t,Gi).forEach(t=>this.adjustAndStore(r,t,e.scrollBarWidth)),Qi(t,Yi).forEach(t=>this.adjustAndStore(s,t,-e.scrollBarWidth)),Qi(t,Ji).forEach(t=>this.adjustAndStore(s,t,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=$i(n.className,a):n.setAttribute("class",$i(n.className&&n.className.baseVal||"",a));const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Qi(t,Gi).forEach(e=>this.restore(r,e)),Qi(t,Yi).forEach(e=>this.restore(s,e)),Qi(t,Ji).forEach(e=>this.restore(s,e))}}let Zi;function eo(e,t){return eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eo(e,t)}const to=!1,no=r.createContext(null);var ao="unmounted",ro="exited",so="entering",io="entered",oo="exiting",lo=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var r,s=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?s?(r=ro,a.appearStatus=so):r=io:r=t.unmountOnExit||t.mountOnEnter?ao:ro,a.state={status:r},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,eo(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ao?{status:ro}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==so&&n!==io&&(t=so):n!==so&&n!==io||(t=oo)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===so){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ot.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ro&&this.setState({status:ao})},s.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,r=this.props.nodeRef?[a]:[ot.findDOMNode(this),a],s=r[0],i=r[1],o=this.getTimeouts(),l=a?o.appear:o.enter;!e&&!n||to?this.safeSetState({status:io},function(){t.props.onEntered(s)}):(this.props.onEnter(s,i),this.safeSetState({status:so},function(){t.props.onEntering(s,i),t.onTransitionEnd(l,function(){t.safeSetState({status:io},function(){t.props.onEntered(s,i)})})}))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:ot.findDOMNode(this);t&&!to?(this.props.onExit(a),this.safeSetState({status:oo},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:ro},function(){e.props.onExited(a)})})})):this.safeSetState({status:ro},function(){e.props.onExited(a)})},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ot.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],i=r[1];this.props.addEndListener(s,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===ao)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ke(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(no.Provider,{value:null},"function"===typeof n?n(e,a):r.cloneElement(r.Children.only(n),a))},a}(r.Component);function co(){}lo.contextType=no,lo.propTypes={},lo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:co,onEntering:co,onEntered:co,onExit:co,onExiting:co,onExited:co},lo.UNMOUNTED=ao,lo.EXITED=ro,lo.ENTERING=so,lo.ENTERED=io,lo.EXITING=oo;const uo=lo;function mo(e,t){const n=pi(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function ho(e,t){const n=mo(e,"transitionDuration"),a=mo(e,"transitionDelay"),r=xi(e,n=>{n.target===e&&(r(),t(n))},n+a)}const po=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],fo=r.forwardRef((e,t)=>{let{onEnter:n,onEntering:a,onEntered:s,onExit:i,onExiting:o,onExited:l,addEndListener:c,children:d,childRef:u}=e,m=Ce(e,po);const h=(0,r.useRef)(null),p=oi(h,u),f=e=>{var t;p((t=e)&&"setState"in t?ot.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&h.current&&e(h.current,t)},x=(0,r.useCallback)(g(n),[n]),v=(0,r.useCallback)(g(a),[a]),y=(0,r.useCallback)(g(s),[s]),b=(0,r.useCallback)(g(i),[i]),j=(0,r.useCallback)(g(o),[o]),N=(0,r.useCallback)(g(l),[l]),w=(0,r.useCallback)(g(c),[c]);return(0,Wa.jsx)(uo,Se(Se({ref:t},m),{},{onEnter:x,onEntered:y,onEntering:v,onExit:b,onExited:N,onExiting:j,addEndListener:w,nodeRef:h,children:"function"===typeof d?(e,t)=>d(e,Se(Se({},t),{},{ref:f})):r.cloneElement(d,{ref:f})}))});fo.displayName="TransitionWrapper";const go=fo,xo=["className","children","transitionClasses","onEnter"],vo={[so]:"show",[io]:"show"},yo=r.forwardRef((e,t)=>{let{className:n,children:a,transitionClasses:s={},onEnter:i}=e;const o=Se({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ce(e,xo)),l=(0,r.useCallback)((e,t)=>{!function(e){e.offsetHeight}(e),null==i||i(e,t)},[i]);return(0,Wa.jsx)(go,Se(Se({ref:t,addEndListener:ho},o),{},{onEnter:l,childRef:Oi(a),children:(e,t)=>r.cloneElement(a,Se(Se({},t),{},{className:$s()("fade",n,a.props.className,vo[e],s[e])}))}))});yo.displayName="Fade";const bo=yo,jo=["xxl","xl","lg","md","sm","xs"],No="xs",wo=r.createContext({prefixes:{},breakpoints:jo,minBreakpoint:No}),{Consumer:So,Provider:ko}=wo;function Co(e,t){const{prefixes:n}=(0,r.useContext)(wo);return e||n[t]||t}function Eo(){const{breakpoints:e}=(0,r.useContext)(wo);return e}function Ao(){const{minBreakpoint:e}=(0,r.useContext)(wo);return e}const To=["className","bsPrefix","as"],Po=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,To);return a=Co(a,"modal-body"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Po.displayName="ModalBody";const Ro=Po,_o=r.createContext({onHide(){}}),Oo=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],Io=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,contentClassName:r,centered:s,size:i,fullscreen:o,children:l,scrollable:c}=e,d=Ce(e,Oo);n=Co(n,"modal");const u="".concat(n,"-dialog"),m="string"===typeof o?"".concat(n,"-fullscreen-").concat(o):"".concat(n,"-fullscreen");return(0,Wa.jsx)("div",Se(Se({},d),{},{ref:t,className:$s()(u,a,i&&"".concat(n,"-").concat(i),s&&"".concat(u,"-centered"),c&&"".concat(u,"-scrollable"),o&&m),children:(0,Wa.jsx)("div",{className:$s()("".concat(n,"-content"),r),children:l})}))});Io.displayName="ModalDialog";const Lo=Io,Do=["className","bsPrefix","as"],Bo=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,Do);return a=Co(a,"modal-footer"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Bo.displayName="ModalFooter";const Fo=Bo;var Mo=n(173),zo=n.n(Mo);const Uo=["className","variant","aria-label"],Wo={"aria-label":zo().string,onClick:zo().func,variant:zo().oneOf(["white"])},Vo=r.forwardRef((e,t)=>{let{className:n,variant:a,"aria-label":r="Close"}=e,s=Ce(e,Uo);return(0,Wa.jsx)("button",Se({ref:t,type:"button",className:$s()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":r},s))});Vo.displayName="CloseButton",Vo.propTypes=Wo;const qo=Vo,Ho=["closeLabel","closeVariant","closeButton","onHide","children"],Ko=r.forwardRef((e,t)=>{let{closeLabel:n="Close",closeVariant:a,closeButton:s=!1,onHide:i,children:o}=e,l=Ce(e,Ho);const c=(0,r.useContext)(_o),d=si(()=>{null==c||c.onHide(),null==i||i()});return(0,Wa.jsxs)("div",Se(Se({ref:t},l),{},{children:[o,s&&(0,Wa.jsx)(qo,{"aria-label":n,variant:a,onClick:d})]}))});Ko.displayName="AbstractModalHeader";const Qo=Ko,$o=["bsPrefix","className","closeLabel","closeButton"],Go=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,closeLabel:r="Close",closeButton:s=!1}=e,i=Ce(e,$o);return n=Co(n,"modal-header"),(0,Wa.jsx)(Qo,Se(Se({ref:t},i),{},{className:$s()(a,n),closeLabel:r,closeButton:s}))});Go.displayName="ModalHeader";const Yo=Go,Jo=e=>r.forwardRef((t,n)=>(0,Wa.jsx)("div",Se(Se({},t),{},{ref:n,className:$s()(t.className,e)}))),Xo=["className","bsPrefix","as"],Zo=Jo("h4"),el=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r=Zo}=e,s=Ce(e,Xo);return a=Co(a,"modal-title"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});el.displayName="ModalTitle";const tl=el,nl=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function al(e){return(0,Wa.jsx)(bo,Se(Se({},e),{},{timeout:null}))}function rl(e){return(0,Wa.jsx)(bo,Se(Se({},e),{},{timeout:null}))}const sl=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,style:s,dialogClassName:i,contentClassName:o,children:l,dialogAs:c=Lo,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":m,"aria-label":h,show:p=!1,animation:f=!0,backdrop:g=!0,keyboard:x=!0,onEscapeKeyDown:v,onShow:y,onHide:b,container:j,autoFocus:N=!0,enforceFocus:w=!0,restoreFocus:S=!0,restoreFocusOptions:k,onEntered:C,onExit:E,onExiting:A,onEnter:T,onEntering:P,onExited:R,backdropClassName:_,manager:O}=e,I=Ce(e,nl);const[L,D]=(0,r.useState)({}),[B,F]=(0,r.useState)(!1),M=(0,r.useRef)(!1),z=(0,r.useRef)(!1),U=(0,r.useRef)(null),[W,V]=(0,r.useState)(null),q=oi(t,V),H=si(b),K=function(){const{dir:e}=(0,r.useContext)(wo);return"rtl"===e}();n=Co(n,"modal");const Q=(0,r.useMemo)(()=>({onHide:H}),[H]);function $(){return O||function(e){return Zi||(Zi=new Xi(e)),Zi}({isRTL:K})}function G(e){if(!Gs)return;const t=$().getScrollbarWidth()>0,n=e.scrollHeight>ei(e).documentElement.clientHeight;D({paddingRight:t&&!n?ai():void 0,paddingLeft:!t&&n?ai():void 0})}const Y=si(()=>{W&&G(W.dialog)});li(()=>{ti(window,"resize",Y),null==U.current||U.current()});const J=()=>{M.current=!0},X=e=>{M.current&&W&&e.target===W.dialog&&(z.current=!0),M.current=!1},Z=()=>{F(!0),U.current=xi(W.dialog,()=>{F(!1)})},ee=e=>{"static"!==g?z.current||e.target!==e.currentTarget?z.current=!1:null==b||b():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,r.useCallback)(e=>(0,Wa.jsx)("div",Se(Se({},e),{},{className:$s()("".concat(n,"-backdrop"),_,!f&&"show")})),[f,_,n]),ne=Se(Se({},s),L);ne.display="block";return(0,Wa.jsx)(_o.Provider,{value:Q,children:(0,Wa.jsx)(Hi,{show:p,ref:q,backdrop:g,container:j,keyboard:!0,autoFocus:N,enforceFocus:w,restoreFocus:S,restoreFocusOptions:k,onEscapeKeyDown:e=>{x?null==v||v(e):(e.preventDefault(),"static"===g&&Z())},onShow:y,onHide:b,onEnter:(e,t)=>{e&&G(e),null==T||T(e,t)},onEntering:(e,t)=>{null==P||P(e,t),Zs(window,"resize",Y)},onEntered:C,onExit:e=>{null==U.current||U.current(),null==E||E(e)},onExiting:A,onExited:e=>{e&&(e.style.display=""),null==R||R(e),ti(window,"resize",Y)},manager:$(),transition:f?al:void 0,backdropTransition:f?rl:void 0,renderBackdrop:te,renderDialog:e=>(0,Wa.jsx)("div",Se(Se({role:"dialog"},e),{},{style:ne,className:$s()(a,n,B&&"".concat(n,"-static"),!f&&"show"),onClick:g?ee:void 0,onMouseUp:X,"data-bs-theme":d,"aria-label":h,"aria-labelledby":u,"aria-describedby":m,children:(0,Wa.jsx)(c,Se(Se({},I),{},{onMouseDown:J,className:i,contentClassName:o,children:l}))}))})})});sl.displayName="Modal";const il=Object.assign(sl,{Body:Ro,Header:Yo,Title:tl,Footer:Fo,Dialog:Lo,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ol.apply(null,arguments)}n(740);function ll(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function cl(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function dl(e,t){return Object.keys(t).reduce(function(n,a){var s,i=n,o=i[ll(a)],l=i[a],c=ke(i,[ll(a),a].map(cl)),d=t[a],u=function(e,t,n){var a=(0,r.useRef)(void 0!==e),s=(0,r.useState)(t),i=s[0],o=s[1],l=void 0!==e,c=a.current;return a.current=l,!l&&c&&i!==t&&o(t),[l?e:i,(0,r.useCallback)(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];n&&n.apply(void 0,[e].concat(a)),o(e)},[n])]}(l,o,e[d]),m=u[0],h=u[1];return ol({},c,((s={})[a]=m,s[d]=h,s))},e)}function ul(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ml(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function hl(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}ul.__suppressDeprecationWarning=!0,ml.__suppressDeprecationWarning=!0,hl.__suppressDeprecationWarning=!0;const pl=["className","bsPrefix","as"],fl=Jo("h4");fl.displayName="DivStyledAsH4";const gl=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r=fl}=e,s=Ce(e,pl);return a=Co(a,"alert-heading"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});gl.displayName="AlertHeading";const xl=gl;new WeakMap;const vl=["as","disabled"];function yl(e){let{tagName:t,disabled:n,href:a,target:r,rel:s,role:i,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=a||null!=r||null!=s?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},d];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=i?i:"button",disabled:void 0,tabIndex:n?void 0:l,href:a,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const bl=r.forwardRef((e,t)=>{let{as:n,disabled:a}=e,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,vl);const[s,{tagName:i}]=yl(Object.assign({tagName:n,disabled:a},r));return(0,Wa.jsx)(i,Object.assign({},r,s,{ref:t}))});bl.displayName="Button";const jl=["onKeyDown"];const Nl=r.forwardRef((e,t)=>{let{onKeyDown:n}=e,a=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,jl);const[r]=yl(Object.assign({tagName:"a"},a)),s=Ni(e=>{r.onKeyDown(e),null==n||n(e)});return(i=a.href)&&"#"!==i.trim()&&"button"!==a.role?(0,Wa.jsx)("a",Object.assign({ref:t},a,{onKeyDown:n})):(0,Wa.jsx)("a",Object.assign({ref:t},a,r,{onKeyDown:s}));var i});Nl.displayName="Anchor";const wl=Nl,Sl=["className","bsPrefix","as"],kl=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r=wl}=e,s=Ce(e,Sl);return a=Co(a,"alert-link"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});kl.displayName="AlertLink";const Cl=kl,El=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Al=r.forwardRef((e,t)=>{const n=dl(e,{show:"onClose"}),{bsPrefix:a,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:o,children:l,variant:c="primary",onClose:d,dismissible:u,transition:m=bo}=n,h=Ce(n,El),p=Co(a,"alert"),f=si(e=>{d&&d(!1,e)}),g=!0===m?bo:m,x=(0,Wa.jsxs)("div",Se(Se({role:"alert"},g?void 0:h),{},{ref:t,className:$s()(o,p,c&&"".concat(p,"-").concat(c),u&&"".concat(p,"-dismissible")),children:[u&&(0,Wa.jsx)(qo,{onClick:f,"aria-label":s,variant:i}),l]}));return g?(0,Wa.jsx)(g,Se(Se({unmountOnExit:!0},h),{},{ref:void 0,in:r,children:x})):r?x:null});Al.displayName="Alert";const Tl=Object.assign(Al,{Link:Cl,Heading:xl}),Pl=["bsPrefix","variant","animation","size","as","className"],Rl=r.forwardRef((e,t)=>{let{bsPrefix:n,variant:a,animation:r="border",size:s,as:i="div",className:o}=e,l=Ce(e,Pl);n=Co(n,"spinner");const c="".concat(n,"-").concat(r);return(0,Wa.jsx)(i,Se(Se({ref:t},l),{},{className:$s()(o,c,s&&"".concat(c,"-").concat(s),a&&"text-".concat(a))}))});Rl.displayName="Spinner";const _l=Rl,Ol=["as","bsPrefix","variant","size","active","disabled","className"],Il=r.forwardRef((e,t)=>{let{as:n,bsPrefix:a,variant:r="primary",size:s,active:i=!1,disabled:o=!1,className:l}=e,c=Ce(e,Ol);const d=Co(a,"btn"),[u,{tagName:m}]=yl(Se({tagName:n,disabled:o},c)),h=m;return(0,Wa.jsx)(h,Se(Se(Se({},u),c),{},{ref:t,disabled:o,className:$s()(l,d,i&&"active",r&&"".concat(d,"-").concat(r),s&&"".concat(d,"-").concat(s),c.href&&o&&"disabled")}))});Il.displayName="Button";const Ll=Il,Dl=e=>{let{show:t,onHide:n,onLocationGranted:a,onLocationDenied:s,requireLocation:i=!0}=e;const[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)("prompt");(0,r.useEffect)(()=>{t&&f()},[t]);const f=async()=>{if(navigator.permissions)try{const e=await navigator.permissions.query({name:"geolocation"});p(e.state),"granted"===e.state&&await g()}catch(im){console.log("Permission API not supported")}},g=async()=>{l(!0),d("");try{const e=await Vs.requestLocationPermission(),t=await Vs.getAddressFromCoordinates(e.latitude,e.longitude),n={coordinates:{latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy,altitude:e.altitude,timestamp:e.timestamp},address:t,formatted:Vs.formatCoordinates(e.latitude,e.longitude,e.accuracy)};m(n),p("granted"),a(n)}catch(im){d(im.message),p("denied"),i&&s(im.message)}finally{l(!1)}},x=()=>{g()};return(0,Wa.jsxs)(il,{show:t,onHide:n,centered:!0,backdrop:"static",keyboard:!1,children:[(0,Wa.jsx)(il.Header,{children:(0,Wa.jsxs)(il.Title,{children:[(0,Wa.jsx)("i",{className:"fas fa-map-marker-alt me-2"}),"Location Permission Required"]})}),(0,Wa.jsxs)(il.Body,{children:["prompt"===h&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsxs)(Tl,{variant:"info",children:[(0,Wa.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,Wa.jsx)("strong",{children:"Why do we need your location?"}),(0,Wa.jsxs)("ul",{className:"mt-2 mb-0",children:[(0,Wa.jsx)("li",{children:"Enhanced security for your transactions"}),(0,Wa.jsx)("li",{children:"Fraud prevention and risk assessment"}),(0,Wa.jsx)("li",{children:"Compliance with financial regulations"}),(0,Wa.jsx)("li",{children:"Better customer support and dispute resolution"})]})]}),(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("i",{className:"fas fa-shield-alt fa-3x text-primary mb-3"}),(0,Wa.jsx)("p",{className:"mb-3",children:"We need access to your location to ensure secure transactions. Your location data is encrypted and used only for security purposes."})]})]}),o&&(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)(_l,{animation:"border",variant:"primary"}),(0,Wa.jsx)("p",{className:"mt-2",children:"Getting your location..."})]}),c&&(0,Wa.jsxs)(Tl,{variant:"danger",children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),c,i&&(0,Wa.jsx)("div",{className:"mt-2",children:(0,Wa.jsxs)("small",{children:[(0,Wa.jsx)("strong",{children:"Note:"})," Location access is mandatory for security compliance. Please enable location services and try again."]})})]}),u&&"granted"===h&&(0,Wa.jsxs)(Tl,{variant:"success",children:[(0,Wa.jsx)("i",{className:"fas fa-check-circle me-2"}),(0,Wa.jsx)("strong",{children:"Location Access Granted!"}),(0,Wa.jsx)("div",{className:"mt-2",children:(0,Wa.jsxs)("small",{children:[(0,Wa.jsx)("strong",{children:"Coordinates:"})," ",u.formatted.latitude,", ",u.formatted.longitude,(0,Wa.jsx)("br",{}),(0,Wa.jsx)("strong",{children:"Accuracy:"})," ",u.formatted.accuracy,(0,Wa.jsx)("br",{}),(0,Wa.jsx)("strong",{children:"Address:"})," ",u.address.formattedAddress]})})]})]}),(0,Wa.jsxs)(il.Footer,{children:["prompt"===h&&!o&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)(Ll,{variant:"success",onClick:x,children:[(0,Wa.jsx)("i",{className:"fas fa-map-marker-alt me-2"}),"Allow Location Access"]}),(0,Wa.jsxs)(Ll,{variant:"outline-danger",onClick:()=>{p("denied");const e="Location access is required to proceed with transactions for security purposes.";d(e),i&&s(e)},children:[(0,Wa.jsx)("i",{className:"fas fa-times me-2"}),"Deny Access"]})]}),"denied"===h&&!i&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)(Ll,{variant:"primary",onClick:x,children:[(0,Wa.jsx)("i",{className:"fas fa-redo me-2"}),"Try Again"]}),(0,Wa.jsx)(Ll,{variant:"outline-secondary",onClick:()=>{i||a(null)},children:"Proceed Without Location"})]}),"denied"===h&&i&&(0,Wa.jsxs)(Ll,{variant:"primary",onClick:x,children:[(0,Wa.jsx)("i",{className:"fas fa-redo me-2"}),"Try Again"]}),"granted"===h&&u&&(0,Wa.jsxs)(Ll,{variant:"success",onClick:n,children:[(0,Wa.jsx)("i",{className:"fas fa-check me-2"}),"Continue"]})]})]})},Bl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{requireLocation:n=!0,showLocationInfo:a=!1,skipLocationCheck:s=!1}=t;return function(t){const{locationData:i,permissionGranted:o,loading:l,error:c,requestLocationPermission:d,isLocationAvailable:u,getFormattedLocation:m,getAddressString:h}=Hs(),[p,f]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[v,y]=(0,r.useState)(!n);(0,r.useEffect)(()=>{s?y(!0):n&&!u()?(f(!0),y(!1)):u()&&y(!0)},[n,s,u]);const b=async()=>{try{await d(),f(!1),x(""),y(!0)}catch(im){x(im.message),n&&y(!1)}};return l&&n&&!s?(0,Wa.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"},children:(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Wa.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Wa.jsx)("p",{className:"mt-2",children:"Checking location permissions..."})]})}):n&&!v&&!p&&g?(0,Wa.jsx)("div",{className:"container mt-4",children:(0,Wa.jsxs)(Tl,{variant:"danger",children:[(0,Wa.jsxs)(Tl.Heading,{children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"Location Access Required"]}),(0,Wa.jsx)("p",{children:g}),(0,Wa.jsx)("hr",{}),(0,Wa.jsx)("div",{className:"d-flex justify-content-end",children:(0,Wa.jsxs)("button",{className:"btn btn-primary",onClick:b,children:[(0,Wa.jsx)("i",{className:"fas fa-redo me-2"}),"Try Again"]})})]})}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Dl,{show:p,onHide:()=>!n&&f(!1),onLocationGranted:e=>{f(!1),x(""),y(!0)},onLocationDenied:e=>{x(e),n?y(!1):(f(!1),y(!0))},requireLocation:n}),a&&u()&&(0,Wa.jsx)("div",{className:"mb-3",children:(0,Wa.jsx)(Tl,{variant:"info",className:"mb-3",children:(0,Wa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Wa.jsx)("i",{className:"fas fa-map-marker-alt me-2"}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:"Current Location:"}),(0,Wa.jsx)("br",{}),(0,Wa.jsxs)("small",{children:[(0,Wa.jsx)("strong",{children:"Coordinates:"})," ",m(),(0,Wa.jsx)("br",{}),(0,Wa.jsx)("strong",{children:"Address:"})," ",h()]})]})]})})}),c&&(0,Wa.jsxs)(Tl,{variant:"warning",className:"mb-3",children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,Wa.jsx)("strong",{children:"Location Warning:"})," ",c,!n&&(0,Wa.jsx)("div",{className:"mt-2",children:(0,Wa.jsx)("small",{children:"You can continue without location access, but some features may be limited."})})]}),v&&(0,Wa.jsx)(e,Se(Se({},t),{},{locationData:i,hasLocationPermission:o,isLocationAvailable:u()}))]})}},Fl=Bl(e=>{let{locationData:t,hasLocationPermission:n,isLocationAvailable:a}=e;const[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)([]),[f,g]=(0,r.useState)(""),[x,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),[k,C]=(0,r.useState)(null),{success:E,info:A,error:T}=Ns(),{getLocationForAPI:P}=Hs();(0,r.useEffect)(()=>{R(),_(),O()},[]),(0,r.useEffect)(()=>()=>{k&&URL.revokeObjectURL(k)},[k]);const R=async()=>{try{const e=await Ua.get("http://localhost:5001/api/wallet/my-wallet");i(e.data.data.wallet)}catch(e){console.error("Error fetching wallet data:",e),T("Failed to load wallet data")}finally{l(!1)}},_=async()=>{try{const e=await Ua.get("http://localhost:5001/api/transactions",{params:{status:"awaiting_approval",type:"topup"}});p(e.data.data.transactions||[])}catch(im){console.error("Error fetching pending transactions:",im)}},O=async()=>{try{var e;console.log("Attempting to fetch UPI barcodes...");const t=await Ua.get("http://localhost:5001/api/upi-barcodes/active",{headers:{"Content-Type":"application/json"}});console.log("UPI Barcodes Response:",t.data);const n=(null===(e=t.data.data)||void 0===e?void 0:e.barcodes)||t.data.data||[];console.log("Parsed barcodes:",n),v(n);const a=n.find(e=>e.isDefault);console.log("Default barcode found:",a),a?(b(a),console.log("Selected barcode set to:",a)):n.length>0&&(b(n[0]),console.log("No default found, selected first barcode:",n[0])),alert("Barcodes loaded: ".concat(n.length,", Selected: ").concat(y?"YES":"NO"))}catch(im){console.error("Error fetching UPI barcodes:",im),alert("Error fetching barcodes: ".concat(im.message))}};return o?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"dashboard-container",children:[(0,Wa.jsxs)("div",{className:"welcome-header",children:[(0,Wa.jsxs)("h1",{children:[(0,Wa.jsx)("i",{className:"fas fa-wallet"})," My Wallet"]}),(0,Wa.jsx)("p",{className:"welcome-subtitle",children:"Manage your digital wallet"})]}),(0,Wa.jsx)("div",{className:"wallet-summary",children:(0,Wa.jsxs)("div",{className:"wallet-card",children:[(0,Wa.jsxs)("div",{className:"wallet-header",children:[(0,Wa.jsx)("i",{className:"fas fa-wallet wallet-icon"}),(0,Wa.jsx)("div",{className:"wallet-info",children:(0,Wa.jsx)("h2",{children:"Available Balance"})})]}),(0,Wa.jsxs)("div",{className:"wallet-balance",children:["\u20b9",(null===s||void 0===s?void 0:s.balance.toFixed(2))||"0.00"]}),(0,Wa.jsxs)("p",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:["Last updated: ",new Date(null===s||void 0===s?void 0:s.updatedAt).toLocaleString()]}),h.length>0&&(0,Wa.jsxs)("div",{className:"pending-transactions",style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(255, 255, 255, 0.1)",borderRadius:"var(--border-radius)"},children:[(0,Wa.jsx)("h3",{style:{color:"rgba(255, 255, 255, 0.9)",fontSize:"1rem",marginBottom:"1rem"},children:"Pending Approvals"}),h.map(e=>(0,Wa.jsxs)("div",{className:"pending-transaction",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 0",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Wa.jsxs)("span",{style:{color:"white",fontWeight:"600"},children:["\u20b9",e.amount.toFixed(2)]}),(0,Wa.jsx)("span",{className:"status-badge awaiting",style:{background:"#ffc107",color:"#000",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem"},children:"Awaiting Approval"}),(0,Wa.jsx)("span",{style:{color:"rgba(255, 255, 255, 0.8)",fontSize:"0.75rem"},children:new Date(e.createdAt).toLocaleDateString()})]},e._id))]})]})}),(0,Wa.jsxs)("div",{className:"card",children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1.5rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-plus-circle",style:{fontSize:"1.5rem",color:"var(--primary-color)",marginRight:"0.75rem"}}),(0,Wa.jsx)("h2",{style:{margin:0,fontSize:"1.25rem",fontWeight:"700"},children:"Add Money to Wallet"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!c||isNaN(c)||parseFloat(c)<=0)it.error("Please enter a valid amount");else{m(!0);try{const e=new FormData;e.append("amount",parseFloat(c)),e.append("paymentMethod","upi"),y&&e.append("upiBarcode",JSON.stringify({id:y._id,name:y.name,upiId:y.upiId})),w&&e.append("paymentScreenshot",w);const t=P();t&&e.append("location",JSON.stringify(t));await Ua.post("http://localhost:5001/api/wallet/topup",e,{headers:{"Content-Type":"multipart/form-data"}});_(),A("Your request to add \u20b9".concat(c," has been submitted for approval")),d(""),g(""),w&&(S(null),C(null),document.getElementById("paymentScreenshot").value="")}catch(t){console.error("Error topping up wallet:",t),T("Failed to top up wallet")}finally{m(!1)}}},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",display:"block"},children:"Quick Select Amount"}),(0,Wa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem",marginBottom:"1rem"},children:[100,200,500,1e3,2e3,5e3].map(e=>(0,Wa.jsxs)("button",{type:"button",className:"btn touch-target ".concat(f===e.toString()?"btn-primary":"btn-outline-primary"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},onClick:()=>{g(e.toString()),d(e.toString())},children:["\u20b9",e]},e))})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.5rem",display:"block"},children:"Or Enter Custom Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"amount",value:c,onChange:e=>{d(e.target.value),g("")},className:"form-control touch-target",placeholder:"Enter amount",min:"1",step:"1",style:{fontSize:"1rem",padding:"0.875rem"},required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",display:"block"},children:"Payment Method"}),(0,Wa.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:(0,Wa.jsxs)("div",{className:"payment-method active touch-target",style:{display:"flex",alignItems:"center",padding:"1rem",border:"2px solid var(--primary-color)",borderRadius:"var(--border-radius)",background:"rgba(76, 175, 80, 0.1)"},children:[(0,Wa.jsx)("input",{type:"radio",id:"upi",name:"paymentMethod",value:"upi",defaultChecked:!0,style:{marginRight:"0.75rem",transform:"scale(1.2)"}}),(0,Wa.jsx)("i",{className:"fab fa-google-pay",style:{fontSize:"1.25rem",marginRight:"0.75rem",color:"var(--primary-color)"}}),(0,Wa.jsx)("label",{htmlFor:"upi",style:{fontSize:"1rem",fontWeight:"500",cursor:"pointer",flex:1},children:"UPI Payment"})]})})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",display:"block"},children:"UPI Payment QR Code"}),(0,Wa.jsxs)("div",{style:{padding:"10px",background:"#f0f0f0",margin:"10px 0",fontSize:"12px"},children:["Debug Info: selectedBarcode = ",y?"EXISTS":"NULL",", upiBarcodes length = ",x.length,y&&(0,Wa.jsxs)("div",{children:["Barcode URL: ",y.barcodeUrl]})]}),y?(0,Wa.jsxs)("div",{style:{border:"2px solid var(--primary-color)",borderRadius:"var(--border-radius)",padding:"1.5rem",textAlign:"center",background:"rgba(76, 175, 80, 0.05)"},children:[(0,Wa.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,Wa.jsx)("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem",fontWeight:"600"},children:y.name}),(0,Wa.jsxs)("p",{style:{margin:"0 0 1rem 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:["UPI ID: ",y.upiId]})]}),(0,Wa.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:[(0,Wa.jsx)("img",{src:y.barcodeUrl,alt:"UPI QR Code for ".concat(y.name),style:{maxWidth:"200px",maxHeight:"200px",border:"1px solid #ddd",borderRadius:"8px"},onError:e=>{console.error("Failed to load QR code image:",y.barcodeUrl),e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Wa.jsxs)("div",{style:{display:"none",padding:"2rem",background:"#f8f9fa",borderRadius:"8px",color:"#666"},children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle",style:{fontSize:"2rem",marginBottom:"0.5rem"}}),(0,Wa.jsx)("p",{children:"QR Code not available"})]})]}),(0,Wa.jsxs)("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:[(0,Wa.jsxs)("p",{style:{margin:"0 0 0.5rem 0"},children:[(0,Wa.jsx)("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),"Scan this QR code with any UPI app to pay \u20b9",c||"0"]}),(0,Wa.jsx)("p",{style:{margin:0},children:"After payment, upload the screenshot below for faster processing"})]}),x.length>1&&(0,Wa.jsxs)("button",{type:"button",className:"btn btn-outline-primary",style:{marginTop:"1rem",fontSize:"0.875rem"},onClick:()=>N(!j),children:[(0,Wa.jsx)("i",{className:"fas ".concat(j?"fa-eye-slash":"fa-eye"),style:{marginRight:"0.5rem"}}),j?"Hide":"Show"," Other Payment Options"]})]}):(0,Wa.jsxs)("div",{style:{border:"2px dashed #ccc",borderRadius:"var(--border-radius)",padding:"1.5rem",textAlign:"center",background:"#f8f9fa"},children:[(0,Wa.jsx)("i",{className:"fas fa-qrcode",style:{fontSize:"2rem",color:"#ccc",marginBottom:"0.5rem"}}),(0,Wa.jsx)("p",{style:{margin:"0.5rem 0",fontSize:"1rem",color:"#666"},children:"No UPI QR codes available"}),(0,Wa.jsx)("p",{style:{margin:0,fontSize:"0.875rem",color:"#999"},children:"Please contact support to set up payment methods"})]}),j&&x.length>1&&(0,Wa.jsxs)("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f8f9fa",borderRadius:"var(--border-radius)"},children:[(0,Wa.jsx)("h4",{style:{margin:"0 0 1rem 0",fontSize:"1rem",fontWeight:"600"},children:"Choose Payment Method:"}),(0,Wa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:x.map(e=>(0,Wa.jsxs)("div",{className:"payment-option ".concat((null===y||void 0===y?void 0:y._id)===e._id?"selected":""),style:{padding:"1rem",border:(null===y||void 0===y?void 0:y._id)===e._id?"2px solid var(--primary-color)":"1px solid #ddd",borderRadius:"8px",cursor:"pointer",textAlign:"center",background:(null===y||void 0===y?void 0:y._id)===e._id?"rgba(76, 175, 80, 0.1)":"white"},onClick:()=>b(e),children:[(0,Wa.jsx)("h5",{style:{margin:"0 0 0.5rem 0",fontSize:"0.875rem",fontWeight:"600"},children:e.name}),(0,Wa.jsx)("p",{style:{margin:"0",fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.upiId}),e.isDefault&&(0,Wa.jsx)("span",{style:{display:"inline-block",marginTop:"0.5rem",padding:"0.25rem 0.5rem",background:"var(--primary-color)",color:"white",borderRadius:"12px",fontSize:"0.625rem"},children:"Default"})]},e._id))})]})]}),(0,Wa.jsxs)("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[(0,Wa.jsxs)("label",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.75rem",display:"block"},children:[(0,Wa.jsx)("i",{className:"fas fa-camera",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Upload Payment Screenshot (Optional)"]}),(0,Wa.jsxs)("div",{style:{border:"2px dashed var(--primary-color)",borderRadius:"var(--border-radius)",padding:"1.5rem",textAlign:"center",background:"rgba(76, 175, 80, 0.05)"},children:[(0,Wa.jsx)("input",{type:"file",id:"paymentScreenshot",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){S(t);const e=URL.createObjectURL(t);C(e)}}}),k?(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("img",{src:k,alt:"Payment Screenshot Preview",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"8px",marginBottom:"1rem"}}),(0,Wa.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"0.5rem"},children:[(0,Wa.jsxs)("label",{htmlFor:"paymentScreenshot",className:"btn btn-outline-primary",style:{cursor:"pointer",fontSize:"0.875rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-edit",style:{marginRight:"0.5rem"}}),"Change Image"]}),(0,Wa.jsxs)("button",{type:"button",className:"btn btn-outline-danger",style:{fontSize:"0.875rem"},onClick:()=>{S(null),C(null),document.getElementById("paymentScreenshot").value=""},children:[(0,Wa.jsx)("i",{className:"fas fa-trash",style:{marginRight:"0.5rem"}}),"Remove"]})]}),(0,Wa.jsxs)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"var(--text-secondary)"},children:["File: ",null===w||void 0===w?void 0:w.name]})]}):(0,Wa.jsxs)("label",{htmlFor:"paymentScreenshot",style:{cursor:"pointer",display:"block"},children:[(0,Wa.jsx)("i",{className:"fas fa-cloud-upload-alt",style:{fontSize:"2rem",color:"var(--primary-color)",marginBottom:"0.5rem"}}),(0,Wa.jsx)("p",{style:{margin:"0.5rem 0",fontSize:"1rem",fontWeight:"500"},children:"Click to upload payment screenshot"}),(0,Wa.jsx)("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Upload screenshot of your UPI payment for faster processing"})]})]}),(0,Wa.jsxs)("div",{style:{marginTop:"0.75rem",fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),"Supported formats: JPG, PNG, GIF (Max 5MB)"]})]}),(0,Wa.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block touch-target",disabled:u,style:{padding:"1rem",fontSize:"1.125rem",fontWeight:"700",marginTop:"1.5rem"},children:[(0,Wa.jsx)("i",{className:"fas ".concat(u?"fa-spinner fa-spin":"fa-plus"," btn-icon")}),u?"Processing...":"Add Money"]}),(0,Wa.jsx)("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"var(--light-color)",borderRadius:"var(--border-radius)",textAlign:"center"},children:(0,Wa.jsxs)("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-info-circle",style:{marginRight:"0.5rem"}}),"Note: This is a demo application. No actual payment will be processed."]})})]})]})]})},{requireLocation:!0,showLocationInfo:!0}),Ml=()=>{const{isAuthenticated:e,loading:t}=qa(),[n,a]=(0,r.useState)(0),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),c=ee(),[d,u]=(0,r.useState)({mobileNumber:"",operator:"",plan:"",amount:"",circle:"DELHI"}),[m,h]=(0,r.useState)([]),{mobileNumber:p,operator:f,plan:g,amount:x,circle:v}=d;(0,r.useEffect)(()=>{if(!t){if(!e)return void c("/login");y(),b()}},[e,t,c]);const y=async()=>{try{const e=await Ua.get("/wallet/balance");a(e.data.data.wallet.balance)}catch(e){console.error("Error fetching wallet data:",e),it.error("Failed to load wallet data")}finally{i(!1)}},b=async()=>{try{const e=await Ua.get("/recharge/operators?type=mobile");h(e.data.data||[])}catch(e){console.error("Error fetching operators:",e),it.error("Failed to load operators")}},j=e=>{u(Se(Se({},d),{},{[e.target.name]:e.target.value}))},N=[{id:"plan1",name:"Unlimited Calls + 1.5GB/day - \u20b9299 (28 days)"},{id:"plan2",name:"Unlimited Calls + 2GB/day - \u20b9399 (56 days)"},{id:"plan3",name:"Unlimited Calls + 2.5GB/day - \u20b9599 (84 days)"},{id:"custom",name:"Custom Amount"}];return t||s?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):e?(0,Wa.jsxs)("div",{className:"recharge-container",children:[(0,Wa.jsx)("h1",{children:"Mobile Recharge"}),(0,Wa.jsx)("div",{className:"wallet-info",children:(0,Wa.jsxs)("p",{children:["Wallet Balance: ",(0,Wa.jsxs)("strong",{children:["\u20b9",n.toFixed(2)]})]})}),(0,Wa.jsx)("div",{className:"card",children:(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!p||!f||!x||!v)return void it.error("Please fill in all required fields");if(!/^\d{10}$/.test(p))return void it.error("Please enter a valid 10-digit mobile number");const t=parseFloat(x);if(t<=0)it.error("Please enter a valid amount");else if(t<1||t>1e4)it.error("Amount must be between \u20b91 and \u20b910000");else{l(!0);try{const e=await Ua.post("/recharge/mobile",{mobileNumber:p,operator:f,amount:t,circle:v});"success"===e.data.status&&(it.success("Recharge ".concat("pending"===e.data.data.status?"submitted for approval":"completed successfully")),await y(),c("/transactions"))}catch(n){console.error("Error submitting recharge request:",n),it.error("Failed to submit recharge request")}finally{l(!1)}}},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"mobileNumber",children:"Mobile Number"}),(0,Wa.jsx)("input",{type:"tel",id:"mobileNumber",name:"mobileNumber",value:p,onChange:j,className:"form-control",placeholder:"Enter 10-digit mobile number",pattern:"[0-9]{10}",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"operator",children:"Select Operator"}),(0,Wa.jsxs)("select",{id:"operator",name:"operator",value:f,onChange:j,className:"form-control",required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select an operator"}),m.map(e=>(0,Wa.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"circle",children:"Select Circle"}),(0,Wa.jsx)("select",{id:"circle",name:"circle",value:v,onChange:j,className:"form-control",required:!0,children:[{code:"DELHI",name:"Delhi"},{code:"MUMBAI",name:"Mumbai"},{code:"KOLKATA",name:"Kolkata"},{code:"CHENNAI",name:"Chennai"},{code:"BANGALORE",name:"Bangalore"},{code:"HYDERABAD",name:"Hyderabad"},{code:"PUNE",name:"Pune"},{code:"AHMEDABAD",name:"Ahmedabad"}].map(e=>(0,Wa.jsx)("option",{value:e.code,children:e.name},e.code))})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"plan",children:"Select Plan (Optional)"}),(0,Wa.jsxs)("select",{id:"plan",name:"plan",value:g,onChange:e=>{const t=N.find(t=>t.id===e.target.value);if(t&&"custom"!==t.id){const n=t.name.match(/\u20b9(\d+)/);if(n&&n[1])return void u(Se(Se({},d),{},{plan:e.target.value,amount:n[1]}))}u(Se(Se({},d),{},{plan:e.target.value,amount:""}))},className:"form-control",children:[(0,Wa.jsx)("option",{value:"",children:"Select a plan (or enter custom amount)"}),N.map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:x,onChange:j,className:"form-control",placeholder:"Enter amount",min:"1",step:"1",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:o,children:o?"Submitting...":"Submit Recharge Request"})]})})]}):null},zl=()=>{const[e,t]=(0,r.useState)(0),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),o=ee(),[l,c]=(0,r.useState)({subscriberId:"",operator:"",plan:"",amount:""}),{subscriberId:d,operator:u,plan:m,amount:h}=l;(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await Ua.get("/wallet/my-wallet");t(e.data.data.wallet.balance)}catch(e){console.error("Error fetching wallet data:",e),it.error("Failed to load wallet data")}finally{a(!1)}},f=e=>{c(Se(Se({},l),{},{[e.target.name]:e.target.value}))},g=[{id:"plan1",name:"Basic Pack - \u20b9299 (1 month)"},{id:"plan2",name:"Entertainment Pack - \u20b9399 (1 month)"},{id:"plan3",name:"Premium Pack - \u20b9599 (1 month)"},{id:"custom",name:"Custom Amount"}];return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"recharge-container",children:[(0,Wa.jsx)("h1",{children:"DTH Recharge"}),(0,Wa.jsx)("div",{className:"wallet-info",children:(0,Wa.jsxs)("p",{children:["Wallet Balance: ",(0,Wa.jsxs)("strong",{children:["\u20b9",e.toFixed(2)]})]})}),(0,Wa.jsx)("div",{className:"card",children:(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d&&u&&h)if(parseFloat(h)<=0)it.error("Please enter a valid amount");else{i(!0);try{await Ua.post("/transactions/process",{type:"dth-recharge",amount:parseFloat(h),metadata:{subscriberId:d,operator:u,plan:m}});it.success("DTH recharge request submitted for approval"),await p(),o("/transactions")}catch(t){console.error("Error submitting DTH recharge request:",t),it.error("Failed to submit DTH recharge request")}finally{i(!1)}}else it.error("Please fill in all required fields")},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"subscriberId",children:"Subscriber ID / Customer ID"}),(0,Wa.jsx)("input",{type:"text",id:"subscriberId",name:"subscriberId",value:d,onChange:f,className:"form-control",placeholder:"Enter your Subscriber ID / Customer ID",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"operator",children:"Select Operator"}),(0,Wa.jsxs)("select",{id:"operator",name:"operator",value:u,onChange:f,className:"form-control",required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select an operator"}),[{id:"tatasky",name:"Tata Play"},{id:"dishtv",name:"Dish TV"},{id:"airtelDTH",name:"Airtel Digital TV"},{id:"sunDirect",name:"Sun Direct"}].map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"plan",children:"Select Plan (Optional)"}),(0,Wa.jsxs)("select",{id:"plan",name:"plan",value:m,onChange:e=>{const t=g.find(t=>t.id===e.target.value);if(t&&"custom"!==t.id){const n=t.name.match(/\u20b9(\d+)/);if(n&&n[1])return void c(Se(Se({},l),{},{plan:e.target.value,amount:n[1]}))}c(Se(Se({},l),{},{plan:e.target.value,amount:""}))},className:"form-control",children:[(0,Wa.jsx)("option",{value:"",children:"Select a plan (or enter custom amount)"}),g.map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:h,onChange:f,className:"form-control",placeholder:"Enter amount",min:"1",step:"1",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:s,children:s?"Processing...":"Recharge Now"})]})})]})},Ul=()=>{var e,t,n;const{user:a}=qa(),[s,i]=(0,r.useState)("mobile"),[o,l]=(0,r.useState)({mobile:[],dth:[]}),[c]=(0,r.useState)(["Andhra Pradesh","Assam","Bihar","Chennai","Delhi","Gujarat","Haryana","Himachal Pradesh","Jammu Kashmir","Karnataka","Kerala","Kolkata","Madhya Pradesh","Maharashtra","Mumbai","North East","Orissa","Punjab","Rajasthan","Tamil Nadu","UP East","UP West","West Bengal"]),[d,u]=(0,r.useState)({mobileNumber:"",customerNumber:"",operator:"",amount:"",circle:""}),[m,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[g,x]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{b(),j()},[]);const b=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/recharge/operators",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();n.success&&l(n.data)}catch(e){console.error("Error fetching operators:",e)}},j=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/recharge/history?limit=5",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();n.success&&x(n.data.recharges)}catch(e){console.error("Error fetching recharge history:",e)}},N=e=>{const{name:t,value:n}=e.target;u(e=>Se(Se({},e),{},{[t]:n}))},w=e=>{switch(e){case"success":return"#28a745";case"failed":return"#dc3545";case"pending":return"#ffc107";default:return"#6c757d"}};return(0,Wa.jsxs)("div",{className:"recharge-container",children:[(0,Wa.jsxs)("div",{className:"recharge-header",children:[(0,Wa.jsx)("h2",{children:"Recharge & Bill Payment"}),(0,Wa.jsxs)("p",{children:["Wallet Balance: \u20b9",(null===a||void 0===a||null===(e=a.walletBalance)||void 0===e?void 0:e.toFixed(2))||"0.00"]})]}),(0,Wa.jsxs)("div",{className:"recharge-tabs",children:[(0,Wa.jsx)("button",{className:"tab-button ".concat("mobile"===s?"active":""),onClick:()=>i("mobile"),children:"Mobile Recharge"}),(0,Wa.jsx)("button",{className:"tab-button ".concat("dth"===s?"active":""),onClick:()=>i("dth"),children:"DTH Recharge"})]}),(0,Wa.jsxs)("div",{className:"recharge-form-container",children:[(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),f("");try{const e=localStorage.getItem("token"),t="mobile"===s?"/recharge/mobile":"/recharge/dth",n="mobile"===s?{mobileNumber:d.mobileNumber,operator:d.operator,amount:parseFloat(d.amount),circle:d.circle}:{customerNumber:d.customerNumber,operator:d.operator,amount:parseFloat(d.amount)},a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(n)}),r=await a.json();r.success?(f("".concat("mobile"===s?"Mobile":"DTH"," recharge successful! Transaction ID: ").concat(r.data.transactionId)),u({mobileNumber:"",customerNumber:"",operator:"",amount:"",circle:""}),j()):f(r.message||"Recharge failed. Please try again.")}catch(t){console.error("Recharge error:",t),f("Network error. Please check your connection and try again.")}finally{h(!1)}},className:"recharge-form",children:["mobile"===s?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Mobile Number"}),(0,Wa.jsx)("input",{type:"tel",name:"mobileNumber",value:d.mobileNumber,onChange:N,placeholder:"Enter 10-digit mobile number",pattern:"[6-9][0-9]{9}",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Operator"}),(0,Wa.jsxs)("select",{name:"operator",value:d.operator,onChange:N,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select Operator"}),null===(t=o.mobile)||void 0===t?void 0:t.map(e=>(0,Wa.jsxs)("option",{value:e.code,children:[e.name," ",e.type&&"(".concat(e.type,")")]},e.code))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Circle"}),(0,Wa.jsxs)("select",{name:"circle",value:d.circle,onChange:N,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select Circle"}),c.map(e=>(0,Wa.jsx)("option",{value:e,children:e},e))]})]})]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Customer Number"}),(0,Wa.jsx)("input",{type:"text",name:"customerNumber",value:d.customerNumber,onChange:N,placeholder:"Enter DTH customer number",minLength:"8",maxLength:"15",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"DTH Operator"}),(0,Wa.jsxs)("select",{name:"operator",value:d.operator,onChange:N,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select DTH Operator"}),null===(n=o.dth)||void 0===n?void 0:n.map(e=>(0,Wa.jsx)("option",{value:e.code,children:e.name},e.code))]})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"amount",value:d.amount,onChange:N,placeholder:"mobile"===s?"Min \u20b910, Max \u20b95000":"Min \u20b950, Max \u20b910000",min:"mobile"===s?"10":"50",max:"mobile"===s?"5000":"10000",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"recharge-button",disabled:m,children:m?"Processing...":"Recharge Now"})]}),p&&(0,Wa.jsx)("div",{className:"message ".concat(p.includes("successful")?"success":"error"),children:p})]}),(0,Wa.jsxs)("div",{className:"recharge-history-section",children:[(0,Wa.jsxs)("div",{className:"history-header",children:[(0,Wa.jsx)("h3",{children:"Recent Recharges"}),(0,Wa.jsxs)("button",{className:"toggle-history",onClick:()=>y(!v),children:[v?"Hide":"Show"," History"]})]}),v&&(0,Wa.jsx)("div",{className:"history-list",children:g.length>0?g.map(e=>(0,Wa.jsxs)("div",{className:"history-item",children:[(0,Wa.jsxs)("div",{className:"history-details",children:[(0,Wa.jsxs)("div",{className:"history-main",children:[(0,Wa.jsxs)("span",{className:"history-type",children:[e.type.toUpperCase()," - ",e.operator]}),(0,Wa.jsx)("span",{className:"history-number",children:e.mobileNumber||e.customerNumber})]}),(0,Wa.jsxs)("div",{className:"history-meta",children:[(0,Wa.jsxs)("span",{className:"history-amount",children:["\u20b9",e.amount]}),(0,Wa.jsx)("span",{className:"history-status",style:{color:w(e.status)},children:e.status.toUpperCase()})]})]}),(0,Wa.jsx)("div",{className:"history-date",children:new Date(e.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},e._id)):(0,Wa.jsx)("div",{className:"no-history",children:(0,Wa.jsx)("p",{children:"No recharge history found"})})})]})]})},Wl=()=>{var e;const[t,n]=(0,r.useState)(0),[a,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),l=ee(),[c,d]=(0,r.useState)({billerId:"",consumerNumber:"",billType:"",amount:""}),{billerId:u,consumerNumber:m,billType:h,amount:p}=c;(0,r.useEffect)(()=>{f()},[]);const f=async()=>{try{const e=await Ua.get("/wallet/my-wallet");n(e.data.data.wallet.balance)}catch(e){console.error("Error fetching wallet data:",e),it.error("Failed to load wallet data")}finally{s(!1)}},g=e=>{d(Se(Se({},c),{},{[e.target.name]:e.target.value}))};return a?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"bill-payment-container",children:[(0,Wa.jsx)("h1",{children:"Bill Payment"}),(0,Wa.jsx)("div",{className:"wallet-info",children:(0,Wa.jsxs)("p",{children:["Wallet Balance: ",(0,Wa.jsxs)("strong",{children:["\u20b9",t.toFixed(2)]})]})}),(0,Wa.jsx)("div",{className:"card",children:(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u&&m&&h&&p)if(parseFloat(p)<=0)it.error("Please enter a valid amount");else{o(!0);try{await Ua.post("/transactions/process",{type:"bill-payment",amount:parseFloat(p),metadata:{billerId:u,consumerNumber:m,billType:h}});it.success("Bill payment request submitted for approval"),await f(),l("/transactions")}catch(t){console.error("Error submitting bill payment request:",t),it.error("Failed to submit bill payment request")}finally{o(!1)}}else it.error("Please fill in all required fields")},children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"billType",children:"Bill Type"}),(0,Wa.jsxs)("select",{id:"billType",name:"billType",value:h,onChange:e=>{d(Se(Se({},c),{},{billType:e.target.value,billerId:""}))},className:"form-control",required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select Bill Type"}),[{id:"electricity",name:"Electricity"},{id:"water",name:"Water"},{id:"gas",name:"Gas"},{id:"broadband",name:"Broadband/Internet"},{id:"landline",name:"Landline"}].map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),h&&(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"billerId",children:"Select Biller"}),(0,Wa.jsxs)("select",{id:"billerId",name:"billerId",value:u,onChange:g,className:"form-control",required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select Biller"}),null===(e={electricity:[{id:"adani",name:"Adani Electricity"},{id:"tata",name:"Tata Power"},{id:"bses",name:"BSES"},{id:"msedcl",name:"MSEDCL"}],water:[{id:"delhi-jal",name:"Delhi Jal Board"},{id:"mcgm",name:"Municipal Corporation of Greater Mumbai"}],gas:[{id:"igl",name:"Indraprastha Gas Limited"},{id:"mgl",name:"Mahanagar Gas Limited"}],broadband:[{id:"airtel",name:"Airtel Broadband"},{id:"jio",name:"Jio Fiber"},{id:"bsnl",name:"BSNL Broadband"}],landline:[{id:"bsnl-ll",name:"BSNL Landline"},{id:"airtel-ll",name:"Airtel Landline"}]}[h])||void 0===e?void 0:e.map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"consumerNumber",children:"electricity"===h?"Consumer Number":"water"===h?"Consumer ID":"gas"===h?"Customer ID":"broadband"===h||"landline"===h?"Account Number":"Consumer Number"}),(0,Wa.jsx)("input",{type:"text",id:"consumerNumber",name:"consumerNumber",value:m,onChange:g,className:"form-control",placeholder:"Enter your ".concat("electricity"===h?"Consumer Number":"water"===h?"Consumer ID":"gas"===h?"Customer ID":"broadband"===h||"landline"===h?"Account Number":"Consumer Number"),required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:p,onChange:g,className:"form-control",placeholder:"Enter amount",min:"1",step:"1",required:!0})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:i,children:i?"Processing...":"Pay Bill"})]})})]})},Vl=()=>{const{currentUser:e}=qa(),{success:t,error:n}=Ns(),[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,u]=(0,r.useState)("All"),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)([]),[g,x]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,j]=(0,r.useState)(1),[N,w]=(0,r.useState)(""),[S,k]=(0,r.useState)(!1),[C,E]=(0,r.useState)([]),[A,T]=(0,r.useState)(!1),[P,R]=(0,r.useState)(!1),[_,O]=(0,r.useState)(0);(0,r.useEffect)(()=>{I(),L(),D()},[]);const I=async()=>{try{const e=await fetch("http://localhost:5001/api/vouchers/brands"),t=await e.json();t.success&&s(t.data.filter(e=>e.isActive))}catch(e){console.error("Error fetching vouchers:",e),n("Failed to load vouchers")}finally{c(!1)}},L=async()=>{try{const e=await fetch("http://localhost:5001/api/vouchers/categories"),t=await e.json();t.success&&o(["All",...t.data])}catch(e){console.error("Error fetching categories:",e)}},D=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/wallet/balance",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();"success"===n.status&&O(n.data.wallet.balance)}catch(e){console.error("Error fetching wallet balance:",e)}},B=async e=>{try{const t=await fetch("http://localhost:5001/api/vouchers/brands/".concat(e,"/denominations")),n=await t.json();if(n.success){const e=n.data.filter(e=>{const t=e.totalAvailableQuantity-e.soldQuantity;return e.isActive&&t>0});f(e)}else f([])}catch(t){console.error("Error fetching denominations:",t),n("Failed to load denominations"),f([])}},F="All"===d?a:a.filter(e=>e.category===d),M=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return l?(0,Wa.jsx)("div",{className:"loading",children:"Loading vouchers..."}):(0,Wa.jsxs)("div",{className:"dashboard-container",children:[(0,Wa.jsxs)("div",{className:"welcome-header",children:[(0,Wa.jsxs)("h1",{children:[(0,Wa.jsx)("i",{className:"fas fa-gift"})," Brand Vouchers"]}),(0,Wa.jsx)("p",{className:"welcome-subtitle",children:"Purchase vouchers from your favorite brands at discounted prices"})]}),(0,Wa.jsx)("div",{className:"enhanced-wallet-card card",style:{marginBottom:"1.5rem"},children:(0,Wa.jsx)("div",{className:"card-content",children:(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsxs)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-wallet",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Wallet Balance"]}),(0,Wa.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--primary-color)",marginTop:"0.5rem"},children:["\u20b9",_.toFixed(2)]})]}),(0,Wa.jsxs)("button",{className:"btn btn-primary touch-target",onClick:()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("http://localhost:5001/api/vouchers/my-orders",{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();n.success&&E(n.data)}catch(e){console.error("Error fetching user orders:",e),n("Failed to load your orders")}})(),T(!0)},style:{padding:"0.75rem 1rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-shopping-bag",style:{marginRight:"0.5rem"}}),"My Orders"]})]})})}),(0,Wa.jsxs)("div",{className:"card",style:{marginBottom:"1.5rem"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-filter",style:{fontSize:"1.25rem",color:"var(--primary-color)",marginRight:"0.75rem"}}),(0,Wa.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600"},children:"Categories"})]}),(0,Wa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem"},children:i.map(e=>(0,Wa.jsx)("button",{className:"btn touch-target ".concat(d===e?"btn-primary":"btn-outline-primary"),onClick:()=>u(e),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600",textAlign:"center"},children:e},e))})]}),(0,Wa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(90px, 1fr))",gap:"1rem",marginBottom:"1.5rem",justifyItems:"center"},children:F.map(e=>(0,Wa.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"all 0.2s ease",padding:"0.5rem"},onClick:()=>{(e=>{h(e),B(e._id)})(e),R(!0)},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Wa.jsx)("div",{style:{width:"60px",height:"60px",borderRadius:"50%",overflow:"hidden",background:"var(--light-color)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.5rem",border:"2px solid var(--primary-color)",boxShadow:"0 3px 8px rgba(0,0,0,0.1)"},children:(0,Wa.jsx)("img",{src:e.image,alt:e.brandName,style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<i class="fas fa-gift" style="font-size: 1.5rem; color: var(--primary-color);"></i>'}})}),(0,Wa.jsxs)("div",{style:{textAlign:"center"},children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"0.625rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.125rem",lineHeight:"1.1"},children:e.brandName}),(0,Wa.jsx)("span",{style:{fontSize:"0.5rem",color:"var(--primary-color)",fontWeight:"500",textTransform:"uppercase",letterSpacing:"0.25px"},children:e.category})]})]},e._id))}),0===F.length&&(0,Wa.jsx)("div",{className:"no-vouchers",children:(0,Wa.jsx)("p",{children:"No vouchers available in this category."})}),m&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal large",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsxs)("h3",{children:[m.brandName," - Available Offers"]}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{h(null),f([])},children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsx)("div",{className:"voucher-details",children:(0,Wa.jsxs)("div",{className:"voucher-info",children:[(0,Wa.jsx)("img",{src:m.image,alt:m.brandName}),(0,Wa.jsxs)("div",{className:"info-content",children:[(0,Wa.jsx)("h4",{children:m.brandName}),(0,Wa.jsx)("p",{children:m.description}),m.termsAndConditions&&(0,Wa.jsxs)("div",{className:"terms",children:[(0,Wa.jsx)("h5",{children:"Terms & Conditions:"}),(0,Wa.jsx)("p",{children:m.termsAndConditions})]})]})]})}),(0,Wa.jsxs)("div",{className:"denominations-list",children:[(0,Wa.jsx)("h4",{children:"Available Denominations"}),0===p.length?(0,Wa.jsx)("p",{children:"No denominations available at the moment."}):(0,Wa.jsx)("div",{className:"denominations-grid",children:p.map(e=>{const t=e.totalAvailableQuantity-e.soldQuantity,n=e.denomination*(1-e.discountPercentage/100);return(0,Wa.jsxs)("div",{className:"denomination-card",children:[(0,Wa.jsxs)("div",{className:"denomination-value",children:["\u20b9",e.denomination]}),(0,Wa.jsxs)("div",{className:"discount-info",children:[(0,Wa.jsxs)("span",{className:"discount",children:[e.discountPercentage,"% OFF"]}),(0,Wa.jsxs)("span",{className:"final-price",children:["\u20b9",n.toFixed(2)]})]}),(0,Wa.jsxs)("div",{className:"availability",children:[(0,Wa.jsxs)("span",{children:["Available: ",t]}),(0,Wa.jsxs)("span",{children:["Max per user: ",e.maxQuantityPerUser]})]}),(0,Wa.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>{const a=Se(Se({},e),{},{remainingQuantity:t,discountedPrice:n});y(a),x(!0)},children:"Buy Now"})]},e._id)})})]})]})]})}),g&&v&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Purchase Voucher"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{x(!1),y(null),j(1)},children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"purchase-details",children:[(0,Wa.jsxs)("div",{className:"voucher-summary",children:[(0,Wa.jsx)("h4",{children:m.brandName}),(0,Wa.jsxs)("div",{className:"denomination-info",children:[(0,Wa.jsxs)("span",{className:"value",children:["\u20b9",v.denomination]}),(0,Wa.jsxs)("span",{className:"discount",children:[v.discountPercentage,"% OFF"]}),(0,Wa.jsxs)("span",{className:"price",children:["\u20b9",v.discountedPrice]})]})]}),(0,Wa.jsxs)("div",{className:"quantity-selector",children:[(0,Wa.jsx)("label",{children:"Quantity:"}),(0,Wa.jsxs)("div",{className:"quantity-controls",children:[(0,Wa.jsx)("button",{className:"qty-btn",onClick:()=>j(Math.max(1,b-1)),disabled:b<=1,children:"-"}),(0,Wa.jsx)("span",{className:"quantity",children:b}),(0,Wa.jsx)("button",{className:"qty-btn",onClick:()=>j(Math.min(v.maxQuantityPerUser,b+1)),disabled:b>=v.maxQuantityPerUser,children:"+"})]}),(0,Wa.jsxs)("small",{children:["Max ",v.maxQuantityPerUser," per user"]})]}),(0,Wa.jsxs)("div",{className:"email-input",children:[(0,Wa.jsx)("label",{children:"Email Address for Voucher Delivery:"}),(0,Wa.jsx)("input",{type:"email",value:N,onChange:e=>w(e.target.value),placeholder:"Enter your email address",required:!0}),(0,Wa.jsx)("small",{children:"Admin will email the voucher file to this address after approval"})]}),(0,Wa.jsxs)("div",{className:"purchase-summary",children:[(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{children:"Unit Price:"}),(0,Wa.jsxs)("span",{children:["\u20b9",v.discountedPrice]})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{children:"Quantity:"}),(0,Wa.jsx)("span",{children:b})]}),(0,Wa.jsxs)("div",{className:"summary-row total",children:[(0,Wa.jsx)("span",{children:"Total Amount:"}),(0,Wa.jsxs)("span",{children:["\u20b9",(v.discountedPrice*b).toFixed(2)]})]}),(0,Wa.jsxs)("div",{className:"summary-row savings",children:[(0,Wa.jsx)("span",{children:"You Save:"}),(0,Wa.jsxs)("span",{children:["\u20b9",(v.discountAmount*b).toFixed(2)]})]})]}),(0,Wa.jsxs)("div",{className:"wallet-check",children:[(0,Wa.jsx)("div",{className:"wallet-balance",children:(0,Wa.jsxs)("span",{children:["Wallet Balance: \u20b9",_.toFixed(2)]})}),v.discountedPrice*b>_&&(0,Wa.jsx)("div",{className:"insufficient-balance",children:(0,Wa.jsx)("span",{children:"\u26a0\ufe0f Insufficient wallet balance"})})]})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>{x(!1),y(null),j(1),w("")},children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(!v||b<1)return void n("Please select a valid denomination and quantity");if(!N||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N))return void n("Please provide a valid email address for voucher delivery");if(v.discountedPrice*b>_)n("Insufficient wallet balance");else{k(!0);try{const e=localStorage.getItem("token"),a=await fetch("http://localhost:5001/api/vouchers/purchase",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({denominationId:v._id,quantity:b,customerEmail:N})}),r=await a.json();r.success?(t("Voucher purchased successfully!"),x(!1),h(null),y(null),j(1),w(""),D(),B(m._id)):n(r.message||"Failed to purchase voucher")}catch(e){console.error("Error purchasing voucher:",e),n("Failed to purchase voucher")}finally{k(!1)}}},disabled:S||v.discountedPrice*b>_,children:S?"Processing...":"Purchase Now"})]})]})]})}),A&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal large",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"My Voucher Orders"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>T(!1),children:"\xd7"})]}),(0,Wa.jsx)("div",{className:"modal-body",children:0===C.length?(0,Wa.jsx)("p",{children:"No orders found."}):(0,Wa.jsx)("div",{className:"orders-list",children:C.map(e=>{var a;return(0,Wa.jsxs)("div",{className:"order-card",children:[(0,Wa.jsxs)("div",{className:"order-header",children:[(0,Wa.jsxs)("h4",{children:["Order #",e.orderNumber]}),(0,Wa.jsxs)("div",{className:"order-statuses",children:[(0,Wa.jsx)("span",{className:"status ".concat(e.status.toLowerCase()),children:e.status}),(0,Wa.jsx)("span",{className:"approval-status ".concat((null===(a=e.approvalStatus)||void 0===a?void 0:a.toLowerCase().replace("_","-"))||"pending"),children:"pending_approval"===e.approvalStatus?"Pending Approval":"approved"===e.approvalStatus?"Approved":"rejected"===e.approvalStatus?"Rejected":"Pending"})]})]}),(0,Wa.jsxs)("div",{className:"order-details",children:[(0,Wa.jsxs)("div",{className:"order-info",children:[(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Brand:"})," ",e.brandVoucher.brandName]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Denomination:"})," \u20b9",e.voucherDenomination.denomination]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Quantity:"})," ",e.quantity]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Amount Paid:"})," \u20b9",e.finalAmount]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Customer Email:"})," ",e.customerEmail]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Purchase Date:"})," ",M(e.purchaseDate)]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Expiry Date:"})," ",M(e.expiryDate)]}),"rejected"===e.approvalStatus&&e.rejectionReason&&(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Rejection Reason:"})," ",(0,Wa.jsx)("span",{className:"rejection-reason",children:e.rejectionReason})]})]}),"approved"===e.approvalStatus&&(0,Wa.jsx)("div",{className:"voucher-download",children:e.voucherFilePath?(0,Wa.jsxs)("div",{className:"download-section",children:[(0,Wa.jsx)("p",{className:"download-info",children:"\u2705 Your voucher file is ready for download"}),(0,Wa.jsx)("button",{className:"btn btn-download",onClick:()=>(async e=>{try{const a=localStorage.getItem("token"),r=await fetch("http://localhost:5001/api/vouchers/orders/".concat(e,"/download-file"),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}});if(r.ok){const n=await r.blob(),a=window.URL.createObjectURL(n),s=document.createElement("a");s.style.display="none",s.href=a,s.download="voucher-".concat(e,".xlsx"),document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(a),document.body.removeChild(s),t("Voucher file downloaded successfully!")}else{const e=await r.json();n(e.message||"Failed to download voucher file")}}catch(a){console.error("Error downloading voucher:",a),n("Failed to download voucher file")}})(e._id),children:"Download Voucher File"})]}):(0,Wa.jsx)("div",{className:"processing-section",children:(0,Wa.jsx)("p",{className:"processing-info",children:"\u23f3 Your voucher is being processed. File will be available soon."})})}),"pending_approval"===e.approvalStatus&&(0,Wa.jsx)("div",{className:"status-info",children:(0,Wa.jsx)("p",{className:"pending-info",children:"\u23f3 Your order is pending admin approval. You will receive your voucher file once approved."})}),e.voucherCodes&&e.voucherCodes.length>0&&(0,Wa.jsxs)("div",{className:"voucher-codes",children:[(0,Wa.jsx)("h5",{children:"Voucher Codes:"}),e.voucherCodes.map((e,t)=>(0,Wa.jsxs)("div",{className:"voucher-code",children:[(0,Wa.jsx)("span",{className:"code",children:e.code}),(0,Wa.jsx)("span",{className:"code-status ".concat(e.isUsed?"used":"active"),children:e.isUsed?"Used":"Active"})]},t))]})]})]},e._id)})})})]})})]})},ql=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)("all"),{error:o}=Ns();(0,r.useEffect)(()=>{l()},[]);const l=async()=>{try{const e=await Ua.get("/wallet/my-transactions");t(e.data.data.transactions)}catch(e){console.error("Error fetching transactions:",e),o("Failed to load transaction history")}finally{a(!1)}},c=e=>{switch(e){case"completed":return"status-completed";case"pending":return"status-pending";case"awaiting_approval":return"status-awaiting";case"approved":return"status-approved";case"rejected":return"status-rejected";case"failed":return"status-failed";default:return""}},d=e=>{switch(e){case"topup":return"\ud83d\udcb0";case"mobile-recharge":return"\ud83d\udcf1";case"dth-recharge":return"\ud83d\udcfa";case"bill-payment":return"\ud83d\udcc4";case"voucher_purchase":return"\ud83c\udfab";default:return"\ud83d\udcb8"}},u=e.filter(e=>"all"===s||e.type===s);return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"dashboard-container",children:[(0,Wa.jsxs)("div",{className:"welcome-header",children:[(0,Wa.jsxs)("h1",{children:[(0,Wa.jsx)("i",{className:"fas fa-history"})," Transaction History"]}),(0,Wa.jsx)("p",{className:"welcome-subtitle",children:"Track all your transactions"})]}),(0,Wa.jsxs)("div",{className:"card",style:{marginBottom:"1.5rem"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-filter",style:{fontSize:"1.25rem",color:"var(--primary-color)",marginRight:"0.75rem"}}),(0,Wa.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600"},children:"Filter Transactions"})]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.5rem"},children:[(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("all"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("all"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-list",style:{marginRight:"0.5rem"}}),"All"]}),(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("topup"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("topup"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-plus",style:{marginRight:"0.5rem"}}),"Top-up"]}),(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("mobile-recharge"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("mobile-recharge"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-mobile-alt",style:{marginRight:"0.5rem"}}),"Mobile"]}),(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("dth-recharge"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("dth-recharge"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-tv",style:{marginRight:"0.5rem"}}),"DTH"]}),(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("bill-payment"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("bill-payment"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-file-invoice-dollar",style:{marginRight:"0.5rem"}}),"Bill Payment"]}),(0,Wa.jsxs)("button",{className:"btn touch-target ".concat("voucher_purchase"===s?"btn-primary":"btn-outline-primary"),onClick:()=>i("voucher_purchase"),style:{padding:"0.75rem 0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-gift",style:{marginRight:"0.5rem"}}),"Vouchers"]})]})]}),0===u.length?(0,Wa.jsxs)("div",{className:"card",style:{textAlign:"center",padding:"3rem 1rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-receipt",style:{fontSize:"3rem",color:"var(--gray-color)",marginBottom:"1rem"}}),(0,Wa.jsx)("h3",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"No transactions found"}),"all"!==s&&(0,Wa.jsxs)("button",{className:"btn btn-primary touch-target",onClick:()=>i("all"),style:{padding:"0.75rem 1.5rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-list btn-icon"}),"Show All Transactions"]})]}):(0,Wa.jsx)("div",{className:"transaction-list",children:u.map(e=>{return(0,Wa.jsx)("div",{className:"transaction-item card",style:{marginBottom:"1rem",padding:"1rem"},children:(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[(0,Wa.jsx)("div",{style:{flexShrink:0},children:(0,Wa.jsx)("div",{className:"dashboard-icon ".concat(e.type.replace("-","-")),style:{width:"2.5rem",height:"2.5rem",fontSize:"1.25rem"},children:d(e.type)})}),(0,Wa.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Wa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:"topup"===e.type?"Wallet Top-up":"mobile-recharge"===e.type?"Mobile Recharge":"dth-recharge"===e.type?"DTH Recharge":"bill-payment"===e.type?"Bill Payment":"voucher_purchase"===e.type?"Brand Voucher Purchase":"Transaction"}),(0,Wa.jsxs)("p",{style:{margin:"0.25rem 0 0 0",fontSize:"0.75rem",color:"var(--text-secondary)"},children:["ID: ",e.transactionId||(e._id?e._id.substring(0,8)+"...":"N/A")]})]}),(0,Wa.jsxs)("div",{style:{textAlign:"right"},children:[(0,Wa.jsxs)("div",{className:"transaction-amount ".concat("topup"===e.type?"credit":"debit"),style:{fontSize:"1rem",fontWeight:"700"},children:["topup"===e.type?"+":"-","\u20b9",e.amount.toFixed(2)]}),(0,Wa.jsx)("span",{className:"status-badge ".concat(c(e.status)),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",borderRadius:"12px",marginTop:"0.25rem",display:"inline-block"},children:e.status.replace("_"," ")})]})]}),e.description&&(0,Wa.jsx)("p",{style:{margin:"0.5rem 0",fontSize:"0.875rem",color:"var(--text-primary)"},children:e.description}),(0,Wa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.75rem",paddingTop:"0.75rem",borderTop:"1px solid var(--border-color)"},children:[(0,Wa.jsxs)("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"0.25rem"}}),(t=e.createdAt,new Date(t).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}))]}),(e.approvalNotes||e.failureReason)&&(0,Wa.jsx)("button",{className:"btn btn-outline-secondary",style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem"},onClick:()=>{const t=[];e.approvalNotes&&t.push("Admin: ".concat(e.approvalNotes)),e.failureReason&&t.push("Failure: ".concat(e.failureReason)),alert(t.join("\n"))},children:(0,Wa.jsx)("i",{className:"fas fa-info-circle"})})]})]})]})},e._id);var t})}),(0,Wa.jsx)(Ms,{}),(0,Wa.jsx)("div",{style:{marginTop:"2rem",textAlign:"center"},children:(0,Wa.jsxs)(gt,{to:"/dashboard",className:"btn btn-secondary touch-target",style:{padding:"0.75rem 2rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-arrow-left btn-icon"}),"Back to Dashboard"]})})]})},Hl=["children","className"],Kl=["children","className"],Ql=["children","className"],$l=["children","className"],Gl=e=>{let{children:t,className:n=""}=e,a=Ce(e,Hl);return(0,Wa.jsx)("div",Se(Se({className:"rounded-lg border bg-card text-card-foreground shadow-sm ".concat(n)},a),{},{children:t}))},Yl=e=>{let{children:t,className:n=""}=e,a=Ce(e,Kl);return(0,Wa.jsx)("div",Se(Se({className:"flex flex-col space-y-1.5 p-6 ".concat(n)},a),{},{children:t}))},Jl=e=>{let{children:t,className:n=""}=e,a=Ce(e,Ql);return(0,Wa.jsx)("h3",Se(Se({className:"text-2xl font-semibold leading-none tracking-tight ".concat(n)},a),{},{children:t}))},Xl=e=>{let{children:t,className:n=""}=e,a=Ce(e,$l);return(0,Wa.jsx)("div",Se(Se({className:"p-6 pt-0 ".concat(n)},a),{},{children:t}))},Zl=["children","defaultValue","value","onValueChange","className"],ec=["children","className"],tc=["children","value","className"],nc=["children","value","className"],ac=(0,r.createContext)(),rc=e=>{let{children:t,defaultValue:n,value:a,onValueChange:s,className:i=""}=e,o=Ce(e,Zl);const[l,c]=(0,r.useState)(n),d=void 0!==a&&void 0!==s,u=d?a:l,m=d?s:c;return(0,Wa.jsx)(ac.Provider,{value:{activeTab:u,setActiveTab:m},children:(0,Wa.jsx)("div",Se(Se({className:i},o),{},{children:t}))})},sc=e=>{let{children:t,className:n=""}=e,a=Ce(e,ec);return(0,Wa.jsx)("div",Se(Se({className:"inline-flex items-center justify-center rounded-xl bg-gradient-to-r from-gray-50 to-gray-100 p-1.5 text-muted-foreground gap-1 w-full shadow-inner border border-gray-200 ".concat(n)},a),{},{children:t}))},ic=e=>{let{children:t,value:n,className:a=""}=e,s=Ce(e,tc);const{activeTab:i,setActiveTab:o}=(0,r.useContext)(ac),l=i===n;return(0,Wa.jsx)("button",Se(Se({className:"inline-flex items-center justify-center whitespace-nowrap rounded-lg px-6 py-3 text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer min-h-[44px] flex-1 ".concat(l?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg transform scale-[1.02] border border-blue-500":"hover:bg-gradient-to-r hover:from-blue-50 hover:to-blue-100 hover:text-blue-700 hover:shadow-md hover:transform hover:scale-[1.01] text-gray-600 bg-white/50"," ").concat(a),onClick:()=>o(n)},s),{},{children:t}))},oc=e=>{let{children:t,value:n,className:a=""}=e,s=Ce(e,nc);const{activeTab:i}=(0,r.useContext)(ac);return i!==n?null:(0,Wa.jsx)("div",Se(Se({className:"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ".concat(a)},s),{},{children:t}))},lc=["children","className","variant"],cc=["children","className"],dc=e=>{let{children:t,className:n="",variant:a="default"}=e,r=Ce(e,lc);return(0,Wa.jsx)("div",Se(Se({className:"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground ".concat({default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-700"}[a]," ").concat(n)},r),{},{children:t}))},uc=e=>{let{children:t,className:n=""}=e,a=Ce(e,cc);return(0,Wa.jsx)("div",Se(Se({className:"text-sm [&_p]:leading-relaxed ".concat(n)},a),{},{children:t}))},mc=["children","className","variant","size","disabled","type"],hc=e=>{let{children:t,className:n="",variant:a="default",size:r="default",disabled:s=!1,type:i="button"}=e,o=Ce(e,mc);return(0,Wa.jsx)("button",Se(Se({type:i,className:"".concat("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"," ").concat({default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"}[a]," ").concat({default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}[r]," ").concat(n),disabled:s},o),{},{children:t}))},pc=["className","type","disabled"],fc=e=>{let{className:t="",type:n="text",disabled:a=!1}=e,r=Ce(e,pc);return(0,Wa.jsx)("input",Se({type:n,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(t),disabled:a},r))},gc=["children","className","htmlFor"],xc=e=>{let{children:t,className:n="",htmlFor:a}=e,r=Ce(e,gc);return(0,Wa.jsx)("label",Se(Se({htmlFor:a,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 ".concat(n)},r),{},{children:t}))},vc=["className"],yc=["className"],bc=["className"],jc=["className"],Nc=["className"],wc=["className"],Sc=["className"],kc=["className"],Cc=["className"],Ec=e=>{let{className:t=""}=e,n=Ce(e,vc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}))},Ac=e=>{let{className:t=""}=e,n=Ce(e,yc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}))},Tc=e=>{let{className:t=""}=e,n=Ce(e,bc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 animate-spin ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}))},Pc=e=>{let{className:t=""}=e,n=Ce(e,jc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7zM20 8v6M23 11h-6"})}))},Rc=e=>{let{className:t=""}=e,n=Ce(e,Nc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}))},_c=e=>{let{className:t=""}=e,n=Ce(e,wc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}))},Oc=e=>{let{className:t=""}=e,n=Ce(e,Sc);return(0,Wa.jsxs)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:[(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}))},Ic=e=>{let{className:t=""}=e,n=Ce(e,kc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}))},Lc=e=>{let{className:t=""}=e,n=Ce(e,Cc);return(0,Wa.jsx)("svg",Se(Se({className:"h-4 w-4 ".concat(t),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n),{},{children:(0,Wa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm7-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"})}))},Dc="http://localhost:5001/api",Bc=()=>{const e=localStorage.getItem("token");return Se({"Content-Type":"application/json"},e&&{Authorization:"Bearer ".concat(e)})},Fc={verifyMobile:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/remitter/verify-mobile"),{method:"POST",headers:Bc(),body:JSON.stringify({mobile:e})}),n=await t.json();if(!t.ok)throw new Error(n.message||"Mobile verification failed");return n}catch(t){throw console.error("Mobile verification error:",t),t}},getRemitterStatus:async()=>{try{const e=await fetch("".concat(Dc,"/dmt/remitter/status"),{method:"GET",headers:Bc()}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to get remitter status");return t}catch(e){throw console.error("Get remitter status error:",e),e}},registerRemitter:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/remitter/register"),{method:"POST",headers:Bc(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Remitter registration failed");return n}catch(t){throw console.error("Remitter registration error:",t),t}},verifyRemitterOTP:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/remitter/verify-otp"),{method:"POST",headers:Bc(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"OTP verification failed");return n}catch(t){throw console.error("OTP verification error:",t),t}},getBeneficiaries:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/remitter/").concat(e,"/beneficiaries"),{method:"GET",headers:Se(Se({},Bc()),{},{"Cache-Control":"no-cache",Pragma:"no-cache"})}),n=await t.json();if(console.log("=== getBeneficiaries API Response ==="),console.log("Response status:",t.status),console.log("Response data:",n),n.data&&n.data.beneficiaries&&(console.log("Beneficiaries array:",n.data.beneficiaries),n.data.beneficiaries.forEach((e,t)=>{console.log("Beneficiary ".concat(t,":"),{_id:e._id,id:e.id,isVerified:e.isVerified,verificationStatus:e.verificationStatus,accountHolderName:e.accountHolderName})})),!t.ok)throw new Error(n.message||"Failed to get beneficiaries");return n}catch(t){throw console.error("Get beneficiaries error:",t),t}},addBeneficiary:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/beneficiary/register"),{method:"POST",headers:Bc(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to add beneficiary");return n}catch(t){throw console.error("Add beneficiary error:",t),t}},verifyBeneficiary:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/beneficiary/").concat(e,"/verify"),{method:"POST",headers:Bc()}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to verify beneficiary");return n}catch(t){throw console.error("Verify beneficiary error:",t),t}},deleteBeneficiary:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/beneficiary/").concat(e),{method:"DELETE",headers:Bc()}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to delete beneficiary");return n}catch(t){throw console.error("Delete beneficiary error:",t),t}},initiateTransfer:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/transaction"),{method:"POST",headers:Bc(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Money transfer failed");return n}catch(t){throw console.error("Money transfer error:",t),t}},getTransactionHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams(e).toString(),n="".concat(Dc,"/dmt/transactions").concat(t?"?".concat(t):""),a=await fetch(n,{method:"GET",headers:Bc()}),r=await a.json();if(!a.ok)throw new Error(r.message||"Failed to get transaction history");return r}catch(t){throw console.error("Get transaction history error:",t),t}},getTransactionStatus:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/transaction/").concat(e,"/status"),{method:"GET",headers:Bc()}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to get transaction status");return n}catch(t){throw console.error("Get transaction status error:",t),t}},performKYC:async e=>{try{const t=await fetch("".concat(Dc,"/dmt/remitter/").concat(e.remitterId,"/kyc"),{method:"POST",headers:Bc(),body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"KYC failed");return n}catch(t){throw console.error("KYC error:",t),t}}},Mc=e=>{let{onVerificationComplete:t}=e;const[n,a]=(0,r.useState)(""),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)("");return(0,Wa.jsxs)(Gl,{className:"w-full max-w-md mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(Rc,{className:"w-6 h-6 text-blue-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-gray-900",children:"Verify Mobile Number"}),(0,Wa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your mobile number to check remitter status"})]}),(0,Wa.jsxs)(Xl,{children:[(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),l(""),d("");try{if(!/^[6-9]\d{9}$/.test(n))throw new Error("Please enter a valid 10-digit mobile number starting with 6-9");const e=await Fc.verifyMobile(n);if(!e.success)throw new Error(e.message||"Failed to verify mobile number");{const{exists:a,canUse:r,isOwner:s,remitter:i,message:o}=e.data;if(a&&r){d(s?"Mobile number verified successfully!":"Mobile number verified! You can use this remitter."),setTimeout(()=>{t({verified:!0,remitter:i,needsRegistration:!1,isOwner:s})},1e3)}else a&&!r?l(o||"This remitter cannot be used"):(d("Mobile number available for registration!"),setTimeout(()=>{t({verified:!0,mobile:n,needsRegistration:!0})},1e3))}}catch(o){console.error("Mobile verification error:",o),l(o.message||"Failed to verify mobile number. Please try again.")}finally{i(!1)}},className:"space-y-4",children:[(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"mobile",children:"Mobile Number"}),(0,Wa.jsx)(fc,{id:"mobile",type:"tel",placeholder:"Enter 10-digit mobile number",value:n,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);a(t)},maxLength:10,className:"text-center text-lg tracking-wider",disabled:s})]}),o&&(0,Wa.jsxs)(dc,{className:"border-red-200 bg-red-50",children:[(0,Wa.jsx)(Ac,{className:"h-4 w-4 text-red-600"}),(0,Wa.jsx)(uc,{className:"text-red-700",children:o})]}),c&&(0,Wa.jsxs)(dc,{className:"border-green-200 bg-green-50",children:[(0,Wa.jsx)(Ec,{className:"h-4 w-4 text-green-600"}),(0,Wa.jsx)(uc,{className:"text-green-700",children:c})]}),(0,Wa.jsx)(hc,{type:"submit",className:"w-full",disabled:s||10!==n.length,children:s?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Tc,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify Mobile Number"})]}),(0,Wa.jsxs)("div",{className:"mt-4 text-xs text-gray-500 text-center",children:[(0,Wa.jsx)("p",{children:"\u2022 If you're a new user, you'll be guided to register"}),(0,Wa.jsx)("p",{children:"\u2022 If you're an existing user, your details will be loaded"})]})]})]})},zc=e=>{let{remitter:t,onKYCComplete:n,onCancel:a}=e;const[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)({piddata:"",wadh:""}),f=[{type:"fingerprint",label:"Fingerprint Authentication",icon:Lc,description:"Verify using fingerprint biometric"},{type:"iris",label:"Iris Authentication",icon:Oc,description:"Verify using iris biometric"},{type:"face_auth",label:"Face Authentication",icon:Ic,description:"Verify using facial recognition"}];return t?"verified"===t.kycStatus?(0,Wa.jsxs)(Gl,{className:"w-full max-w-md mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(Ec,{className:"w-6 h-6 text-green-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-green-700",children:"KYC Already Verified"}),(0,Wa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Your KYC verification is complete. You can now proceed with money transfers."})]}),(0,Wa.jsx)(Xl,{children:(0,Wa.jsx)(hc,{onClick:()=>n(t),className:"w-full",children:"Continue to Money Transfer"})})]}):(()=>{if(!t)return!1;if("verified"===t.kycStatus)return!1;const e=(new Date).toDateString();return((t.lastKycAttempt?new Date(t.lastKycAttempt).toDateString():null)===e&&t.kycAttempts||0)<2})()?(0,Wa.jsxs)(Gl,{className:"w-full max-w-md mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(_c,{className:"w-6 h-6 text-blue-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-gray-900",children:"KYC Verification Required"}),(0,Wa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Complete KYC verification to enable money transfers"})]}),(0,Wa.jsxs)(Xl,{className:"space-y-4",children:[c&&(0,Wa.jsxs)(dc,{variant:"destructive",children:[(0,Wa.jsx)(Ac,{className:"h-4 w-4"}),(0,Wa.jsx)(uc,{children:c})]}),u&&(0,Wa.jsxs)(dc,{children:[(0,Wa.jsx)(Ec,{className:"h-4 w-4"}),(0,Wa.jsx)(uc,{children:u})]}),(0,Wa.jsxs)("div",{className:"space-y-3",children:[(0,Wa.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Select Verification Method:"}),f.map(e=>{const t=e.icon;return(0,Wa.jsx)("div",{className:"p-3 border rounded-lg cursor-pointer transition-colors ".concat(s===e.type?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{return t=e.type,i(t),d(""),void m("");var t},children:(0,Wa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Wa.jsx)(t,{className:"w-5 h-5 ".concat(s===e.type?"text-blue-600":"text-gray-500")}),(0,Wa.jsxs)("div",{className:"flex-1",children:[(0,Wa.jsx)("div",{className:"font-medium ".concat(s===e.type?"text-blue-900":"text-gray-900"),children:e.label}),(0,Wa.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]}),s===e.type&&(0,Wa.jsx)(Ec,{className:"w-4 h-4 text-blue-600"})]})},e.type)})]}),(0,Wa.jsxs)("div",{className:"flex space-x-3",children:[(0,Wa.jsx)(hc,{onClick:a,variant:"outline",className:"flex-1",disabled:o,children:"Cancel"}),(0,Wa.jsx)(hc,{onClick:async()=>{if(s)if(t&&(t.remitterId||t._id)){l(!0),d(""),m("");try{m("Capturing biometric data...");const e=await(async e=>new Promise(t=>{setTimeout(()=>{const n='<?xml version="1.0" encoding="UTF-8"?>\n<PidData>\n  <Resp errCode="0" errInfo="Success" fCount="1" fType="0" nmPoints="36" qScore="75" />\n  <DeviceInfo dpId="MANTRA.MSIPL" rdsId="MANTRA.WIN.001" rdsVer="1.0.5" mi="MFS100" mc="MIIEGjCCAwKgAwIBAgIGAWd" />\n  <Skey ci="20200615">encrypted_session_key_data</Skey>\n  <Hmac>hmac_value</Hmac>\n  <Data type="X">biometric_template_data_'.concat(e,"_").concat(Date.now(),"</Data>\n</PidData>");t({piddata:n,wadh:"additional_auth_data"})},2e3)}))(s);m("Verifying KYC...");const a={remitterId:t.remitterId||t._id,kycType:s,piddata:e.piddata,wadh:e.wadh};console.log("KYC Payload:",a),console.log("Remitter object:",t);const r=await Fc.performKYC(a);if(!r.success)throw new Error(r.message||"KYC verification failed");m("KYC verification completed successfully!"),setTimeout(()=>{n(r.data.remitter)},1500)}catch(c){console.error("KYC verification error:",c),d(c.message||"KYC verification failed. Please try again.")}finally{l(!1)}}else d("Remitter information is missing. Please try again.");else d("Please select a KYC verification method")},className:"flex-1",disabled:o||!s,children:o?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Tc,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(_c,{className:"mr-2 h-4 w-4"}),"Verify KYC"]})})]}),(0,Wa.jsxs)("div",{className:"text-xs text-gray-500 text-center",children:["Attempts remaining: ",2-(t.kycAttempts||0)," of 2 today"]})]})]}):(0,Wa.jsxs)(Gl,{className:"w-full max-w-md mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(Ac,{className:"w-6 h-6 text-red-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-red-700",children:"KYC Limit Exceeded"}),(0,Wa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"You have reached the maximum KYC attempts for today. Please try again tomorrow."})]}),(0,Wa.jsx)(Xl,{children:(0,Wa.jsx)(hc,{onClick:a,variant:"outline",className:"w-full",children:"Go Back"})})]}):(0,Wa.jsxs)(dc,{children:[(0,Wa.jsx)(Ac,{className:"h-4 w-4"}),(0,Wa.jsx)(uc,{children:"No remitter information available. Please complete registration first."})]})},Uc=e=>{let{initialMobile:t,existingRemitter:n,onRegistrationComplete:a}=e;const[s,i]=(0,r.useState)({firstName:"",lastName:"",mobile:t||"",address:"",pincode:"",dateOfBirth:"",gstState:""});(0,r.useEffect)(()=>{t&&i(e=>Se(Se({},e),{},{mobile:t}))},[t]),(0,r.useEffect)(()=>{n&&"verified"!==n.kycStatus&&(v(n),g(!0))},[n]);const[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(null),y=e=>{const{name:t,value:n}=e.target;i(e=>Se(Se({},e),{},{[t]:n}))},[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),S=async e=>{e.preventDefault(),p(!0),j(""),w("");try{const e=await Fc.verifyRemitterOTP({mobile:s.mobile,otp:u});if(!e.success)throw new Error(e.message||"OTP verification failed");w("OTP verified successfully!"),v(e.data.remitter),"verified"!==e.data.remitter.kycStatus?setTimeout(()=>{g(!0)},1e3):setTimeout(()=>{a(e.data.remitter)},1e3)}catch(b){console.error("OTP verification error:",b),j(b.message||"OTP verification failed. Please try again.")}finally{p(!1)}},k=async()=>{p(!0);try{const e=localStorage.getItem("token");(await fetch("/api/dmt/remitter/resend-otp",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({mobile:s.mobile})})).ok?w("OTP resent successfully"):j("Failed to resend OTP")}catch(b){j("Network error. Please try again.")}finally{p(!1)}},C=e=>{w("KYC verification completed successfully!"),setTimeout(()=>{a(e)},1e3)},E=()=>{g(!1),d(!1),m(""),v(null)};return f&&x?(0,Wa.jsx)(zc,{remitter:x,onKYCComplete:C,onCancel:E}):c?(0,Wa.jsxs)(Gl,{className:"w-full max-w-md mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(Ec,{className:"w-6 h-6 text-green-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-gray-900",children:"Verify OTP"}),(0,Wa.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Enter the OTP sent to ",s.mobile]})]}),(0,Wa.jsx)(Xl,{children:(0,Wa.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"otp",children:"OTP"}),(0,Wa.jsx)(fc,{id:"otp",type:"text",placeholder:"Enter 6-digit OTP",value:u,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);m(t)},maxLength:6,className:"text-center text-lg tracking-wider",disabled:h})]}),b&&(0,Wa.jsxs)(dc,{className:"border-red-200 bg-red-50",children:[(0,Wa.jsx)(Ac,{className:"h-4 w-4 text-red-600"}),(0,Wa.jsx)(uc,{className:"text-red-700",children:b})]}),N&&(0,Wa.jsxs)(dc,{className:"border-green-200 bg-green-50",children:[(0,Wa.jsx)(Ec,{className:"h-4 w-4 text-green-600"}),(0,Wa.jsx)(uc,{className:"text-green-700",children:N})]}),(0,Wa.jsxs)("div",{className:"flex gap-2",children:[(0,Wa.jsx)(hc,{type:"submit",className:"flex-1",disabled:h||6!==u.length,children:h?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Tc,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify OTP"}),(0,Wa.jsx)(hc,{type:"button",variant:"outline",onClick:k,disabled:h,children:"Resend"})]})]})})]}):(0,Wa.jsxs)(Gl,{className:"w-full max-w-2xl mx-auto",children:[(0,Wa.jsxs)(Yl,{className:"text-center",children:[(0,Wa.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Wa.jsx)(Pc,{className:"w-6 h-6 text-blue-600"})}),(0,Wa.jsx)(Jl,{className:"text-xl font-semibold text-gray-900",children:"Remitter Registration"}),(0,Wa.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Complete your registration to start transferring money"})]}),(0,Wa.jsx)(Xl,{children:(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0),j(""),w("");try{const e=await Fc.registerRemitter(s);if(!e.success)throw new Error(e.message||"Registration failed");e.data.requiresOtp?(d(!0),w("OTP sent to your mobile number")):(w("Registration completed successfully!"),setTimeout(()=>{a(e.data.remitter)},1e3))}catch(b){console.error("Registration error:",b),j(b.message||"Registration failed. Please try again.")}finally{l(!1)}},className:"space-y-6",children:[(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"firstName",children:"First Name *"}),(0,Wa.jsx)(fc,{id:"firstName",name:"firstName",type:"text",placeholder:"Enter first name",value:s.firstName,onChange:y,disabled:o,required:!0})]}),(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"lastName",children:"Last Name *"}),(0,Wa.jsx)(fc,{id:"lastName",name:"lastName",type:"text",placeholder:"Enter last name",value:s.lastName,onChange:y,disabled:o,required:!0})]})]}),(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"mobile",children:"Mobile Number *"}),(0,Wa.jsx)(fc,{id:"mobile",name:"mobile",type:"tel",placeholder:"10-digit mobile number",value:s.mobile,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);i(e=>Se(Se({},e),{},{mobile:t}))},maxLength:10,disabled:o||t,required:!0}),t&&(0,Wa.jsx)("p",{className:"text-xs text-gray-500",children:"Mobile number verified"})]}),(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"dateOfBirth",children:"Date of Birth *"}),(0,Wa.jsx)(fc,{id:"dateOfBirth",name:"dateOfBirth",type:"date",value:s.dateOfBirth,onChange:y,disabled:o,required:!0})]})]}),(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"address",children:"Address *"}),(0,Wa.jsx)("textarea",{id:"address",name:"address",placeholder:"Enter complete address",value:s.address,onChange:y,rows:3,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",disabled:o,required:!0})]}),(0,Wa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"pincode",children:"Pincode *"}),(0,Wa.jsx)(fc,{id:"pincode",name:"pincode",type:"text",placeholder:"6-digit pincode",value:s.pincode,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);i(e=>Se(Se({},e),{},{pincode:t}))},maxLength:6,disabled:o,required:!0})]}),(0,Wa.jsxs)("div",{className:"space-y-2",children:[(0,Wa.jsx)(xc,{htmlFor:"gstState",children:"GST State Code *"}),(0,Wa.jsx)(fc,{id:"gstState",name:"gstState",type:"text",value:s.gstState,onChange:y,placeholder:"e.g., 07 for Delhi",pattern:"[0-9]{2}",disabled:o,required:!0})]})]}),(0,Wa.jsx)(hc,{type:"submit",className:"w-full",disabled:o,children:o?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Tc,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(Pc,{className:"mr-2 h-4 w-4"}),"Register as Remitter"]})})]})})]})},Wc=e=>{let{remitterId:t,beneficiaries:n,onBeneficiaryAdded:a}=e;const[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)({accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",mobile:""}),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),f=e=>{const{name:t,value:n}=e.target;l(e=>Se(Se({},e),{},{[t]:n}))};return(0,Wa.jsxs)("div",{className:"beneficiary-management",children:[(0,Wa.jsxs)("div",{className:"beneficiary-header",children:[(0,Wa.jsx)("h2",{children:"Manage Beneficiaries"}),(0,Wa.jsx)("button",{className:"btn-add-beneficiary",onClick:()=>i(!s),children:s?"Cancel":"Add New Beneficiary"})]}),s&&(0,Wa.jsxs)("div",{className:"add-beneficiary-form",children:[(0,Wa.jsx)("h3",{children:"Add New Beneficiary"}),(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{await Fc.addBeneficiary(Se(Se({},o),{},{remitterId:t})),it.success("Beneficiary added successfully!"),l({accountHolderName:"",accountNumber:"",ifscCode:"",bankName:"",mobile:""}),i(!1),a()}catch(n){console.error("Add beneficiary error:",n),it.error(n.message||"Failed to add beneficiary. Please try again.")}finally{d(!1)}},children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"accountHolderName",children:"Account Holder Name *"}),(0,Wa.jsx)("input",{type:"text",id:"accountHolderName",name:"accountHolderName",value:o.accountHolderName,onChange:f,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"mobile",children:"Mobile Number *"}),(0,Wa.jsx)("input",{type:"tel",id:"mobile",name:"mobile",value:o.mobile,onChange:f,pattern:"[0-9]{10}",required:!0})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"accountNumber",children:"Account Number *"}),(0,Wa.jsx)("input",{type:"text",id:"accountNumber",name:"accountNumber",value:o.accountNumber,onChange:f,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"ifscCode",children:"IFSC Code *"}),(0,Wa.jsx)("input",{type:"text",id:"ifscCode",name:"ifscCode",value:o.ifscCode,onChange:e=>{const t=e.target.value.toUpperCase();l(e=>Se(Se({},e),{},{ifscCode:t})),(async e=>{if(11===e.length)try{const t=await fetch("https://ifsc.razorpay.com/".concat(e));if(t.ok){const e=await t.json();l(t=>Se(Se({},t),{},{bankName:e.BANK}))}}catch(t){console.log("Could not fetch bank name")}})(t)},placeholder:"e.g., SBIN0001234",pattern:"[A-Z]{4}0[A-Z0-9]{6}",required:!0})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"bankName",children:"Bank Name"}),(0,Wa.jsx)("input",{type:"text",id:"bankName",name:"bankName",value:o.bankName,onChange:f,placeholder:"Will be auto-filled from IFSC",readOnly:!0})]}),(0,Wa.jsx)("div",{className:"form-actions",children:(0,Wa.jsx)("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Adding...":"Add Beneficiary"})})]})]}),(0,Wa.jsxs)("div",{className:"beneficiaries-list",children:[(0,Wa.jsxs)("h3",{children:["Your Beneficiaries (",n.length,")"]}),0===n.length?(0,Wa.jsx)("div",{className:"no-beneficiaries",children:(0,Wa.jsx)("p",{children:"No beneficiaries added yet. Add your first beneficiary to start sending money."})}):(0,Wa.jsx)("div",{className:"beneficiaries-grid",children:n.map((e,t)=>{var n,r;return console.log("=== RENDERING BENEFICIARY ".concat(t+1," ===")),console.log("Beneficiary data:",e),console.log("Beneficiary _id:",e._id),console.log("Beneficiary isVerified:",e.isVerified),(0,Wa.jsxs)("div",{className:"beneficiary-card",children:[(0,Wa.jsxs)("div",{className:"beneficiary-info",children:[(0,Wa.jsx)("h4",{children:e.accountHolderName}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Account:"})," ",e.accountNumber]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"IFSC:"})," ",e.ifscCode]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Bank:"})," ",e.bankName]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Mobile:"})," ",e.mobile]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Monthly Limit:"})," \u20b9",null===(n=e.monthlyLimit)||void 0===n?void 0:n.toLocaleString()]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Remaining:"})," \u20b9",null===(r=e.remainingLimit)||void 0===r?void 0:r.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"beneficiary-status",children:[(0,Wa.jsx)("span",{className:"status-badge ".concat(e.isVerified?"verified":"pending"),children:e.isVerified?"Verified":"Pending Verification"}),(0,Wa.jsx)("span",{className:"status-badge ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),(0,Wa.jsxs)("div",{className:"beneficiary-actions",children:[!e.isVerified&&(0,Wa.jsx)("button",{className:"btn-verify",onClick:()=>{console.log("Verify button clicked for beneficiary:",e),console.log("Beneficiary _id:",e._id),console.log("Beneficiary _id type:",typeof e._id),(async e=>{console.log("=== VERIFY BUTTON CLICKED ==="),console.log("Verifying beneficiary with ID:",e),console.log("ID type:",typeof e),console.log("ID value:",e),console.log("Current verifying state:",u),m(e);try{console.log("Calling dmtService.verifyBeneficiary...");const t=await Fc.verifyBeneficiary(e);console.log("Verify API result:",t),it.success("Beneficiary verified successfully!"),a()}catch(t){console.error("Verify beneficiary error:",t),it.error(t.message||"Verification failed. Please try again.")}finally{m(null)}})(e._id)},disabled:u===e._id,children:u===e._id?"Verifying...":"Verify"}),(0,Wa.jsx)("button",{className:"btn-delete",onClick:()=>{console.log("Delete button clicked for beneficiary:",e),console.log("Beneficiary _id:",e._id),console.log("Beneficiary _id type:",typeof e._id),(async e=>{if(console.log("=== DELETE BUTTON CLICKED ==="),console.log("Deleting beneficiary with ID:",e),console.log("ID type:",typeof e),console.log("ID value:",e),console.log("Current deleting state:",h),window.confirm("Are you sure you want to delete this beneficiary?")){p(e);try{console.log("Calling dmtService.deleteBeneficiary...");const t=await Fc.deleteBeneficiary(e);console.log("Delete API result:",t),it.success("Beneficiary deleted successfully!"),a()}catch(t){console.error("Delete beneficiary error:",t),it.error("Network error. Please try again.")}finally{p(null)}}else console.log("User cancelled deletion")})(e._id)},disabled:h===e._id,children:h===e._id?"Deleting...":"Delete"})]})]},e._id)})})]})]})},Vc=e=>{var t,n;let{remitterData:a,beneficiaries:s,onTransactionComplete:i}=e;const{currentUser:o}=qa();console.log("MoneyTransferForm props:",{remitterData:{remainingLimit:null===a||void 0===a?void 0:a.remainingLimit,monthlyLimit:null===a||void 0===a?void 0:a.monthlyLimit,isVerified:null===a||void 0===a?void 0:a.isVerified},beneficiariesCount:null===s||void 0===s?void 0:s.length});const[l,c]=(0,r.useState)({beneficiaryId:"",amount:"",transferMode:"IMPS",purpose:"Family Support"}),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(0),[p,f]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),[v,y]=(0,r.useState)(0);(0,r.useEffect)(()=>{b()},[]),(0,r.useEffect)(()=>{l.amount&&l.transferMode&&j()},[l.amount,l.transferMode]),(0,r.useEffect)(()=>{if(l.beneficiaryId){const e=s.find(e=>e._id===l.beneficiaryId);console.log("Selected beneficiary:",{id:null===e||void 0===e?void 0:e._id,remainingLimit:null===e||void 0===e?void 0:e.remainingLimit,isVerified:null===e||void 0===e?void 0:e.isVerified,isActive:null===e||void 0===e?void 0:e.isActive}),u(e)}else u(null)},[l.beneficiaryId,s]);const b=async()=>{try{const r=localStorage.getItem("token"),s=await fetch("/wallet/balance",{headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});if(s.ok){var e,t,n,a;const r=await s.json();console.log("Wallet balance fetched:",(null===(e=r.data)||void 0===e||null===(t=e.wallet)||void 0===t?void 0:t.balance)||0),y((null===(n=r.data)||void 0===n||null===(a=n.wallet)||void 0===a?void 0:a.balance)||0)}}catch(r){console.error("Error fetching wallet balance:",r)}},j=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/dmt/calculate-charges",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({amount:parseFloat(l.amount),transferMode:l.transferMode})});if(t.ok){const e=await t.json();h(e.data.charges),f(e.data.totalAmount)}}catch(e){console.error("Error calculating charges:",e)}},N=e=>{const{name:t,value:n}=e.target;console.log("Input change:",{name:t,value:n,type:e.target.type}),"amount"===t&&console.log("Amount input change:",{value:n,selectedBeneficiary:null===d||void 0===d?void 0:d.remainingLimit,remitterLimit:null===a||void 0===a?void 0:a.remainingLimit,walletBalance:v,maxValue:d?Math.min(d.remainingLimit||1/0,(null===a||void 0===a?void 0:a.remainingLimit)||1/0,v):v}),c(e=>Se(Se({},e),{},{[t]:n}))},w=s.filter(e=>e.isVerified&&e.isActive);return 0===w.length?(0,Wa.jsx)("div",{className:"money-transfer-form",children:(0,Wa.jsxs)("div",{className:"no-beneficiaries",children:[(0,Wa.jsx)("h3",{children:"No Verified Beneficiaries"}),(0,Wa.jsx)("p",{children:"You need to add and verify at least one beneficiary before you can send money."}),(0,Wa.jsx)("p",{children:'Go to the "Manage Beneficiaries" tab to add beneficiaries.'})]})}):(0,Wa.jsxs)("div",{className:"money-transfer-form",children:[(0,Wa.jsxs)("div",{className:"transfer-header",children:[(0,Wa.jsx)("h2",{children:"Send Money"}),(0,Wa.jsx)("div",{className:"wallet-info",children:(0,Wa.jsxs)("span",{className:"wallet-balance",children:["Wallet Balance: \u20b9",v.toLocaleString()]})})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),d)if(d.isVerified)if(p>v)it.error("Insufficient wallet balance");else if(null!==d&&void 0!==d&&d.remainingLimit&&parseFloat(l.amount)>d.remainingLimit)it.error("Amount exceeds beneficiary monthly limit");else if(null!==a&&void 0!==a&&a.remainingLimit&&parseFloat(l.amount)>a.remainingLimit)it.error("Amount exceeds remitter monthly limit");else{x(!0);try{const e=localStorage.getItem("token"),t=await fetch("/api/dmt/transaction",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({remitterId:null===a||void 0===a?void 0:a.remitterId,beneficiaryId:l.beneficiaryId,amount:parseFloat(l.amount),transferMode:l.transferMode,purpose:l.purpose})}),n=await t.json();t.ok?(it.success("Money transfer initiated successfully!"),c({beneficiaryId:"",amount:"",transferMode:"IMPS",purpose:"Family Support"}),u(null),h(0),f(0),b(),i()):it.error(n.message||"Transfer failed")}catch(t){it.error("Network error. Please try again.")}finally{x(!1)}}else it.error("Selected beneficiary is not verified");else it.error("Please select a beneficiary")},className:"transfer-form",children:[(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Beneficiary Details"}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"beneficiaryId",children:"Select Beneficiary *"}),(0,Wa.jsxs)("select",{id:"beneficiaryId",name:"beneficiaryId",value:l.beneficiaryId,onChange:N,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Choose a beneficiary"}),w.map(e=>(0,Wa.jsxs)("option",{value:e._id,children:[e.accountHolderName," - ",e.accountNumber.slice(-4)]},e._id))]})]}),d&&(0,Wa.jsxs)("div",{className:"beneficiary-details",children:[(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Account Holder:"}),(0,Wa.jsx)("span",{children:d.accountHolderName})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Account Number:"}),(0,Wa.jsx)("span",{children:d.accountNumber})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"IFSC Code:"}),(0,Wa.jsx)("span",{children:d.ifscCode})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Bank Name:"}),(0,Wa.jsx)("span",{children:d.bankName})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Monthly Limit:"}),(0,Wa.jsxs)("span",{children:["\u20b9",null===(t=d.monthlyLimit)||void 0===t?void 0:t.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Remaining Limit:"}),(0,Wa.jsxs)("span",{children:["\u20b9",null===(n=d.remainingLimit)||void 0===n?void 0:n.toLocaleString()]})]})]})]}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Transfer Details"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount *"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:l.amount,onChange:N,min:"1",max:d?Math.min(d.remainingLimit||1/0,(null===a||void 0===a?void 0:a.remainingLimit)||1/0,v):v,step:"0.01",placeholder:"Enter amount",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"transferMode",children:"Transfer Mode *"}),(0,Wa.jsx)("select",{id:"transferMode",name:"transferMode",value:l.transferMode,onChange:N,required:!0,children:[{value:"IMPS",label:"IMPS (Immediate)",charge:5},{value:"NEFT",label:"NEFT (Next Working Day)",charge:3}].map(e=>(0,Wa.jsxs)("option",{value:e.value,children:[e.label," (\u20b9",e.charge," charge)"]},e.value))})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"purpose",children:"Purpose *"}),(0,Wa.jsx)("select",{id:"purpose",name:"purpose",value:l.purpose,onChange:N,required:!0,children:["Family Support","Education","Medical","Business","Personal","Others"].map(e=>(0,Wa.jsx)("option",{value:e,children:e},e))})]})]}),l.amount&&(0,Wa.jsxs)("div",{className:"amount-summary",children:[(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{children:"Transfer Amount:"}),(0,Wa.jsxs)("span",{children:["\u20b9",parseFloat(l.amount||0).toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{children:"Service Charges:"}),(0,Wa.jsxs)("span",{children:["\u20b9",m.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"summary-row total",children:[(0,Wa.jsx)("span",{children:"Total Amount:"}),(0,Wa.jsxs)("span",{children:["\u20b9",p.toLocaleString()]})]})]}),(0,Wa.jsx)("div",{className:"form-actions",children:(0,Wa.jsx)("button",{type:"submit",className:"btn-transfer",disabled:g||!l.amount||!l.beneficiaryId||p>v,children:g?"Processing...":"Send Money"})})]})]})},qc=e=>{let{remitterData:t}=e;const[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)({startDate:"",endDate:""}),[u,m]=(0,r.useState)({page:1,limit:10,total:0,pages:0}),[h,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[u.page,o,c]);const f=async()=>{try{i(!0);const e=localStorage.getItem("token"),t=new URLSearchParams(Se(Se(Se({page:u.page,limit:u.limit},"all"!==o&&{status:o}),c.startDate&&{startDate:c.startDate}),c.endDate&&{endDate:c.endDate})),n=await fetch("/api/dmt/transactions?".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();a(e.data.transactions||[]),m(t=>{var n,a;return Se(Se({},t),{},{total:(null===(n=e.pagination)||void 0===n?void 0:n.total)||0,pages:(null===(a=e.pagination)||void 0===a?void 0:a.pages)||0})})}else it.error("Failed to fetch transactions")}catch(e){console.error("Error fetching transactions:",e),it.error("Network error. Please try again.")}finally{i(!1),p(!1)}},g=(e,t)=>{d(n=>Se(Se({},n),{},{[e]:t})),m(e=>Se(Se({},e),{},{page:1}))},x=e=>{m(t=>Se(Se({},t),{},{page:e}))},v=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"success":case"completed":return"status-success";case"failed":case"failure":return"status-failed";case"pending":case"processing":case"initiated":return"status-pending";default:return"status-unknown"}},y=n;return s&&!h?(0,Wa.jsx)("div",{className:"transaction-history",children:(0,Wa.jsxs)("div",{className:"loading-spinner",children:[(0,Wa.jsx)("div",{className:"spinner"}),(0,Wa.jsx)("p",{children:"Loading transaction history..."})]})}):(0,Wa.jsxs)("div",{className:"transaction-history",children:[(0,Wa.jsxs)("div",{className:"history-header",children:[(0,Wa.jsx)("h2",{children:"Transaction History"}),(0,Wa.jsx)("button",{className:"btn-refresh",onClick:()=>{p(!0),f()},disabled:h,children:h?"Refreshing...":"Refresh"})]}),(0,Wa.jsxs)("div",{className:"filters-section",children:[(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Status Filter:"}),(0,Wa.jsxs)("select",{value:o,onChange:e=>{return t=e.target.value,l(t),void m(e=>Se(Se({},e),{},{page:1}));var t},children:[(0,Wa.jsx)("option",{value:"all",children:"All Transactions"}),(0,Wa.jsx)("option",{value:"SUCCESS",children:"Successful"}),(0,Wa.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Wa.jsx)("option",{value:"FAILED",children:"Failed"})]})]}),(0,Wa.jsxs)("div",{className:"date-filters",children:[(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"From Date:"}),(0,Wa.jsx)("input",{type:"date",value:c.startDate,onChange:e=>g("startDate",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"To Date:"}),(0,Wa.jsx)("input",{type:"date",value:c.endDate,onChange:e=>g("endDate",e.target.value)})]})]})]}),0===y.length?(0,Wa.jsxs)("div",{className:"no-transactions",children:[(0,Wa.jsx)("h3",{children:"No Transactions Found"}),(0,Wa.jsx)("p",{children:"You haven't made any money transfers yet or no transactions match your filters."})]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("div",{className:"transactions-list",children:y.map(e=>{var t,n,a,r,s,i,o;return(0,Wa.jsxs)("div",{className:"transaction-card",children:[(0,Wa.jsxs)("div",{className:"transaction-header",children:[(0,Wa.jsxs)("div",{className:"transaction-id",children:[(0,Wa.jsx)("strong",{children:"ID:"})," ",e.transactionId]}),(0,Wa.jsx)("div",{className:"status-badge ".concat(v(e.status)),children:e.status})]}),(0,Wa.jsx)("div",{className:"transaction-details",children:(0,Wa.jsx)("div",{className:"detail-section",children:(0,Wa.jsxs)("div",{className:"detail-grid",children:[(0,Wa.jsxs)("div",{className:"detail-row full-width",children:[(0,Wa.jsx)("span",{children:"Beneficiary:"}),(0,Wa.jsx)("span",{children:(null===(t=e.beneficiary)||void 0===t?void 0:t.accountHolderName)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Account:"}),(0,Wa.jsx)("span",{children:(null===(n=e.beneficiary)||void 0===n?void 0:n.accountNumber)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Bank:"}),(0,Wa.jsx)("span",{children:(null===(a=e.beneficiary)||void 0===a?void 0:a.bankName)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row half-width",children:[(0,Wa.jsx)("span",{children:"Amount:"}),(0,Wa.jsxs)("span",{className:"amount",children:["\u20b9",null===(r=e.amount)||void 0===r?void 0:r.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"detail-row half-width",children:[(0,Wa.jsx)("span",{children:"Charges:"}),(0,Wa.jsxs)("span",{children:["\u20b9",null===(s=e.charges)||void 0===s?void 0:s.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"detail-row half-width",children:[(0,Wa.jsx)("span",{children:"Total:"}),(0,Wa.jsxs)("span",{className:"total-amount",children:["\u20b9",null===(i=e.totalAmount)||void 0===i?void 0:i.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"detail-row half-width",children:[(0,Wa.jsx)("span",{children:"Mode:"}),(0,Wa.jsx)("span",{children:e.transferMode})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Purpose:"}),(0,Wa.jsx)("span",{children:e.purpose||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{children:"Created:"}),(0,Wa.jsx)("span",{children:(o=e.createdAt,new Date(o).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),e.bankReferenceNumber&&(0,Wa.jsxs)("div",{className:"detail-row full-width",children:[(0,Wa.jsx)("span",{children:"Bank Ref:"}),(0,Wa.jsx)("span",{children:e.bankReferenceNumber})]})]})})}),(0,Wa.jsxs)("div",{className:"transaction-actions",children:[("PENDING"===e.status||"PROCESSING"===e.status)&&(0,Wa.jsx)("button",{className:"btn-check-status",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/api/dmt/transaction/".concat(e,"/status"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});n.ok?(await n.json(),it.success("Transaction status updated"),f()):it.error("Failed to check transaction status")}catch(t){console.error("Error checking transaction status:",t),it.error("Network error. Please try again.")}})(e.transactionId),children:"Check Status"}),(0,Wa.jsx)("button",{className:"btn-view-receipt",onClick:()=>(async e=>{try{const d=localStorage.getItem("token"),u=await fetch("/api/dmt/transaction/".concat(e,"/receipt"),{headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"}});if(u.ok){var t,n,a,r,s,i,o,l,c;const e=(await u.json()).data.receipt,d=window.open("","_blank","width=800,height=600");d.document.write("\n          <html>\n            <head>\n              <title>Transaction Receipt - ".concat(e.transactionId,'</title>\n              <style>\n                body { font-family: Arial, sans-serif; padding: 20px; }\n                .receipt-header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; }\n                .receipt-section { margin: 20px 0; }\n                .receipt-row { display: flex; justify-content: space-between; margin: 5px 0; }\n                .receipt-label { font-weight: bold; }\n                .receipt-value { text-align: right; }\n                .total-amount { font-size: 1.2em; color: #28a745; font-weight: bold; }\n                .status-success { color: #28a745; font-weight: bold; }\n                .status-pending { color: #ffc107; font-weight: bold; }\n                .status-failed { color: #dc3545; font-weight: bold; }\n              </style>\n            </head>\n            <body>\n              <div class="receipt-header">\n                <h2>Transaction Receipt</h2>\n                <p>Transaction ID: ').concat(e.transactionId,"</p>\n                ").concat(e.referenceId?"<p>Reference ID: ".concat(e.referenceId,"</p>"):"",'\n              </div>\n              \n              <div class="receipt-section">\n                <h3>Transaction Details</h3>\n                <div class="receipt-row">\n                  <span class="receipt-label">Status:</span>\n                  <span class="receipt-value status-').concat(e.status.toLowerCase(),'">').concat(e.status,'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Amount:</span>\n                  <span class="receipt-value">\u20b9').concat(null===(t=e.amount)||void 0===t?void 0:t.toLocaleString(),'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Charges:</span>\n                  <span class="receipt-value">\u20b9').concat(null===(n=e.charges)||void 0===n?void 0:n.toLocaleString(),'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Total Amount:</span>\n                  <span class="receipt-value total-amount">\u20b9').concat(null===(a=e.totalAmount)||void 0===a?void 0:a.toLocaleString(),'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Transfer Mode:</span>\n                  <span class="receipt-value">').concat(e.transferMode,'</span>\n                </div>\n              </div>\n              \n              <div class="receipt-section">\n                <h3>Beneficiary Details</h3>\n                <div class="receipt-row">\n                  <span class="receipt-label">Name:</span>\n                  <span class="receipt-value">').concat(null===(r=e.beneficiary)||void 0===r?void 0:r.name,'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Account Number:</span>\n                  <span class="receipt-value">').concat(null===(s=e.beneficiary)||void 0===s?void 0:s.accountNumber,'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Bank:</span>\n                  <span class="receipt-value">').concat(null===(i=e.beneficiary)||void 0===i?void 0:i.bankName,'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">IFSC:</span>\n                  <span class="receipt-value">').concat(null===(o=e.beneficiary)||void 0===o?void 0:o.ifscCode,'</span>\n                </div>\n              </div>\n              \n              <div class="receipt-section">\n                <h3>Sender Details</h3>\n                <div class="receipt-row">\n                  <span class="receipt-label">Name:</span>\n                  <span class="receipt-value">').concat(null===(l=e.sender)||void 0===l?void 0:l.name,'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Mobile:</span>\n                  <span class="receipt-value">').concat(null===(c=e.sender)||void 0===c?void 0:c.mobile,'</span>\n                </div>\n              </div>\n              \n              <div class="receipt-section">\n                <h3>Timestamps</h3>\n                <div class="receipt-row">\n                  <span class="receipt-label">Initiated:</span>\n                  <span class="receipt-value">').concat(new Date(e.initiatedAt).toLocaleString(),'</span>\n                </div>\n                <div class="receipt-row">\n                  <span class="receipt-label">Completed:</span>\n                  <span class="receipt-value">').concat(new Date(e.completedAt).toLocaleString(),"</span>\n                </div>\n                ").concat(e.paysprintTransactionId?'\n                <div class="receipt-row">\n                  <span class="receipt-label">API Transaction ID:</span>\n                  <span class="receipt-value">'.concat(e.paysprintTransactionId,"</span>\n                </div>"):"",'\n              </div>\n              \n              <div style="text-align: center; margin-top: 30px;">\n                <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Print Receipt</button>\n              </div>\n            </body>\n          </html>\n        ')),d.document.close()}else it.error("Failed to fetch receipt details")}catch(d){console.error("Error fetching receipt:",d),it.error("Network error. Please try again.")}})(e.transactionId),children:"View Receipt"})]})]},e._id)})}),u.pages>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{className:"btn-page",onClick:()=>x(u.page-1),disabled:1===u.page,children:"Previous"}),(0,Wa.jsxs)("span",{className:"page-info",children:["Page ",u.page," of ",u.pages," (",u.total," total)"]}),(0,Wa.jsx)("button",{className:"btn-page",onClick:()=>x(u.page+1),disabled:u.page===u.pages,children:"Next"})]})]})]})},Hc=()=>{var e,t,n;const{currentUser:a,isAuthenticated:s}=qa(),[i,o]=(0,r.useState)("mobile_verification"),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[g,x]=(0,r.useState)(""),[v,y]=(0,r.useState)("transfer"),[b,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(0);(0,r.useEffect)(()=>{console.log("Auth status:",{isAuthenticated:s,currentUser:a,token:localStorage.getItem("token")}),console.log("Current step:",i),console.log("Remitter:",l),console.log("Beneficiaries count:",b.length)},[s,a,i,l,b]),(0,r.useEffect)(()=>{null!==l&&void 0!==l&&l.remitterId&&C(l.remitterId)},[null===l||void 0===l?void 0:l.remitterId,N]);const S=e=>{var t,n;(h(e),e.needsRegistration)?o("registration"):(c(e.remitter),"verified"!==(null===(t=e.remitter)||void 0===t?void 0:t.kycStatus)?o("registration"):(o("dashboard"),null!==(n=e.remitter)&&void 0!==n&&n.remitterId&&C(e.remitter.remitterId)))},k=e=>{c(e),o("dashboard"),null!==e&&void 0!==e&&e.remitterId&&C(e.remitterId)},C=async e=>{console.log("Loading beneficiaries for remitterId:",e);try{const t=await Fc.getBeneficiaries(e);console.log("Beneficiaries API response:",t),j(t.data.beneficiaries||[]),console.log("Set beneficiaries state:",t.data.beneficiaries||[])}catch(g){console.error("Error loading beneficiaries:",g)}};return s?p?(0,Wa.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,Wa.jsx)("div",{className:"loading",children:"Loading..."})}):"mobile_verification"===i?(0,Wa.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Wa.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Wa.jsxs)("div",{className:"text-center mb-8",children:[(0,Wa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"DMT Money Transfer"}),(0,Wa.jsx)("p",{className:"text-gray-600",children:"Fast, secure, and reliable money transfer service"})]}),(0,Wa.jsx)(Mc,{onVerificationComplete:S})]})}):"registration"===i?(0,Wa.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Wa.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Wa.jsxs)("div",{className:"text-center mb-8",children:[(0,Wa.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Remitter Registration"}),(0,Wa.jsx)("p",{className:"text-gray-600",children:"Complete your registration to start transferring money"})]}),(0,Wa.jsx)(Uc,{initialMobile:null===m||void 0===m?void 0:m.mobile,existingRemitter:l,onRegistrationComplete:k})]})}):(0,Wa.jsx)("div",{className:"container mx-auto px-3 py-2",children:(0,Wa.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Wa.jsxs)(Gl,{className:"mb-3 shadow-sm",children:[(0,Wa.jsx)(Yl,{className:"pb-2 pt-3",children:(0,Wa.jsxs)(Jl,{className:"flex items-center gap-2 text-lg",children:[(0,Wa.jsx)("span",{children:"\ud83d\udcb8"}),"DMT Money Transfer"]})}),(0,Wa.jsx)(Xl,{className:"pt-0 pb-3",children:(0,Wa.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[(0,Wa.jsxs)("div",{className:"bg-blue-50 p-2 rounded-md",children:[(0,Wa.jsx)("h3",{className:"font-semibold text-blue-900 text-xs",children:"Remitter"}),(0,Wa.jsxs)("p",{className:"text-blue-700 font-medium text-sm",children:[null===l||void 0===l?void 0:l.firstName," ",null===l||void 0===l?void 0:l.lastName]}),(0,Wa.jsx)("p",{className:"text-xs text-blue-600",children:null===l||void 0===l?void 0:l.mobile})]}),(0,Wa.jsxs)("div",{className:"bg-green-50 p-2 rounded-md",children:[(0,Wa.jsx)("h3",{className:"font-semibold text-green-900 text-xs",children:"Monthly Limit"}),(0,Wa.jsxs)("p",{className:"text-green-700 font-bold text-sm",children:["\u20b9",null===l||void 0===l||null===(e=l.monthlyLimit)||void 0===e?void 0:e.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"bg-orange-50 p-2 rounded-md",children:[(0,Wa.jsx)("h3",{className:"font-semibold text-orange-900 text-xs",children:"Used"}),(0,Wa.jsxs)("p",{className:"text-orange-700 font-bold text-sm",children:["\u20b9",null===l||void 0===l||null===(t=l.monthlyUsed)||void 0===t?void 0:t.toLocaleString()]})]}),(0,Wa.jsxs)("div",{className:"bg-purple-50 p-2 rounded-md",children:[(0,Wa.jsx)("h3",{className:"font-semibold text-purple-900 text-xs",children:"Remaining"}),(0,Wa.jsxs)("p",{className:"text-purple-700 font-bold text-sm",children:["\u20b9",null===l||void 0===l||null===(n=l.remainingLimit)||void 0===n?void 0:n.toLocaleString()]})]})]})})]}),(0,Wa.jsxs)(rc,{value:v,onValueChange:y,className:"w-full",children:[(0,Wa.jsxs)(sc,{className:"mb-3",children:[(0,Wa.jsx)(ic,{value:"transfer",className:"flex items-center gap-1.5 flex-1",children:"\ud83d\udcb8 Send Money"}),(0,Wa.jsx)(ic,{value:"beneficiaries",className:"flex items-center gap-1.5 flex-1",children:"\ud83d\udc65 Beneficiaries"}),(0,Wa.jsx)(ic,{value:"history",className:"flex items-center gap-1.5 flex-1",children:"\ud83d\udccb History"})]}),(0,Wa.jsx)(oc,{value:"transfer",className:"mt-2",children:(0,Wa.jsx)(Vc,{remitterData:l,beneficiaries:b,onTransactionComplete:()=>{w(e=>e+1)}})}),(0,Wa.jsx)(oc,{value:"beneficiaries",className:"mt-2",children:(0,Wa.jsx)(Wc,{remitterId:null===l||void 0===l?void 0:l.remitterId,beneficiaries:b,onBeneficiaryAdded:()=>{null!==l&&void 0!==l&&l.remitterId&&C(l.remitterId)}})}),(0,Wa.jsx)(oc,{value:"history",className:"mt-2",children:(0,Wa.jsx)(qc,{remitterId:null===l||void 0===l?void 0:l.remitterId})})]})]})}):(0,Wa.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,Wa.jsx)("div",{className:"max-w-md mx-auto",children:(0,Wa.jsxs)(Gl,{children:[(0,Wa.jsx)(Yl,{children:(0,Wa.jsx)(Jl,{children:"Authentication Required"})}),(0,Wa.jsxs)(Xl,{children:[(0,Wa.jsx)("p",{className:"text-gray-600 mb-4",children:"Please log in to access the Money Transfer service."}),(0,Wa.jsx)("button",{onClick:()=>window.location.href="/login",className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:"Go to Login"})]})]})})})},Kc=()=>{const[e,t]=(0,r.useState)("balance"),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)({aadhaarNumber:"",mobileNumber:"",bankIin:"",amount:"",transactionType:"BE",pidData:"",ci:"",dc:"",dpId:"",mc:"",mi:"",rdsId:"",rdsVer:""}),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)([]);(0,r.useEffect)(()=>{h()},[]);const h=async()=>{try{const t=localStorage.getItem("token"),n=await fetch("/aeps/banks",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(n.ok){var e;const t=await n.json();console.log("Bank list response:",t),console.log("Banks data:",t.data),i(t.data||[]),it.success("Loaded ".concat((null===(e=t.data)||void 0===e?void 0:e.length)||0," banks"))}else it.error("Failed to fetch bank list")}catch(t){console.error("Error fetching banks:",t),it.error("Error fetching bank list")}},p=e=>{const{name:t,value:n}=e.target;l(e=>Se(Se({},e),{},{[t]:n}))},f=async t=>{if(t.preventDefault(),o.aadhaarNumber&&12===o.aadhaarNumber.length?o.mobileNumber&&10===o.mobileNumber.length?o.bankId?"withdrawal"!==e&&"deposit"!==e||o.amount&&!(o.amount<=0)?o.pidData||(it.error("Biometric authentication is required"),0):(it.error("Please enter a valid amount"),0):(it.error("Please select a bank"),0):(it.error("Please enter a valid 10-digit mobile number"),0):(it.error("Please enter a valid 12-digit Aadhaar number"),0)){a(!0),d(null),m([]);try{const t=localStorage.getItem("token");let n="",a="";switch(e){case"balance":n="/aeps/balance-inquiry",a="BE";break;case"withdrawal":n="/aeps/cash-withdrawal",a="CW";break;case"deposit":n="/aeps/cash-deposit",a="CD";break;case"statement":n="/aeps/mini-statement",a="MS";break;default:throw new Error("Invalid transaction type")}const r=s.find(e=>e.id===o.bankId),i={aadhaarNumber:o.aadhaarNumber,mobileNumber:o.mobileNumber,bankIin:o.bankId,bankName:r?r.name:"",biometricType:"fingerprint",pidData:o.pidData,wadh:o.aadhaarNumber,transactionType:a,amount:"withdrawal"===e||"deposit"===e?parseFloat(o.amount):void 0};console.log("=== AEPS REQUEST DEBUG ==="),console.log("Endpoint:",n),console.log("Form Data:",o),console.log("Selected Bank:",r),console.log("Request Data:",i),console.log("========================");const c=await fetch(n,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(i)}),u=await c.json();if(c.ok)d(u),"statement"===e&&u.miniStatement&&m(u.miniStatement),it.success(u.message||"Transaction completed successfully"),"balance"!==e&&"statement"!==e&&l(e=>Se(Se({},e),{},{amount:"",pidData:""}));else if(u.errors&&Array.isArray(u.errors)){const e=u.errors.map(e=>"".concat(e.field,": ").concat(e.message)).join(", ");it.error("Validation Error: ".concat(e))}else it.error(u.message||"Transaction failed")}catch(n){console.error("AEPS transaction error:",n),it.error("An error occurred while processing your AEPS request.")}finally{a(!1)}}},g=()=>{l(e=>Se(Se({},e),{},{pidData:'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<PidData>\n  <Resp errCode="0" errInfo="Success" fCount="1" fType="0" nmPoints="36" qScore="75"/>\n  <DeviceInfo dpId="MANTRA.MSIPL" rdsId="MANTRA.WIN.001" rdsVer="1.0.5" mi="MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC" mc="MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC" dc="d1808a8c-5b1a-4b1a-8c5b-1a4b1a8c5b1a"/>\n  <Skey ci="20230101">encrypted_session_key_here</Skey>\n  <Hmac>hmac_value_here</Hmac>\n  <Data type="X">biometric_template_data_here</Data>\n</PidData>',biometricType:"fingerprint",ci:"20230101",dc:"d1808a8c-5b1a-4b1a-8c5b-1a4b1a8c5b1a",dpId:"MANTRA.MSIPL",mc:"MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC",mi:"MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC",rdsId:"MANTRA.WIN.001",rdsVer:"1.0.5"})),it.success("Biometric data captured successfully (simulated)")};return(0,Wa.jsxs)("div",{className:"aeps-container",children:[(0,Wa.jsxs)("div",{className:"aeps-header",children:[(0,Wa.jsx)("h1",{children:"AEPS Services"}),(0,Wa.jsx)("p",{children:"Aadhaar Enabled Payment System"})]}),(0,Wa.jsxs)("div",{className:"aeps-tabs",children:[(0,Wa.jsx)("button",{className:"tab-button ".concat("balance"===e?"active":""),onClick:()=>t("balance"),children:"Balance Inquiry"}),(0,Wa.jsx)("button",{className:"tab-button ".concat("withdrawal"===e?"active":""),onClick:()=>t("withdrawal"),children:"Cash Withdrawal"}),(0,Wa.jsx)("button",{className:"tab-button ".concat("deposit"===e?"active":""),onClick:()=>t("deposit"),children:"Cash Deposit"}),(0,Wa.jsx)("button",{className:"tab-button ".concat("statement"===e?"active":""),onClick:()=>t("statement"),children:"Mini Statement"})]}),(0,Wa.jsxs)("div",{className:"aeps-content",children:[(0,Wa.jsx)("div",{className:"aeps-form-section",children:(0,Wa.jsxs)("form",{onSubmit:f,className:"aeps-form",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"aadhaarNumber",children:"Aadhaar Number *"}),(0,Wa.jsx)("input",{type:"text",id:"aadhaarNumber",name:"aadhaarNumber",value:o.aadhaarNumber,onChange:p,placeholder:"Enter 12-digit Aadhaar number",maxLength:"12",pattern:"[0-9]{12}",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"mobileNumber",children:"Mobile Number *"}),(0,Wa.jsx)("input",{type:"text",id:"mobileNumber",name:"mobileNumber",value:o.mobileNumber,onChange:p,placeholder:"Enter 10-digit mobile number",maxLength:"10",pattern:"[0-9]{10}",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"bankIin",children:"Select Bank *"}),(0,Wa.jsxs)("select",{id:"bankIin",name:"bankIin",value:o.bankIin,onChange:p,required:!0,children:[(0,Wa.jsx)("option",{value:"",children:"Select a bank"}),s.map(e=>(0,Wa.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),("withdrawal"===e||"deposit"===e)&&(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount *"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:o.amount,onChange:p,placeholder:"Enter amount",min:"1",max:"withdrawal"===e?"10000":"50000",step:"1",required:!0}),(0,Wa.jsx)("small",{className:"form-text",children:"withdrawal"===e?"Minimum: \u20b9100, Maximum: \u20b910,000 per transaction":"Minimum: \u20b9100, Maximum: \u20b950,000 per transaction"})]}),(0,Wa.jsxs)("div",{className:"form-group biometric-section",children:[(0,Wa.jsx)("label",{children:"Biometric Authentication *"}),(0,Wa.jsxs)("div",{className:"biometric-controls",children:[(0,Wa.jsx)("button",{type:"button",onClick:g,className:"btn btn-secondary",disabled:n,children:"\ud83d\udcf1 Capture Biometric (Simulated)"}),o.pidData&&(0,Wa.jsx)("span",{className:"biometric-status",children:"\u2705 Biometric Captured"})]}),(0,Wa.jsx)("small",{className:"form-text",children:"In production, this would integrate with actual biometric devices"})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:n||!o.pidData,children:n?"Processing...":"Process ".concat(e.charAt(0).toUpperCase()+e.slice(1))})]})}),c&&(0,Wa.jsxs)("div",{className:"transaction-result",children:[(0,Wa.jsx)("h3",{children:"Transaction Result"}),(0,Wa.jsxs)("div",{className:"result-details",children:[(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"Status:"}),(0,Wa.jsx)("span",{className:"value ".concat("SUCCESS"===c.status?"success":"error"),children:c.status})]}),(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"Message:"}),(0,Wa.jsx)("span",{className:"value",children:c.message})]}),c.transactionId&&(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"Transaction ID:"}),(0,Wa.jsx)("span",{className:"value",children:c.transactionId})]}),c.rrn&&(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"RRN:"}),(0,Wa.jsx)("span",{className:"value",children:c.rrn})]}),c.balance&&(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"Available Balance:"}),(0,Wa.jsxs)("span",{className:"value balance",children:["\u20b9",c.balance]})]}),c.amount&&(0,Wa.jsxs)("div",{className:"result-item",children:[(0,Wa.jsx)("span",{className:"label",children:"Amount:"}),(0,Wa.jsxs)("span",{className:"value amount",children:["\u20b9",c.amount]})]})]})]}),u.length>0&&(0,Wa.jsxs)("div",{className:"mini-statement",children:[(0,Wa.jsx)("h3",{children:"Mini Statement"}),(0,Wa.jsx)("div",{className:"statement-table",children:(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Date"}),(0,Wa.jsx)("th",{children:"Description"}),(0,Wa.jsx)("th",{children:"Amount"}),(0,Wa.jsx)("th",{children:"Balance"})]})}),(0,Wa.jsx)("tbody",{children:u.map((e,t)=>(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,Wa.jsx)("td",{children:e.description}),(0,Wa.jsxs)("td",{className:"debit"===e.type?"debit":"credit",children:["debit"===e.type?"-":"+","\u20b9",e.amount]}),(0,Wa.jsxs)("td",{children:["\u20b9",e.balance]})]},t))})]})})]})]})]})},Qc=()=>(0,Wa.jsxs)("div",{className:"not-found-container",children:[(0,Wa.jsx)("h1",{children:"404"}),(0,Wa.jsx)("h2",{children:"Page Not Found"}),(0,Wa.jsx)("p",{children:"The page you are looking for does not exist or has been moved."}),(0,Wa.jsx)(gt,{to:"/",className:"btn btn-primary",children:"Go to Home"})]}),$c=()=>{const{currentUser:e}=qa(),t=ee(),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if("admin"!==(null===e||void 0===e?void 0:e.role))return void t("/dashboard");(async()=>{try{i(!0);const e=await Ua.get("/admin/dashboard-stats");a(e.data.data.stats),i(!1)}catch(im){l("Failed to load dashboard statistics"),i(!1),console.error("Error fetching admin dashboard stats:",im)}})()},[e,t]),s?(0,Wa.jsx)("div",{className:"loading",children:"Loading dashboard..."}):o?(0,Wa.jsx)("div",{className:"error-message",children:o}):n?(0,Wa.jsxs)("div",{className:"admin-dashboard",style:{padding:window.innerWidth<=768?"0.5rem":"1rem",backgroundColor:"#f8f9fa",minHeight:"100vh"},children:[(0,Wa.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"0.5rem",borderRadius:"6px",marginBottom:"0.5rem",textAlign:"center",boxShadow:"0 1px 4px rgba(0,0,0,0.1)"},children:[(0,Wa.jsx)("h1",{style:{margin:"0",fontSize:"1.1rem",fontWeight:"700"},children:"Admin Dashboard"}),(0,Wa.jsxs)("p",{style:{margin:"0.1rem 0 0 0",opacity:"0.9",fontSize:"0.7rem"},children:["Welcome back, ",null===e||void 0===e?void 0:e.name]})]}),n&&(0,Wa.jsxs)("div",{className:"dashboard-stats",children:[(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<=768?"repeat(auto-fit, minmax(120px, 1fr))":"repeat(auto-fit, minmax(200px, 1fr))",gap:window.innerWidth<=768?"0.4rem":"1rem",marginBottom:window.innerWidth<=768?"0.5rem":"1rem"},children:[(0,Wa.jsxs)("div",{style:{background:"white",padding:window.innerWidth<=768?"0.4rem":"1rem",borderRadius:window.innerWidth<=768?"6px":"8px",boxShadow:window.innerWidth<=768?"0 1px 3px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.1)",textAlign:"center",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:window.innerWidth<=768?"0.15rem":"0.5rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-users",style:{fontSize:window.innerWidth<=768?"0.6rem":"1.5rem",color:"#28a745",marginRight:window.innerWidth<=768?"0.15rem":"0.5rem"}}),(0,Wa.jsx)("h3",{style:{margin:"0",fontSize:window.innerWidth<=768?"0.55rem":"1rem",color:"#495057"},children:"Users"})]}),(0,Wa.jsx)("div",{style:{fontSize:window.innerWidth<=768?"1.4rem":"2rem",fontWeight:"700",color:"#28a745",marginBottom:window.innerWidth<=768?"0.2rem":"0.5rem"},children:n.totalUsers}),(0,Wa.jsxs)("div",{style:{fontSize:window.innerWidth<=768?"0.65rem":"0.9rem",color:"#6c757d"},children:["Active: ",n.activeUsers]})]}),(0,Wa.jsxs)("div",{style:{background:"white",padding:window.innerWidth<=768?"0.4rem":"1rem",borderRadius:window.innerWidth<=768?"6px":"8px",boxShadow:window.innerWidth<=768?"0 1px 3px rgba(0,0,0,0.1)":"0 2px 8px rgba(0,0,0,0.1)",textAlign:"center",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.15rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-exchange-alt",style:{fontSize:"0.6rem",color:"#007bff",marginRight:"0.15rem"}}),(0,Wa.jsx)("h3",{style:{margin:"0",fontSize:"0.55rem",color:"#495057"},children:"Transactions"})]}),(0,Wa.jsx)("div",{style:{fontSize:"1.4rem",fontWeight:"700",color:"#007bff",marginBottom:"0.2rem"},children:n.totalTransactions}),(0,Wa.jsxs)("div",{style:{fontSize:"0.65rem",color:"#6c757d"},children:["\u20b9",n.totalTransactionAmount?n.totalTransactionAmount.toLocaleString():"0"]})]}),(0,Wa.jsxs)("div",{style:{background:"white",padding:"0.4rem",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",textAlign:"center",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"0.15rem"},children:[(0,Wa.jsx)("i",{className:"fas fa-clock",style:{fontSize:"0.6rem",color:"#ffc107",marginRight:"0.15rem"}}),(0,Wa.jsx)("h3",{style:{margin:"0",fontSize:"0.55rem",color:"#495057"},children:"Pending Approvals"})]}),(0,Wa.jsx)("div",{style:{fontSize:"1.4rem",fontWeight:"700",color:"#ffc107",marginBottom:"0.2rem"},children:n.pendingApprovals}),(0,Wa.jsx)("div",{style:{fontSize:"0.65rem",color:"#6c757d"},children:"Needs Review"})]})]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"0.4rem",marginBottom:"0.5rem"},children:[(0,Wa.jsxs)("div",{style:{background:"white",padding:"0.4rem",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("h3",{style:{margin:"0 0 0.3rem 0",fontSize:"0.55rem",color:"#495057",display:"flex",alignItems:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-chart-bar",style:{marginRight:"0.15rem",color:"#007bff",fontSize:"0.6rem"}}),"Transactions by Type"]}),(0,Wa.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.2rem"},children:Object.entries(n.transactionsByType||{}).map(e=>{let[t,a]=e;return(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.25rem",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"},children:[(0,Wa.jsx)("span",{style:{fontSize:"0.55rem",fontWeight:"500",color:"#495057",textTransform:"capitalize"},children:t.replace("-"," ")}),(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Wa.jsx)("div",{style:{width:"60px",height:"8px",background:"#e9ecef",borderRadius:"4px",overflow:"hidden"},children:(0,Wa.jsx)("div",{style:{width:"".concat(a/n.totalTransactions*100,"%"),height:"100%",background:"linear-gradient(90deg, #007bff, #0056b3)",borderRadius:"4px"}})}),(0,Wa.jsx)("span",{style:{fontSize:"0.55rem",fontWeight:"600",color:"#007bff",minWidth:"30px",textAlign:"right"},children:a})]})]},t)})})]}),(0,Wa.jsxs)("div",{style:{background:"white",padding:"0.4rem",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("h3",{style:{margin:"0 0 0.3rem 0",fontSize:"0.55rem",color:"#495057",display:"flex",alignItems:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-chart-pie",style:{marginRight:"0.15rem",color:"#28a745",fontSize:"0.6rem"}}),"Transactions by Status"]}),(0,Wa.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.2rem"},children:Object.entries(n.transactionsByStatus||{}).map(e=>{let[t,a]=e;const r={completed:"#28a745",pending:"#ffc107",failed:"#dc3545",awaiting_approval:"#fd7e14",approved:"#20c997",rejected:"#6f42c1"};return(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.25rem",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"},children:[(0,Wa.jsx)("span",{style:{fontSize:"0.55rem",fontWeight:"500",color:"#495057",textTransform:"capitalize"},children:t.replace("_"," ")}),(0,Wa.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Wa.jsx)("div",{style:{width:"60px",height:"8px",background:"#e9ecef",borderRadius:"4px",overflow:"hidden"},children:(0,Wa.jsx)("div",{style:{width:"".concat(a/n.totalTransactions*100,"%"),height:"100%",background:r[t]||"#6c757d",borderRadius:"4px"}})}),(0,Wa.jsx)("span",{style:{fontSize:"0.55rem",fontWeight:"600",color:r[t]||"#6c757d",minWidth:"30px",textAlign:"right"},children:a})]})]},t)})})]})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,Wa.jsxs)("h3",{style:{margin:"0 0 0.3rem 0",fontSize:"0.6rem",color:"#495057",fontWeight:"600",display:"flex",alignItems:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-bolt",style:{marginRight:"0.2rem",color:"#007bff",fontSize:"0.6rem"}}),"Quick Actions"]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.3rem"},children:[(0,Wa.jsxs)("button",{onClick:()=>t("/admin/api-providers"),style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",border:"none",padding:"0.4rem",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(40,167,69,0.3)",textAlign:"center"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(40,167,69,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 1px 3px rgba(40,167,69,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-plug",style:{marginBottom:"0.1rem",display:"block"}}),"API Providers"]}),(0,Wa.jsxs)("button",{onClick:()=>t("/admin/operators"),style:{background:"linear-gradient(135deg, #007bff 0%, #0056b3 100%)",color:"white",border:"none",padding:"0.4rem",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,123,255,0.3)",textAlign:"center"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0,123,255,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 1px 3px rgba(0,123,255,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-cogs",style:{marginBottom:"0.1rem",display:"block"}}),"Operator Config"]}),(0,Wa.jsxs)("button",{onClick:()=>t("/admin/manual-recharges"),style:{background:"linear-gradient(135deg, #ffc107 0%, #fd7e14 100%)",color:"white",border:"none",padding:"0.4rem",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(255,193,7,0.3)",textAlign:"center"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(255,193,7,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 1px 3px rgba(255,193,7,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-hand-paper",style:{marginBottom:"0.1rem",display:"block"}}),"Manual Recharges"]}),(0,Wa.jsxs)("button",{onClick:()=>t("/admin/user-management"),style:{background:"linear-gradient(135deg, #e74c3c 0%, #c0392b 100%)",color:"white",border:"none",padding:"0.4rem",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(231,76,60,0.3)",textAlign:"center"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(231,76,60,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 1px 3px rgba(231,76,60,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-users-cog",style:{marginBottom:"0.1rem",display:"block"}}),"User Management"]}),(0,Wa.jsxs)("button",{onClick:()=>t("/admin/transactions"),style:{background:"linear-gradient(135deg, #6f42c1 0%, #495057 100%)",color:"white",border:"none",padding:"0.4rem",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(111,66,193,0.3)",textAlign:"center"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(111,66,193,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 1px 3px rgba(111,66,193,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-list",style:{marginBottom:"0.1rem",display:"block"}}),"All Transactions"]})]})]}),(0,Wa.jsxs)("div",{style:{background:"white",padding:"0.4rem",borderRadius:"6px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e9ecef"},children:[(0,Wa.jsxs)("h3",{style:{margin:"0 0 0.3rem 0",fontSize:"0.55rem",color:"#495057",display:"flex",alignItems:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-history",style:{marginRight:"0.15rem",color:"#6f42c1",fontSize:"0.6rem"}}),"Recent Transactions"]}),(0,Wa.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.2rem"},children:(n.recentTransactions||[]).map(e=>(0,Wa.jsxs)("div",{style:{padding:"0.4rem",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef",transition:"all 0.3s ease"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.2rem"},children:[(0,Wa.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.1rem"},children:[(0,Wa.jsxs)("span",{style:{fontSize:"0.5rem",color:"#6c757d",fontFamily:"monospace"},children:["ID: ",e._id?e._id.substring(0,8)+"...":"N/A"]}),(0,Wa.jsx)("span",{style:{fontSize:"0.6rem",fontWeight:"600",color:"#495057"},children:e.userName})]}),(0,Wa.jsx)("span",{style:{display:"inline-block",padding:"0.1rem 0.3rem",borderRadius:"8px",fontSize:"0.5rem",fontWeight:"600",color:"white",background:{completed:"#28a745",pending:"#ffc107",failed:"#dc3545",awaiting_approval:"#fd7e14",approved:"#20c997",rejected:"#6f42c1"}[e.status]||"#6c757d",textTransform:"capitalize"},children:e.status.replace("_"," ")})]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.3rem",fontSize:"0.55rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("span",{style:{color:"#6c757d",display:"block",marginBottom:"0.05rem"},children:"Type"}),(0,Wa.jsx)("span",{style:{color:"#495057",fontWeight:"500",textTransform:"capitalize"},children:e.type.replace("-"," ")})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("span",{style:{color:"#6c757d",display:"block",marginBottom:"0.1rem"},children:"Amount"}),(0,Wa.jsxs)("span",{style:{color:"#007bff",fontWeight:"700",fontSize:"0.65rem"},children:["\u20b9",e.amount]})]}),(0,Wa.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,Wa.jsx)("span",{style:{color:"#6c757d",display:"block",marginBottom:"0.1rem"},children:"Date"}),(0,Wa.jsx)("span",{style:{color:"#495057",fontSize:"0.5rem"},children:e.createdAt?new Date(e.createdAt).toLocaleString():"N/A"})]})]})]},e._id))}),(0,Wa.jsx)("div",{style:{marginTop:"0.3rem",textAlign:"center"},children:(0,Wa.jsxs)("button",{onClick:()=>t("/admin/transactions"),style:{background:"linear-gradient(135deg, #6c757d 0%, #495057 100%)",color:"white",border:"none",padding:"0.3rem 1rem",borderRadius:"4px",fontSize:"0.6rem",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 6px rgba(108,117,125,0.3)"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 12px rgba(108,117,125,0.4)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 8px rgba(108,117,125,0.3)"},children:[(0,Wa.jsx)("i",{className:"fas fa-list",style:{marginRight:"0.5rem"}}),"View All Transactions"]})})]})]})]}):(0,Wa.jsx)("div",{className:"loading",children:"Loading dashboard data..."})},Gc=()=>{const{currentUser:e}=qa(),t=ee(),{success:n,error:a}=Ns(),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(""),[j,N]=(0,r.useState)(""),[w,S]=(0,r.useState)("");(0,r.useEffect)(()=>{if("admin"!==(null===e||void 0===e?void 0:e.role))return void t("/dashboard");(async()=>{try{l(!0);const e=await Ua.get("/admin/transactions/pending");i(e.data.data.transactions),l(!1)}catch(im){d("Failed to load pending transactions"),a("Failed to load pending transactions"),l(!1),console.error("Error fetching pending transactions:",im)}})()},[e,t]);const k=()=>{p(!1),g(!1),v(null),b(""),N(""),S("")};return o?(0,Wa.jsx)("div",{className:"loading",children:"Loading pending transactions..."}):c?(0,Wa.jsx)("div",{className:"error-message",children:c}):(0,Wa.jsxs)("div",{className:"pending-transactions",children:[(0,Wa.jsxs)("div",{className:"page-header",children:[(0,Wa.jsx)("h1",{children:"Pending Transactions"}),(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>t("/admin/dashboard"),children:"Back to Dashboard"})]}),0===s.length?(0,Wa.jsx)("div",{className:"no-transactions",children:(0,Wa.jsx)("p",{children:"No pending transactions found."})}):(0,Wa.jsx)("div",{className:"transactions-list",children:s.map(e=>{var t,n,a,r,s,i,o,l,c;return(0,Wa.jsxs)("div",{className:"transaction-card",children:[(0,Wa.jsxs)("div",{className:"transaction-header",children:[(0,Wa.jsxs)("h3",{children:["Transaction #",e._id?e._id.substring(0,8):"N/A"]}),(0,Wa.jsx)("span",{className:"transaction-date",children:new Date(e.createdAt).toLocaleString()})]}),(0,Wa.jsxs)("div",{className:"transaction-details",children:[(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"User:"}),(0,Wa.jsx)("span",{className:"detail-value",children:(null===(t=e.wallet)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Email:"}),(0,Wa.jsx)("span",{className:"detail-value",children:(null===(a=e.wallet)||void 0===a||null===(r=a.user)||void 0===r?void 0:r.email)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Phone:"}),(0,Wa.jsx)("span",{className:"detail-value",children:(null===(s=e.wallet)||void 0===s||null===(i=s.user)||void 0===i?void 0:i.phone)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Amount:"}),(0,Wa.jsxs)("span",{className:"detail-value amount",children:["\u20b9",e.amount]})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Type:"}),(0,Wa.jsx)("span",{className:"detail-value",children:e.type})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Description:"}),(0,Wa.jsx)("span",{className:"detail-value",children:e.description})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Payment Method:"}),(0,Wa.jsxs)("span",{className:"detail-value",children:[(null===(o=e.metadata)||void 0===o?void 0:o.paymentMethod)||"N/A",(null===(l=e.metadata)||void 0===l?void 0:l.cardLast4)&&" (**** **** **** ".concat(e.metadata.cardLast4,")"),(null===(c=e.metadata)||void 0===c?void 0:c.bankReference)&&" (Ref: ".concat(e.metadata.bankReference,")")]})]}),(0,Wa.jsxs)("div",{className:"detail-row",children:[(0,Wa.jsx)("span",{className:"detail-label",children:"Reference:"}),(0,Wa.jsx)("span",{className:"detail-value",children:e.reference})]})]}),(0,Wa.jsxs)("div",{className:"transaction-actions",children:[(0,Wa.jsx)("button",{className:"btn btn-success",onClick:()=>(e=>{v(e),b(""),S(""),p(!0)})(e),disabled:u===e._id,children:u===e._id?"Processing...":"Approve"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:()=>(e=>{v(e),N(""),S(""),g(!0)})(e),disabled:u===e._id,children:u===e._id?"Processing...":"Reject"})]})]},e._id)})}),h&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Approve Transaction"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:k,children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"transactionId",children:"Transaction ID (Optional)"}),(0,Wa.jsx)("input",{type:"text",id:"transactionId",value:y,onChange:e=>b(e.target.value),placeholder:"Enter transaction ID from payment gateway"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"approvalNotes",children:"Notes (Optional)"}),(0,Wa.jsx)("textarea",{id:"approvalNotes",value:w,onChange:e=>S(e.target.value),placeholder:"Add any notes about this approval",rows:"3"})]})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:k,children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-success",onClick:async()=>{if(x)try{m(x._id);const e=Se({status:"approved",notes:w},y&&{transactionId:y});await Ua.patch("/admin/transactions/".concat(x._id),e),i(s.filter(e=>e._id!==x._id)),n("Transaction approved successfully"),k(),m(null)}catch(im){a("Failed to approve transaction"),m(null),console.error("Error approving transaction:",im)}},disabled:u===(null===x||void 0===x?void 0:x._id),children:u===(null===x||void 0===x?void 0:x._id)?"Processing...":"Approve Transaction"})]})]})}),f&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Reject Transaction"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:k,children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"failureReason",children:"Failure Reason"}),(0,Wa.jsx)("input",{type:"text",id:"failureReason",value:j,onChange:e=>N(e.target.value),placeholder:"Enter reason for rejection",required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"rejectionNotes",children:"Additional Notes (Optional)"}),(0,Wa.jsx)("textarea",{id:"rejectionNotes",value:w,onChange:e=>S(e.target.value),placeholder:"Add any additional notes",rows:"3"})]})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:k,children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(x)try{m(x._id);const e=Se({status:"rejected",notes:w},j&&{failureReason:j});await Ua.patch("/admin/transactions/".concat(x._id),e),i(s.filter(e=>e._id!==x._id)),n("Transaction rejected successfully"),k(),m(null)}catch(im){a("Failed to reject transaction"),m(null),console.error("Error rejecting transaction:",im)}},disabled:u===(null===x||void 0===x?void 0:x._id)||!j.trim(),children:u===(null===x||void 0===x?void 0:x._id)?"Processing...":"Reject Transaction"})]})]})})]})},Yc=()=>{const{currentUser:e}=qa(),t=ee(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)({page:1,pages:1,total:0,results:0}),[f,g]=(0,r.useState)({type:"",status:"",startDate:"",endDate:"",minAmount:"",maxAmount:"",userId:"",userName:"",userEmail:"",operator:"",apiProvider:"",page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"});(0,r.useEffect)(()=>{"admin"===(null===e||void 0===e?void 0:e.role)?x():t("/dashboard")},[e,t]);const x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.page;try{i(!0);const t=new URLSearchParams,n=Se(Se({},f),{},{page:e});Object.entries(n).forEach(e=>{let[n,a]=e;a&&t.append(n,a)});const r=await Ua.get("/admin/transactions?".concat(t.toString()));a(r.data.data.transactions),p({page:r.data.page,pages:r.data.pages,total:r.data.total,results:r.data.results}),d([]),i(!1)}catch(im){l("Failed to load transactions"),i(!1),console.error("Error fetching transactions:",im)}},v=e=>{const{name:t,value:n}=e.target;g(e=>Se(Se({},e),{},{[t]:n}))},y=e=>{g(t=>Se(Se({},t),{},{page:e})),x(e)},b=async e=>{const t=prompt("Enter approval notes (optional):");if(null!==t)try{await Ua.patch("/admin/transactions/".concat(e),{status:"approved",notes:t}),it.success("Transaction approved successfully"),x()}catch(im){var n,a;it.error((null===(n=im.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to approve transaction")}},j=async e=>{const t=prompt("Enter rejection reason:");if(t)try{await Ua.patch("/admin/transactions/".concat(e),{status:"rejected",failureReason:t}),it.success("Transaction rejected successfully"),x()}catch(im){var n,a;it.error((null===(n=im.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to reject transaction")}else it.warning("Rejection reason is required")},N=e=>{switch(e){case"completed":return"status-completed";case"awaiting_approval":return"status-pending";case"approved":return"status-approved";case"rejected":return"status-rejected";case"failed":return"status-failed";default:return""}};return s?(0,Wa.jsx)("div",{className:"loading",children:"Loading transactions..."}):o?(0,Wa.jsx)("div",{className:"error-message",children:o}):(0,Wa.jsxs)("div",{className:"all-transactions",children:[(0,Wa.jsxs)("div",{className:"page-header",children:[(0,Wa.jsx)("h1",{children:"All Transactions"}),(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>t("/admin/dashboard"),children:"Back to Dashboard"})]}),(0,Wa.jsxs)("div",{className:"filters-section",children:[(0,Wa.jsx)("h3",{children:"Filter Transactions"}),(0,Wa.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x()},className:"filters-form",children:[(0,Wa.jsxs)("div",{className:"filters-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"type",children:"Type"}),(0,Wa.jsxs)("select",{id:"type",name:"type",value:f.type,onChange:v,children:[(0,Wa.jsx)("option",{value:"",children:"All Types"}),(0,Wa.jsx)("option",{value:"topup",children:"Top-up"}),(0,Wa.jsx)("option",{value:"mobile-recharge",children:"Mobile Recharge"}),(0,Wa.jsx)("option",{value:"dth-recharge",children:"DTH Recharge"}),(0,Wa.jsx)("option",{value:"bill-payment",children:"Bill Payment"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"status",children:"Status"}),(0,Wa.jsxs)("select",{id:"status",name:"status",value:f.status,onChange:v,children:[(0,Wa.jsx)("option",{value:"",children:"All Statuses"}),(0,Wa.jsx)("option",{value:"completed",children:"Completed"}),(0,Wa.jsx)("option",{value:"awaiting_approval",children:"Awaiting Approval"}),(0,Wa.jsx)("option",{value:"approved",children:"Approved"}),(0,Wa.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Wa.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"operator",children:"Operator"}),(0,Wa.jsxs)("select",{id:"operator",name:"operator",value:f.operator,onChange:v,children:[(0,Wa.jsx)("option",{value:"",children:"All Operators"}),(0,Wa.jsx)("option",{value:"airtel",children:"Airtel"}),(0,Wa.jsx)("option",{value:"jio",children:"Jio"}),(0,Wa.jsx)("option",{value:"vi",children:"Vi"}),(0,Wa.jsx)("option",{value:"bsnl",children:"BSNL"}),(0,Wa.jsx)("option",{value:"tata-sky",children:"Tata Sky"}),(0,Wa.jsx)("option",{value:"dish-tv",children:"Dish TV"}),(0,Wa.jsx)("option",{value:"sun-direct",children:"Sun Direct"}),(0,Wa.jsx)("option",{value:"videocon",children:"Videocon"})]})]})]}),(0,Wa.jsxs)("div",{className:"filters-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"userName",children:"User Name"}),(0,Wa.jsx)("input",{type:"text",id:"userName",name:"userName",value:f.userName,onChange:v,placeholder:"Search by user name"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"userEmail",children:"User Email"}),(0,Wa.jsx)("input",{type:"email",id:"userEmail",name:"userEmail",value:f.userEmail,onChange:v,placeholder:"Search by user email"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"apiProvider",children:"API Provider"}),(0,Wa.jsxs)("select",{id:"apiProvider",name:"apiProvider",value:f.apiProvider,onChange:v,children:[(0,Wa.jsx)("option",{value:"",children:"All Providers"}),(0,Wa.jsx)("option",{value:"primary",children:"Primary"}),(0,Wa.jsx)("option",{value:"secondary",children:"Secondary"}),(0,Wa.jsx)("option",{value:"manual",children:"Manual"})]})]})]}),(0,Wa.jsxs)("div",{className:"filters-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),(0,Wa.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:f.startDate,onChange:v})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"endDate",children:"End Date"}),(0,Wa.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:f.endDate,onChange:v})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"limit",children:"Results per page"}),(0,Wa.jsxs)("select",{id:"limit",name:"limit",value:f.limit,onChange:v,children:[(0,Wa.jsx)("option",{value:"10",children:"10"}),(0,Wa.jsx)("option",{value:"20",children:"20"}),(0,Wa.jsx)("option",{value:"50",children:"50"}),(0,Wa.jsx)("option",{value:"100",children:"100"})]})]})]}),(0,Wa.jsxs)("div",{className:"filters-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"minAmount",children:"Min Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"minAmount",name:"minAmount",value:f.minAmount,onChange:v,min:"0"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"maxAmount",children:"Max Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",id:"maxAmount",name:"maxAmount",value:f.maxAmount,onChange:v,min:"0"})]})]}),(0,Wa.jsxs)("div",{className:"filters-actions",children:[(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Apply Filters"}),(0,Wa.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{g({type:"",status:"",startDate:"",endDate:"",minAmount:"",maxAmount:"",userId:"",userName:"",userEmail:"",operator:"",apiProvider:"",page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"}),x(1)},children:"Clear Filters"})]})]})]}),c.length>0&&(0,Wa.jsxs)("div",{className:"bulk-actions",children:[(0,Wa.jsx)("div",{className:"bulk-info",children:(0,Wa.jsxs)("span",{children:[c.length," transaction(s) selected"]})}),(0,Wa.jsxs)("div",{className:"bulk-buttons",children:[(0,Wa.jsx)("button",{className:"btn btn-success",onClick:async()=>{if(0===c.length)return void it.warning("Please select transactions to approve");const e=prompt("Enter approval notes (optional):");if(null!==e)try{m(!0);const t=await Ua.patch("/admin/transactions/bulk-approve",{transactionIds:c,notes:e});it.success(t.data.message),x()}catch(im){var t,n;it.error((null===(t=im.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to approve transactions"),console.error("Bulk approve error:",im)}finally{m(!1)}},disabled:u,children:u?"Processing...":"Bulk Approve"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(0===c.length)return void it.warning("Please select transactions to reject");const e=prompt("Enter rejection reason:");if(e)try{m(!0);const t=await Ua.patch("/admin/transactions/bulk-reject",{transactionIds:c,failureReason:e});it.success(t.data.message),x()}catch(im){var t,n;it.error((null===(t=im.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to reject transactions"),console.error("Bulk reject error:",im)}finally{m(!1)}else it.warning("Rejection reason is required")},disabled:u,children:u?"Processing...":"Bulk Reject"}),(0,Wa.jsx)("button",{className:"btn btn-warning",onClick:async()=>{if(0===c.length)return void it.warning("Please select transactions to change status");const e=prompt("Enter notes for bulk status change (optional):");if(null!==e)try{m(!0);const t=c.map(t=>Ua.patch("/admin/transactions/".concat(t),{status:"awaiting_approval",notes:e}));await Promise.all(t),it.success("".concat(c.length," transactions changed to awaiting approval")),x()}catch(im){var t,n;it.error((null===(t=im.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to change transaction statuses")}finally{m(!1)}},disabled:u,children:u?"Processing...":"Change to Awaiting"})]})]}),0===n.length?(0,Wa.jsx)("div",{className:"no-transactions",children:(0,Wa.jsx)("p",{children:"No transactions found matching the selected filters."})}):(0,Wa.jsxs)("div",{className:"transactions-table-container",children:[(0,Wa.jsx)("div",{className:"table-header",children:(0,Wa.jsx)("div",{className:"table-info",children:(0,Wa.jsxs)("span",{children:["Showing ",h.results," of ",h.total," transactions"]})})}),(0,Wa.jsxs)("table",{className:"transactions-table",children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:(0,Wa.jsx)("input",{type:"checkbox",checked:c.length===n.length&&n.length>0,onChange:()=>{c.length===n.length?d([]):d(n.map(e=>e._id))}})}),(0,Wa.jsx)("th",{children:"ID"}),(0,Wa.jsx)("th",{children:"User"}),(0,Wa.jsx)("th",{children:"Type"}),(0,Wa.jsx)("th",{children:"Operator"}),(0,Wa.jsx)("th",{children:"Amount"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Date"}),(0,Wa.jsx)("th",{children:"Reference"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:n.map(e=>{var t,n,a,r;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsx)("input",{type:"checkbox",checked:c.includes(e._id),onChange:()=>{return t=e._id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})}),(0,Wa.jsx)("td",{children:e._id?e._id.substring(0,8)+"...":"N/A"}),(0,Wa.jsxs)("td",{children:[(null===(t=e.wallet)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.name)||"N/A",(0,Wa.jsx)("br",{}),(0,Wa.jsx)("small",{children:(null===(a=e.wallet)||void 0===a||null===(r=a.user)||void 0===r?void 0:r.email)||"N/A"})]}),(0,Wa.jsx)("td",{children:e.type}),(0,Wa.jsx)("td",{children:e.operator||"N/A"}),(0,Wa.jsxs)("td",{className:"amount",children:["\u20b9",e.amount]}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"status-badge ".concat(N(e.status)),children:e.status})}),(0,Wa.jsx)("td",{children:new Date(e.createdAt).toLocaleString()}),(0,Wa.jsx)("td",{children:e.reference||"N/A"}),(0,Wa.jsxs)("td",{className:"actions",children:["awaiting_approval"===e.status&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>b(e._id),title:"Approve",children:"\u2713"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>j(e._id),title:"Reject",children:"\u2717"})]}),"awaiting_approval"!==e.status&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-warning",onClick:()=>(async e=>{const t=prompt("Enter notes for status change (optional):");if(null!==t)try{await Ua.patch("/admin/transactions/".concat(e),{status:"awaiting_approval",notes:t}),it.success("Transaction status changed to awaiting approval"),x()}catch(im){var n,a;it.error((null===(n=im.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Failed to change transaction status")}})(e._id),title:"Change to Awaiting Approval",children:"\u23f3"}),("approved"===e.status||"rejected"===e.status)&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>b(e._id),title:"Approve",children:"\u2713"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>j(e._id),title:"Reject",children:"\u2717"})]})]})]})]},e._id)})})]}),h.pages>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>y(h.page-1),disabled:1===h.page,children:"Previous"}),(0,Wa.jsxs)("span",{className:"page-info",children:["Page ",h.page," of ",h.pages]}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>y(h.page+1),disabled:h.page===h.pages,children:"Next"})]})]})]})},Jc=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(null),[f,g]=(0,r.useState)({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:"",description:""}),x=[{value:"mobile-recharge",label:"Mobile Recharge"},{value:"dth-recharge",label:"DTH Recharge"},{value:"bill-payment",label:"Bill Payment"}];(0,r.useEffect)(()=>{v(),y()},[]);const v=async()=>{try{const e=localStorage.getItem("token"),n=await fetch("/api/commissions",{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){const e=await n.json();t(e.data.commissions)}else i("Failed to fetch commissions")}catch(im){i("Error fetching commissions")}finally{a(!1)}},y=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/commissions/operators",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();m(e.data.operators)}}catch(im){console.error("Error fetching operators:",im)}},b=e=>{const{name:t,value:n}=e.target;g(e=>Se(Se({},e),{},{[t]:n}))},j=()=>{g({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:"",description:""}),d(null),p(null)};return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading commissions..."}):(0,Wa.jsxs)("div",{className:"commission-management",children:[(0,Wa.jsxs)("div",{className:"commission-header",children:[(0,Wa.jsx)("h2",{children:"Commission Management"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>{j(),l(!0)},children:"Add New Commission"})]}),s&&(0,Wa.jsx)("div",{className:"error-message",children:s}),(0,Wa.jsxs)("div",{className:"commission-table-container",children:[(0,Wa.jsxs)("table",{className:"commission-table",children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Operator"}),(0,Wa.jsx)("th",{children:"Transaction Type"}),(0,Wa.jsx)("th",{children:"Commission Type"}),(0,Wa.jsx)("th",{children:"Value"}),(0,Wa.jsx)("th",{children:"Min/Max"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:e.map(e=>{var t;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:e.operator}),(0,Wa.jsx)("td",{className:"transaction-type",children:null===(t=x.find(t=>t.value===e.transactionType))||void 0===t?void 0:t.label}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"commission-type ".concat(e.commissionType),children:"percentage"===e.commissionType?"Percentage":"Fixed"})}),(0,Wa.jsx)("td",{children:"percentage"===e.commissionType?"".concat(e.commissionValue,"%"):"\u20b9".concat(e.commissionValue)}),(0,Wa.jsxs)("td",{children:["Min: \u20b9",e.minCommission,(0,Wa.jsx)("br",{}),"Max: ",e.maxCommission?"\u20b9".concat(e.maxCommission):"No limit"]}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"status ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"action-buttons",children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>(e=>{d(e),g({operator:e.operator,transactionType:e.transactionType,commissionType:e.commissionType,commissionValue:e.commissionValue.toString(),minCommission:e.minCommission.toString(),maxCommission:e.maxCommission?e.maxCommission.toString():"",description:e.description||""}),l(!0)})(e),children:"Edit"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-warning",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");(await fetch("/api/commissions/".concat(e,"/toggle-status"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}})).ok?await v():i("Failed to toggle commission status")}catch(im){i("Error toggling commission status")}})(e._id),children:e.isActive?"Deactivate":"Activate"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this commission structure?"))try{const t=localStorage.getItem("token");(await fetch("/api/commissions/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}})).ok?await v():i("Failed to delete commission")}catch(im){i("Error deleting commission")}})(e._id),children:"Delete"})]})})]},e._id)})})]}),0===e.length&&(0,Wa.jsx)("div",{className:"no-data",children:"No commission structures found. Add one to get started."})]}),o&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:c?"Edit Commission":"Add New Commission"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{l(!1),j()},children:"\xd7"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i("");try{const e=localStorage.getItem("token"),t=c?"/api/commissions/".concat(c._id):"/api/commissions",n=c?"PATCH":"POST",a=await fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(Se(Se({},f),{},{commissionValue:parseFloat(f.commissionValue),minCommission:f.minCommission?parseFloat(f.minCommission):0,maxCommission:f.maxCommission?parseFloat(f.maxCommission):null}))});if(a.ok)await v(),j(),l(!1);else{const e=await a.json();i(e.message||"Failed to save commission")}}catch(im){i("Error saving commission")}},className:"commission-form",children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Operator *"}),(0,Wa.jsx)("input",{type:"text",name:"operator",value:f.operator,onChange:b,required:!0,placeholder:"e.g., Airtel, Jio, Vodafone"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Transaction Type *"}),(0,Wa.jsx)("select",{name:"transactionType",value:f.transactionType,onChange:b,required:!0,children:x.map(e=>(0,Wa.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Commission Type *"}),(0,Wa.jsxs)("select",{name:"commissionType",value:f.commissionType,onChange:b,required:!0,children:[(0,Wa.jsx)("option",{value:"percentage",children:"Percentage"}),(0,Wa.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsxs)("label",{children:["Commission Value *","percentage"===f.commissionType?"(%)":"(\u20b9)"]}),(0,Wa.jsx)("input",{type:"number",name:"commissionValue",value:f.commissionValue,onChange:b,required:!0,min:"0",step:"0.01",placeholder:"percentage"===f.commissionType?"2.5":"10"})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Minimum Commission (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"minCommission",value:f.minCommission,onChange:b,min:"0",step:"0.01",placeholder:"0"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Maximum Commission (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"maxCommission",value:f.maxCommission,onChange:b,min:"0",step:"0.01",placeholder:"Leave empty for no limit"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Description"}),(0,Wa.jsx)("textarea",{name:"description",value:f.description,onChange:b,rows:"3",placeholder:"Optional description for this commission structure"})]}),h&&(0,Wa.jsxs)("div",{className:"commission-preview",children:[(0,Wa.jsx)("h4",{children:"Preview (for \u20b91000 transaction):"}),(0,Wa.jsxs)("p",{children:["Commission: \u20b9",h.commissionAmount]})]}),(0,Wa.jsxs)("div",{className:"form-actions",children:[(0,Wa.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{l(!1),j()},children:"Cancel"}),(0,Wa.jsx)("button",{type:"button",className:"btn btn-info",onClick:async()=>{if(f.operator&&f.transactionType&&f.commissionValue)try{const e=localStorage.getItem("token"),t=1e3,n=await fetch("/api/commissions/preview?operator=".concat(f.operator,"&transactionType=").concat(f.transactionType,"&amount=").concat(t),{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){const e=await n.json();p(e.data)}}catch(im){console.error("Error getting preview:",im)}},children:"Preview"}),(0,Wa.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[c?"Update":"Create"," Commission"]})]})]})]})})]})},Xc=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)({schemeName:"",description:"",commissions:[],isDefault:!1}),[u,m]=(0,r.useState)({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:""});(0,r.useEffect)(()=>{h()},[]);const h=async()=>{try{const e=localStorage.getItem("token"),n=await fetch("/api/commission-schemes",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();t(e.data.schemes)}else console.error("Failed to fetch commission schemes")}catch(e){console.error("Error fetching commission schemes:",e)}finally{a(!1)}},p=()=>{d({schemeName:"",description:"",commissions:[],isDefault:!1}),m({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:""}),l(null)};return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading commission schemes..."}):(0,Wa.jsxs)("div",{className:"commission-schemes",children:[(0,Wa.jsxs)("div",{className:"commission-schemes-header",children:[(0,Wa.jsx)("h2",{children:"Commission Schemes"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>{p(),i(!0)},children:"Create New Scheme"})]}),(0,Wa.jsx)("div",{className:"schemes-grid",children:e.map(e=>(0,Wa.jsxs)("div",{className:"scheme-card ".concat(e.isDefault?"default-scheme":""),children:[(0,Wa.jsxs)("div",{className:"scheme-header",children:[(0,Wa.jsx)("h3",{children:e.schemeName}),e.isDefault&&(0,Wa.jsx)("span",{className:"default-badge",children:"Default"})]}),(0,Wa.jsx)("p",{className:"scheme-description",children:e.description||"No description"}),(0,Wa.jsxs)("div",{className:"scheme-stats",children:[(0,Wa.jsxs)("span",{children:[e.commissions.length," commission rules"]}),(0,Wa.jsx)("span",{className:"status ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})]}),(0,Wa.jsxs)("div",{className:"commission-rules",children:[e.commissions.slice(0,3).map((e,t)=>(0,Wa.jsxs)("div",{className:"commission-rule-preview",children:[(0,Wa.jsx)("span",{className:"operator",children:e.operator}),(0,Wa.jsx)("span",{className:"type",children:e.transactionType}),(0,Wa.jsx)("span",{className:"value",children:"percentage"===e.commissionType?"".concat(e.commissionValue,"%"):"\u20b9".concat(e.commissionValue)})]},t)),e.commissions.length>3&&(0,Wa.jsxs)("div",{className:"more-rules",children:["+",e.commissions.length-3," more"]})]}),(0,Wa.jsxs)("div",{className:"scheme-actions",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>(e=>{l(e),d({schemeName:e.schemeName,description:e.description||"",commissions:[...e.commissions],isDefault:e.isDefault}),i(!0)})(e),children:"Edit"}),!e.isDefault&&(0,Wa.jsx)("button",{className:"btn btn-outline",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/api/commission-schemes/".concat(e,"/set-default"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}});if(n.ok)await h(),alert("Default scheme updated successfully!");else{const e=await n.json();alert("Error: ".concat(e.message))}}catch(t){console.error("Error setting default scheme:",t),alert("Error setting default scheme")}})(e._id),children:"Set Default"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this commission scheme?"))try{const t=localStorage.getItem("token"),n=await fetch("/api/commission-schemes/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(n.ok)await h(),alert("Scheme deleted successfully!");else{const e=await n.json();alert("Error: ".concat(e.message))}}catch(t){console.error("Error deleting scheme:",t),alert("Error deleting scheme")}})(e._id),children:"Delete"})]})]},e._id))}),s&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:o?"Edit Commission Scheme":"Create Commission Scheme"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{i(!1),p()},children:"\xd7"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==c.commissions.length)try{const e=localStorage.getItem("token"),t=o?"/api/commission-schemes/".concat(o._id):"/api/commission-schemes",n=o?"PATCH":"POST",a=await fetch(t,{method:n,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(c)});if(a.ok)await h(),p(),i(!1),alert(o?"Scheme updated successfully!":"Scheme created successfully!");else{const e=await a.json();alert("Error: ".concat(e.message))}}catch(t){console.error("Error saving scheme:",t),alert("Error saving scheme")}else alert("Please add at least one commission rule")},className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Scheme Name *"}),(0,Wa.jsx)("input",{type:"text",value:c.schemeName,onChange:e=>d(Se(Se({},c),{},{schemeName:e.target.value})),required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Description"}),(0,Wa.jsx)("textarea",{value:c.description,onChange:e=>d(Se(Se({},c),{},{description:e.target.value})),rows:"3"})]}),(0,Wa.jsx)("div",{className:"form-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",checked:c.isDefault,onChange:e=>d(Se(Se({},c),{},{isDefault:e.target.checked}))}),"Set as default scheme"]})}),(0,Wa.jsxs)("div",{className:"commission-rules-section",children:[(0,Wa.jsx)("h4",{children:"Commission Rules"}),(0,Wa.jsx)("div",{className:"add-commission-form",children:(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("select",{value:u.operator,onChange:e=>m(Se(Se({},u),{},{operator:e.target.value})),children:[(0,Wa.jsx)("option",{value:"",children:"Select Operator"}),["Airtel","Jio","Vi","BSNL","Tata Sky","Dish TV","Sun Direct","Videocon D2H"].map(e=>(0,Wa.jsx)("option",{value:e,children:e},e))]}),(0,Wa.jsx)("select",{value:u.transactionType,onChange:e=>m(Se(Se({},u),{},{transactionType:e.target.value})),children:[{value:"mobile-recharge",label:"Mobile Recharge"},{value:"dth-recharge",label:"DTH Recharge"},{value:"bill-payment",label:"Bill Payment"}].map(e=>(0,Wa.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Wa.jsxs)("select",{value:u.commissionType,onChange:e=>m(Se(Se({},u),{},{commissionType:e.target.value})),children:[(0,Wa.jsx)("option",{value:"percentage",children:"Percentage"}),(0,Wa.jsx)("option",{value:"fixed",children:"Fixed Amount"})]}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"percentage"===u.commissionType?"Rate %":"Amount \u20b9",value:u.commissionValue,onChange:e=>m(Se(Se({},u),{},{commissionValue:e.target.value}))}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"Min \u20b9",value:u.minCommission,onChange:e=>m(Se(Se({},u),{},{minCommission:e.target.value}))}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"Max \u20b9",value:u.maxCommission,onChange:e=>m(Se(Se({},u),{},{maxCommission:e.target.value}))}),(0,Wa.jsx)("button",{type:"button",onClick:()=>{if(!u.operator||!u.commissionValue)return void alert("Please fill in operator and commission value");if(c.commissions.find(e=>e.operator===u.operator&&e.transactionType===u.transactionType))return void alert("Commission rule for this operator and transaction type already exists");const e=Se(Se({},u),{},{commissionValue:parseFloat(u.commissionValue),minCommission:u.minCommission?parseFloat(u.minCommission):0,maxCommission:u.maxCommission?parseFloat(u.maxCommission):null});d(Se(Se({},c),{},{commissions:[...c.commissions,e]})),m({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:""})},className:"btn btn-primary",children:"Add"})]})}),(0,Wa.jsx)("div",{className:"commission-rules-list",children:c.commissions.map((e,t)=>(0,Wa.jsxs)("div",{className:"commission-rule",children:[(0,Wa.jsx)("span",{children:e.operator}),(0,Wa.jsx)("span",{children:e.transactionType}),(0,Wa.jsx)("span",{children:"percentage"===e.commissionType?"".concat(e.commissionValue,"%"):"\u20b9".concat(e.commissionValue)}),(0,Wa.jsxs)("span",{children:["Min: \u20b9",e.minCommission]}),(0,Wa.jsxs)("span",{children:["Max: ",e.maxCommission?"\u20b9".concat(e.maxCommission):"None"]}),(0,Wa.jsx)("button",{type:"button",onClick:()=>(e=>{const t=c.commissions.filter((t,n)=>n!==e);d(Se(Se({},c),{},{commissions:t}))})(t),className:"btn btn-danger btn-sm",children:"Remove"})]},t))})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{i(!1),p()},children:"Cancel"}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?"Update Scheme":"Create Scheme"})]})]})]})})]})},Zc=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[x,v]=(0,r.useState)({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:"",description:""});(0,r.useEffect)(()=>{y(),b()},[]);const y=async()=>{try{const e=localStorage.getItem("token"),n=await fetch("/admin/users",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();t(e.data.users||e.users||[])}else console.error("Failed to fetch users")}catch(e){console.error("Error fetching users:",e)}finally{d(!1)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("/api/commission-schemes",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();a(e.data.schemes||[])}else console.error("Failed to fetch commission schemes")}catch(e){console.error("Error fetching commission schemes:",e)}},j=async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/api/commission-schemes/users/".concat(e,"/commissions"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();l(e.data.commissions||[])}else console.error("Failed to fetch user commissions"),l([])}catch(t){console.error("Error fetching user commissions:",t),l([])}},N=()=>{v({operator:"",transactionType:"mobile-recharge",commissionType:"percentage",commissionValue:"",minCommission:"",maxCommission:"",description:""})};return c?(0,Wa.jsx)("div",{className:"loading",children:"Loading users..."}):(0,Wa.jsxs)("div",{className:"user-commissions",children:[(0,Wa.jsx)("div",{className:"user-commissions-header",children:(0,Wa.jsx)("h2",{children:"User Commission Management"})}),(0,Wa.jsxs)("div",{className:"user-commissions-content",children:[(0,Wa.jsxs)("div",{className:"users-sidebar",children:[(0,Wa.jsx)("h3",{children:"Users"}),(0,Wa.jsx)("div",{className:"users-list",children:e.map(e=>(0,Wa.jsx)("div",{className:"user-item ".concat((null===s||void 0===s?void 0:s._id)===e._id?"selected":""),onClick:()=>(e=>{i(e),j(e._id)})(e),children:(0,Wa.jsxs)("div",{className:"user-info",children:[(0,Wa.jsx)("div",{className:"user-name",children:e.name||e.username}),(0,Wa.jsx)("div",{className:"user-email",children:e.email}),(0,Wa.jsx)("div",{className:"user-role",children:e.role})]})},e._id))})]}),(0,Wa.jsx)("div",{className:"commissions-main",children:s?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"user-header",children:[(0,Wa.jsxs)("div",{className:"user-details",children:[(0,Wa.jsx)("h3",{children:s.name||s.username}),(0,Wa.jsxs)("p",{children:[s.email," \u2022 ",s.role]})]}),(0,Wa.jsxs)("div",{className:"user-actions",children:[(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"Assign Scheme"}),(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>p(!0),children:"Add Custom Commission"})]})]}),(0,Wa.jsxs)("div",{className:"commissions-section",children:[(0,Wa.jsxs)("h4",{children:["Current Commissions (",o.length,")"]}),0===o.length?(0,Wa.jsx)("div",{className:"no-commissions",children:(0,Wa.jsx)("p",{children:"No custom commissions assigned. User will use default commission scheme."})}):(0,Wa.jsx)("div",{className:"commissions-grid",children:o.map(e=>(0,Wa.jsxs)("div",{className:"commission-card",children:[(0,Wa.jsxs)("div",{className:"commission-header",children:[(0,Wa.jsx)("div",{className:"operator",children:e.operator}),(0,Wa.jsx)("div",{className:"transaction-type",children:e.transactionType}),e.isCustom&&(0,Wa.jsx)("span",{className:"custom-badge",children:"Custom"}),e.schemeId&&(0,Wa.jsx)("span",{className:"scheme-badge",children:"Scheme"})]}),(0,Wa.jsxs)("div",{className:"commission-details",children:[(0,Wa.jsx)("div",{className:"commission-value",children:"percentage"===e.commissionType?"".concat(e.commissionValue,"%"):"\u20b9".concat(e.commissionValue)}),(0,Wa.jsxs)("div",{className:"commission-limits",children:[(0,Wa.jsxs)("span",{children:["Min: \u20b9",e.minCommission]}),(0,Wa.jsxs)("span",{children:["Max: ",e.maxCommission?"\u20b9".concat(e.maxCommission):"None"]})]})]}),e.description&&(0,Wa.jsx)("div",{className:"commission-description",children:e.description}),(0,Wa.jsx)("div",{className:"commission-actions",children:(0,Wa.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this commission?"))try{const t=localStorage.getItem("token"),n=await fetch("/api/commission-schemes/users/".concat(s._id,"/commissions/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}});if(n.ok)await j(s._id),alert("Commission removed successfully!");else{const e=await n.json();alert("Error: ".concat(e.message))}}catch(t){console.error("Error removing commission:",t),alert("Error removing commission")}})(e._id),children:"Remove"})})]},e._id))})]})]}):(0,Wa.jsxs)("div",{className:"no-user-selected",children:[(0,Wa.jsx)("h3",{children:"Select a user to manage their commissions"}),(0,Wa.jsx)("p",{children:"Choose a user from the sidebar to view and manage their commission settings."})]})})]}),u&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Assign Commission Scheme"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),g("")},children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Select Commission Scheme"}),(0,Wa.jsxs)("select",{value:f,onChange:e=>g(e.target.value),children:[(0,Wa.jsx)("option",{value:"",children:"Choose a scheme..."}),n.map(e=>(0,Wa.jsxs)("option",{value:e._id,children:[e.schemeName," ",e.isDefault?"(Default)":""]},e._id))]})]}),f&&(0,Wa.jsx)("div",{className:"scheme-preview",children:(()=>{const e=n.find(e=>e._id===f);return e?(0,Wa.jsxs)("div",{children:[(0,Wa.jsxs)("h4",{children:["Scheme Preview: ",e.schemeName]}),(0,Wa.jsx)("p",{children:e.description}),(0,Wa.jsx)("div",{className:"commission-rules-preview",children:e.commissions.map((e,t)=>(0,Wa.jsxs)("div",{className:"commission-rule-preview",children:[(0,Wa.jsx)("span",{children:e.operator}),(0,Wa.jsx)("span",{children:e.transactionType}),(0,Wa.jsx)("span",{children:"percentage"===e.commissionType?"".concat(e.commissionValue,"%"):"\u20b9".concat(e.commissionValue)})]},t))})]}):null})()})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>{m(!1),g("")},children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(f&&s)try{const e=localStorage.getItem("token"),t=await fetch("/api/commission-schemes/".concat(f,"/apply-to-user"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({userId:s._id})});if(t.ok)await j(s._id),m(!1),g(""),alert("Scheme assigned successfully!");else{const e=await t.json();alert("Error: ".concat(e.message))}}catch(e){console.error("Error assigning scheme:",e),alert("Error assigning scheme")}else alert("Please select a scheme")},disabled:!f,children:"Assign Scheme"})]})]})}),h&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Add Custom Commission"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{p(!1),N()},children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Operator *"}),(0,Wa.jsxs)("select",{value:x.operator,onChange:e=>v(Se(Se({},x),{},{operator:e.target.value})),children:[(0,Wa.jsx)("option",{value:"",children:"Select Operator"}),["Airtel","Jio","Vi","BSNL","Tata Sky","Dish TV","Sun Direct","Videocon D2H"].map(e=>(0,Wa.jsx)("option",{value:e,children:e},e))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Transaction Type"}),(0,Wa.jsx)("select",{value:x.transactionType,onChange:e=>v(Se(Se({},x),{},{transactionType:e.target.value})),children:[{value:"mobile-recharge",label:"Mobile Recharge"},{value:"dth-recharge",label:"DTH Recharge"},{value:"bill-payment",label:"Bill Payment"}].map(e=>(0,Wa.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Commission Type"}),(0,Wa.jsxs)("select",{value:x.commissionType,onChange:e=>v(Se(Se({},x),{},{commissionType:e.target.value})),children:[(0,Wa.jsx)("option",{value:"percentage",children:"Percentage"}),(0,Wa.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Commission Value *"}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"percentage"===x.commissionType?"Rate %":"Amount \u20b9",value:x.commissionValue,onChange:e=>v(Se(Se({},x),{},{commissionValue:e.target.value}))})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Minimum Commission (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:x.minCommission,onChange:e=>v(Se(Se({},x),{},{minCommission:e.target.value}))})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Maximum Commission (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",step:"0.01",placeholder:"No limit",value:x.maxCommission,onChange:e=>v(Se(Se({},x),{},{maxCommission:e.target.value}))})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Description"}),(0,Wa.jsx)("textarea",{value:x.description,onChange:e=>v(Se(Se({},x),{},{description:e.target.value})),rows:"3",placeholder:"Optional description for this commission rule"})]})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>{p(!1),N()},children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(x.operator&&x.commissionValue)try{const e=localStorage.getItem("token"),t=await fetch("/api/commission-schemes/users/".concat(s._id,"/commissions"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(Se(Se({},x),{},{commissionValue:parseFloat(x.commissionValue),minCommission:x.minCommission?parseFloat(x.minCommission):0,maxCommission:x.maxCommission?parseFloat(x.maxCommission):null}))});if(t.ok)await j(s._id),p(!1),N(),alert("Custom commission added successfully!");else{const e=await t.json();alert("Error: ".concat(e.message))}}catch(e){console.error("Error adding custom commission:",e),alert("Error adding custom commission")}else alert("Please fill in operator and commission value")},children:"Add Commission"})]})]})})]})},ed=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[f,g]=(0,r.useState)([]),[x,v]=(0,r.useState)(null),[y,b]=(0,r.useState)({brandName:"",description:"",image:"",category:"Other",termsAndConditions:"",validityPeriod:365,isActive:!0}),[j,N]=(0,r.useState)({denomination:"",discountPercentage:0,maxQuantityPerUser:5,totalAvailableQuantity:1e3,isActive:!0});(0,r.useEffect)(()=>{w(),S()},[]);const w=async()=>{try{const e=localStorage.getItem("token"),n=await fetch("/api/vouchers/brands",{headers:{Authorization:"Bearer ".concat(e)}}),a=await n.json();a.success&&t(a.data)}catch(e){console.error("Error fetching vouchers:",e)}finally{i(!1)}},S=async()=>{try{const e=await fetch("/api/vouchers/categories"),t=await e.json();t.success&&a(t.data)}catch(e){console.error("Error fetching categories:",e)}},k=async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/api/vouchers/brands/".concat(e,"/denominations"),{headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();a.success&&g(a.data)}catch(t){console.error("Error fetching denominations:",t)}},C=()=>{b({brandName:"",description:"",image:"",category:"Other",termsAndConditions:"",validityPeriod:365,isActive:!0}),d(null)},E=()=>{N({denomination:"",discountPercentage:0,maxQuantityPerUser:5,totalAvailableQuantity:1e3,isActive:!0}),v(null)};return s?(0,Wa.jsx)("div",{className:"loading",children:"Loading vouchers..."}):(0,Wa.jsxs)("div",{className:"dashboard-container",children:[(0,Wa.jsxs)("div",{className:"welcome-header",children:[(0,Wa.jsxs)("h1",{children:[(0,Wa.jsx)("i",{className:"fas fa-ticket-alt"})," Voucher Management"]}),(0,Wa.jsx)("p",{className:"welcome-subtitle",children:"Manage brand vouchers and denominations"})]}),(0,Wa.jsxs)("div",{className:"card",style:{marginBottom:"1.5rem",textAlign:"center",padding:"1.5rem"},children:[(0,Wa.jsxs)("h3",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-plus-circle",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Quick Actions"]}),(0,Wa.jsxs)("button",{className:"btn btn-primary touch-target",onClick:()=>{C(),l(!0)},style:{padding:"0.75rem 2rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-plus",style:{marginRight:"0.5rem"}}),"Add New Voucher"]})]}),(0,Wa.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:e.map(e=>(0,Wa.jsxs)("div",{className:"card",style:{overflow:"hidden",transition:"all 0.2s ease"},children:[(0,Wa.jsx)("div",{style:{height:"160px",overflow:"hidden",background:"var(--light-color)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.image?(0,Wa.jsx)("img",{src:e.image,alt:e.brandName,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,Wa.jsxs)("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",textAlign:"center"},children:[(0,Wa.jsx)("i",{className:"fas fa-image",style:{fontSize:"2rem",marginBottom:"0.5rem",display:"block"}}),"No Image"]})}),(0,Wa.jsxs)("div",{style:{padding:"1rem"},children:[(0,Wa.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,Wa.jsx)("h3",{style:{margin:0,fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)",marginBottom:"0.25rem"},children:e.brandName}),(0,Wa.jsx)("span",{style:{fontSize:"0.75rem",color:"var(--primary-color)",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.category})]}),(0,Wa.jsx)("p",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",color:"var(--text-secondary)",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description}),(0,Wa.jsx)("div",{style:{marginBottom:"1rem"},children:(0,Wa.jsx)("span",{className:"status-badge ".concat(e.isActive?"success":"danger"),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",borderRadius:"12px"},children:e.isActive?"Active":"Inactive"})}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[(0,Wa.jsxs)("button",{className:"btn btn-outline-primary touch-target",onClick:()=>(e=>{b({brandName:e.brandName,description:e.description,image:e.image,category:e.category,termsAndConditions:e.termsAndConditions||"",validityPeriod:e.validityPeriod,isActive:e.isActive}),d(e),l(!0)})(e),style:{padding:"0.5rem",fontSize:"0.75rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-edit",style:{marginRight:"0.25rem"}}),"Edit"]}),(0,Wa.jsxs)("button",{className:"btn btn-outline-info touch-target",onClick:()=>(e=>{p(e),m(!0),k(e._id)})(e),style:{padding:"0.5rem",fontSize:"0.75rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-coins",style:{marginRight:"0.25rem"}}),"Denominations"]})]}),(0,Wa.jsxs)("button",{className:"btn btn-outline-danger touch-target",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this voucher?"))try{const t=localStorage.getItem("token"),n=await fetch("/api/vouchers/brands/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();a.success?(alert(a.message),w()):alert(a.message||"Error deleting voucher")}catch(t){console.error("Error deleting voucher:",t),alert("Error deleting voucher")}})(e._id),style:{padding:"0.5rem",fontSize:"0.75rem",fontWeight:"600",marginTop:"0.5rem",width:"100%"},children:[(0,Wa.jsx)("i",{className:"fas fa-trash",style:{marginRight:"0.25rem"}}),"Delete Voucher"]})]})]},e._id))}),o&&(0,Wa.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,Wa.jsxs)("div",{className:"modal",style:{backgroundColor:"white",borderRadius:"12px",maxWidth:"500px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.15)"},children:[(0,Wa.jsxs)("div",{className:"modal-header",style:{padding:"1.5rem 1.5rem 1rem",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wa.jsxs)("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"var(--text-primary)"},children:[(0,Wa.jsx)("i",{className:"fas ".concat(c?"fa-edit":"fa-plus"),style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),c?"Edit Voucher":"Add New Voucher"]}),(0,Wa.jsx)("button",{className:"close-btn touch-target",onClick:()=>{l(!1),C()},style:{background:"none",border:"none",fontSize:"1.5rem",color:"var(--text-secondary)",cursor:"pointer",padding:"0.25rem",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Wa.jsx)("i",{className:"fas fa-times"})})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=c?"/api/vouchers/brands/".concat(c._id):"/api/vouchers/brands",n=c?"PUT":"POST",a=await fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(y)}),r=await a.json();r.success?(alert(r.message),w(),C(),l(!1)):alert(r.message||"Error saving voucher")}catch(t){console.error("Error saving voucher:",t),alert("Error saving voucher")}},className:"modal-body",style:{padding:"1.5rem"},children:[(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Brand Name *"}),(0,Wa.jsx)("input",{type:"text",value:y.brandName,onChange:e=>b(Se(Se({},y),{},{brandName:e.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Description *"}),(0,Wa.jsx)("textarea",{value:y.description,onChange:e=>b(Se(Se({},y),{},{description:e.target.value})),required:!0,rows:"3",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",resize:"vertical",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Image URL *"}),(0,Wa.jsx)("input",{type:"url",value:y.image,onChange:e=>b(Se(Se({},y),{},{image:e.target.value})),required:!0,placeholder:"https://example.com/image.jpg",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Category"}),(0,Wa.jsx)("select",{value:y.category,onChange:e=>b(Se(Se({},y),{},{category:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",backgroundColor:"white",transition:"border-color 0.2s ease"},children:n.map(e=>(0,Wa.jsx)("option",{value:e,children:e},e))})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Terms and Conditions"}),(0,Wa.jsx)("textarea",{value:y.termsAndConditions,onChange:e=>b(Se(Se({},y),{},{termsAndConditions:e.target.value})),rows:"3",style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",resize:"vertical",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Validity Period (days)"}),(0,Wa.jsx)("input",{type:"number",value:y.validityPeriod,onChange:e=>b(Se(Se({},y),{},{validityPeriod:parseInt(e.target.value)})),min:"1",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsx)("div",{style:{marginBottom:"2rem"},children:(0,Wa.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)",cursor:"pointer"},children:[(0,Wa.jsx)("input",{type:"checkbox",checked:y.isActive,onChange:e=>b(Se(Se({},y),{},{isActive:e.target.checked})),style:{marginRight:"0.5rem",width:"1rem",height:"1rem"}}),(0,Wa.jsx)("span",{children:"Active"})]})}),(0,Wa.jsxs)("div",{style:{display:"flex",gap:"0.75rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[(0,Wa.jsxs)("button",{type:"button",className:"btn btn-outline-secondary touch-target",onClick:()=>{l(!1),C()},style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-times",style:{marginRight:"0.5rem"}}),"Cancel"]}),(0,Wa.jsxs)("button",{type:"submit",className:"btn btn-primary touch-target",style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas ".concat(c?"fa-save":"fa-plus"),style:{marginRight:"0.5rem"}}),c?"Update":"Create"," Voucher"]})]})]})]})}),u&&(0,Wa.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:(0,Wa.jsxs)("div",{className:"modal",style:{backgroundColor:"white",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 25px rgba(0,0,0,0.15)"},children:[(0,Wa.jsxs)("div",{className:"modal-header",style:{padding:"1.5rem 1.5rem 1rem",borderBottom:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Wa.jsxs)("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"var(--text-primary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-coins",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Manage Denominations - ",null===h||void 0===h?void 0:h.brandName]}),(0,Wa.jsx)("button",{className:"close-btn touch-target",onClick:()=>{m(!1),p(null),E()},style:{background:"none",border:"none",fontSize:"1.5rem",color:"var(--text-secondary)",cursor:"pointer",padding:"0.25rem",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Wa.jsx)("i",{className:"fas fa-times"})})]}),(0,Wa.jsxs)("div",{className:"modal-body",style:{padding:"1.5rem"},children:[(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=x?"/api/vouchers/denominations/".concat(x._id):"/api/vouchers/brands/".concat(h._id,"/denominations"),n=x?"PUT":"POST",a=await fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(j)}),r=await a.json();r.success?(alert(r.message),k(h._id),E()):alert(r.message||"Error saving denomination")}catch(t){console.error("Error saving denomination:",t),alert("Error saving denomination")}},children:[(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Denomination Value *"}),(0,Wa.jsx)("input",{type:"number",value:j.denomination,onChange:e=>N(Se(Se({},j),{},{denomination:parseInt(e.target.value)})),min:"1",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Discount % *"}),(0,Wa.jsx)("input",{type:"number",value:j.discountPercentage,onChange:e=>N(Se(Se({},j),{},{discountPercentage:parseFloat(e.target.value)})),min:"0",max:"100",step:"0.01",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]})]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Max Quantity Per User *"}),(0,Wa.jsx)("input",{type:"number",value:j.maxQuantityPerUser,onChange:e=>N(Se(Se({},j),{},{maxQuantityPerUser:parseInt(e.target.value)})),min:"1",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)"},children:"Total Available Quantity *"}),(0,Wa.jsx)("input",{type:"number",value:j.totalAvailableQuantity,onChange:e=>N(Se(Se({},j),{},{totalAvailableQuantity:parseInt(e.target.value)})),min:"0",required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid var(--border-color)",borderRadius:"8px",fontSize:"0.875rem",transition:"border-color 0.2s ease"}})]})]}),(0,Wa.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,Wa.jsxs)("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",fontWeight:"600",color:"var(--text-primary)",cursor:"pointer"},children:[(0,Wa.jsx)("input",{type:"checkbox",checked:j.isActive,onChange:e=>N(Se(Se({},j),{},{isActive:e.target.checked})),style:{marginRight:"0.5rem",width:"1rem",height:"1rem"}}),"Active"]})}),(0,Wa.jsxs)("div",{style:{display:"flex",gap:"0.75rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[(0,Wa.jsxs)("button",{type:"submit",className:"btn btn-primary touch-target",style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas ".concat(x?"fa-save":"fa-plus"),style:{marginRight:"0.5rem"}}),x?"Update":"Add"," Denomination"]}),x&&(0,Wa.jsxs)("button",{type:"button",className:"btn btn-outline-secondary touch-target",onClick:E,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-times",style:{marginRight:"0.5rem"}}),"Cancel Edit"]})]})]}),(0,Wa.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,Wa.jsxs)("h4",{style:{margin:"0 0 1rem 0",fontSize:"1.125rem",fontWeight:"600",color:"var(--text-primary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-list",style:{marginRight:"0.5rem",color:"var(--primary-color)"}}),"Existing Denominations"]}),0===f.length?(0,Wa.jsxs)("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:[(0,Wa.jsx)("i",{className:"fas fa-inbox",style:{fontSize:"3rem",marginBottom:"1rem",display:"block",opacity:.3}}),(0,Wa.jsx)("p",{style:{margin:0,fontSize:"0.875rem"},children:"No denominations found."})]}):(0,Wa.jsx)("div",{style:{display:"grid",gap:"1rem"},children:f.map(e=>(0,Wa.jsxs)("div",{className:"card",style:{padding:"1rem"},children:[(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Value"}),(0,Wa.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:["\u20b9",e.denomination]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Discount"}),(0,Wa.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--success-color)"},children:[e.discountPercentage,"%"]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Final Price"}),(0,Wa.jsxs)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--primary-color)"},children:["\u20b9",e.discountedPrice]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Max/User"}),(0,Wa.jsx)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:e.maxQuantityPerUser})]})]}),(0,Wa.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Available"}),(0,Wa.jsx)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--info-color)"},children:e.remainingQuantity})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Sold"}),(0,Wa.jsx)("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--warning-color)"},children:e.soldQuantity})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontWeight:"600",textTransform:"uppercase"},children:"Status"}),(0,Wa.jsx)("span",{className:"status-badge ".concat(e.isActive?"success":"danger"),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",borderRadius:"12px"},children:e.isActive?"Active":"Inactive"})]})]}),(0,Wa.jsxs)("div",{style:{display:"flex",gap:"0.5rem",paddingTop:"1rem",borderTop:"1px solid var(--border-color)"},children:[(0,Wa.jsxs)("button",{className:"btn btn-outline-primary touch-target",onClick:()=>(e=>{N({denomination:e.denomination,discountPercentage:e.discountPercentage,maxQuantityPerUser:e.maxQuantityPerUser,totalAvailableQuantity:e.totalAvailableQuantity,isActive:e.isActive}),v(e)})(e),style:{flex:1,padding:"0.5rem",fontSize:"0.75rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-edit",style:{marginRight:"0.25rem"}}),"Edit"]}),(0,Wa.jsxs)("button",{className:"btn btn-outline-danger touch-target",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this denomination?"))try{const t=localStorage.getItem("token"),n=await fetch("/api/vouchers/denominations/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();a.success?(alert(a.message),k(h._id)):alert(a.message||"Error deleting denomination")}catch(t){console.error("Error deleting denomination:",t),alert("Error deleting denomination")}})(e._id),style:{flex:1,padding:"0.5rem",fontSize:"0.75rem",fontWeight:"600"},children:[(0,Wa.jsx)("i",{className:"fas fa-trash",style:{marginRight:"0.25rem"}}),"Delete"]})]})]},e._id))})]})]})]})})]})},td=()=>{var e,t,n,a;const[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[x,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(1),[w,S]=(0,r.useState)(1),[k,C]=(0,r.useState)("pending_approval");(0,r.useEffect)(()=>{E()},[j,k]);const E=async()=>{try{l(!0);const e=localStorage.getItem("token"),t=await fetch("/admin/voucher-orders?status=".concat(k,"&page=").concat(j,"&limit=10"),{headers:{Authorization:"Bearer ".concat(e)}}),n=await t.json();"success"===n.status?(i(n.data.orders),S(n.pages)):console.error("Error fetching orders:",n.message)}catch(e){console.error("Error fetching orders:",e)}finally{l(!1)}},A=async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/admin/voucher-orders/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();"success"===a.status?(d(a.data.order),m(!0)):alert("Error fetching order details")}catch(t){console.error("Error fetching order:",t),alert("Error fetching order details")}},T=async e=>{if(window.confirm("Are you sure you want to approve this order?"))try{const t=localStorage.getItem("token"),n=await fetch("/admin/voucher-orders/".concat(e,"/approve"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(t)}}),a=await n.json();"success"===a.status?(alert("Order approved successfully"),E(),m(!1)):alert(a.message||"Error approving order")}catch(t){console.error("Error approving order:",t),alert("Error approving order")}},P=e=>(0,Wa.jsx)("span",{className:"status-badge ".concat({pending_approval:"status-pending",approved:"status-approved",rejected:"status-rejected"}[e]),children:{pending_approval:"Pending Approval",approved:"Approved",rejected:"Rejected"}[e]}),R=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=e=>"\u20b9".concat(e.toFixed(2));return o?(0,Wa.jsx)("div",{className:"loading",children:"Loading voucher orders..."}):(0,Wa.jsxs)("div",{className:"voucher-order-approvals",children:[(0,Wa.jsxs)("div",{className:"page-header",children:[(0,Wa.jsx)("h2",{children:"Voucher Order Approvals"}),(0,Wa.jsx)("div",{className:"header-controls",children:(0,Wa.jsxs)("select",{value:k,onChange:e=>{C(e.target.value),N(1)},className:"status-filter",children:[(0,Wa.jsx)("option",{value:"pending_approval",children:"Pending Approval"}),(0,Wa.jsx)("option",{value:"approved",children:"Approved"}),(0,Wa.jsx)("option",{value:"rejected",children:"Rejected"})]})})]}),0===(s||[]).length?(0,Wa.jsx)("div",{className:"no-orders",children:(0,Wa.jsx)("p",{children:"No voucher orders found for the selected status."})}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("div",{className:"orders-table",children:(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Order Number"}),(0,Wa.jsx)("th",{children:"Customer"}),(0,Wa.jsx)("th",{children:"Email"}),(0,Wa.jsx)("th",{children:"Voucher"}),(0,Wa.jsx)("th",{children:"Amount"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Date"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:(s||[]).map(e=>{var t,n,a;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{className:"order-number",children:e.orderNumber}),(0,Wa.jsx)("td",{children:(null===(t=e.user)||void 0===t?void 0:t.name)||"N/A"}),(0,Wa.jsx)("td",{children:e.customerEmail}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"voucher-info",children:[(0,Wa.jsx)("div",{className:"brand-name",children:null===(n=e.brandVoucher)||void 0===n?void 0:n.brandName}),(0,Wa.jsxs)("div",{className:"denomination",children:["\u20b9",null===(a=e.voucherDenomination)||void 0===a?void 0:a.denomination," x ",e.quantity]})]})}),(0,Wa.jsx)("td",{className:"amount",children:_(e.finalAmount)}),(0,Wa.jsx)("td",{children:P(e.approvalStatus)}),(0,Wa.jsx)("td",{children:R(e.createdAt)}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"action-buttons",children:[(0,Wa.jsx)("button",{onClick:()=>A(e._id),className:"btn btn-view",children:"View"}),"pending_approval"===e.approvalStatus&&(0,Wa.jsx)(Wa.Fragment,{children:(0,Wa.jsx)("button",{onClick:()=>T(e._id),className:"btn btn-approve",children:"Approve"})})]})})]},e._id)})})]})}),w>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{onClick:()=>N(e=>Math.max(e-1,1)),disabled:1===j,className:"btn btn-secondary",children:"Previous"}),(0,Wa.jsxs)("span",{className:"page-info",children:["Page ",j," of ",w]}),(0,Wa.jsx)("button",{onClick:()=>N(e=>Math.min(e+1,w)),disabled:j===w,className:"btn btn-secondary",children:"Next"})]})]}),u&&c&&(0,Wa.jsx)("div",{className:"modal-overlay",onClick:()=>m(!1),children:(0,Wa.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsxs)("h3",{children:["Order Details - ",c.orderNumber]}),(0,Wa.jsx)("button",{onClick:()=>m(!1),className:"close-btn",children:"\xd7"})]}),(0,Wa.jsx)("div",{className:"modal-body",children:(0,Wa.jsxs)("div",{className:"order-details",children:[(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h4",{children:"Customer Information"}),(0,Wa.jsxs)("div",{className:"detail-grid",children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Name:"}),(0,Wa.jsx)("span",{children:(null===(e=c.user)||void 0===e?void 0:e.name)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Email:"}),(0,Wa.jsx)("span",{children:c.customerEmail})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Phone:"}),(0,Wa.jsx)("span",{children:(null===(t=c.user)||void 0===t?void 0:t.phone)||"N/A"})]})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h4",{children:"Voucher Information"}),(0,Wa.jsxs)("div",{className:"detail-grid",children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Brand:"}),(0,Wa.jsx)("span",{children:null===(n=c.brandVoucher)||void 0===n?void 0:n.brandName})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Denomination:"}),(0,Wa.jsxs)("span",{children:["\u20b9",null===(a=c.voucherDenomination)||void 0===a?void 0:a.denomination]})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Quantity:"}),(0,Wa.jsx)("span",{children:c.quantity})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Total Amount:"}),(0,Wa.jsx)("span",{className:"amount",children:_(c.finalAmount)})]})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h4",{children:"Order Status"}),(0,Wa.jsxs)("div",{className:"detail-grid",children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Approval Status:"}),P(c.approvalStatus)]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Order Date:"}),(0,Wa.jsx)("span",{children:R(c.createdAt)})]}),c.approvedAt&&(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Processed Date:"}),(0,Wa.jsx)("span",{children:R(c.approvedAt)})]}),c.approvedBy&&(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Processed By:"}),(0,Wa.jsx)("span",{children:c.approvedBy.name})]}),c.rejectionReason&&(0,Wa.jsxs)("div",{className:"detail-item full-width",children:[(0,Wa.jsx)("label",{children:"Rejection Reason:"}),(0,Wa.jsx)("span",{children:c.rejectionReason})]})]})]}),"approved"===c.approvalStatus&&(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h4",{children:"Voucher File"}),c.voucherFilePath?(0,Wa.jsxs)("div",{className:"file-actions",children:[(0,Wa.jsx)("p",{children:"\u2705 Voucher file has been uploaded"}),(0,Wa.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await fetch("/admin/voucher-orders/".concat(e,"/download-file"),{headers:{Authorization:"Bearer ".concat(t)}});if(n.ok){const t=await n.blob(),a=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=a,r.download="voucher-".concat(e,".xlsx"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}else{const e=await n.json();alert(e.message||"Error downloading file")}}catch(t){console.error("Error downloading file:",t),alert("Error downloading file")}})(c._id),className:"btn btn-download",children:"Download File"})]}):(0,Wa.jsxs)("div",{className:"file-upload",children:[(0,Wa.jsx)("p",{children:"Upload Excel file containing voucher codes:"}),(0,Wa.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>b(e.target.files[0]),className:"file-input"}),(0,Wa.jsx)("button",{onClick:async()=>{if(y)try{v(!0);const e=localStorage.getItem("token"),t=new FormData;t.append("voucherFile",y);const n=await fetch("/admin/voucher-orders/".concat(c._id,"/upload-file"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:t}),a=await n.json();"success"===a.status?(alert("File uploaded successfully"),b(null),A(c._id)):alert(a.message||"Error uploading file")}catch(e){console.error("Error uploading file:",e),alert("Error uploading file")}finally{v(!1)}else alert("Please select a file to upload")},disabled:!y||x,className:"btn btn-upload",children:x?"Uploading...":"Upload File"})]})]})]})}),(0,Wa.jsxs)("div",{className:"modal-footer",children:["pending_approval"===c.approvalStatus&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{onClick:()=>T(c._id),className:"btn btn-approve",children:"Approve Order"}),(0,Wa.jsx)("button",{onClick:()=>p(!0),className:"btn btn-reject",children:"Reject Order"})]}),(0,Wa.jsx)("button",{onClick:()=>m(!1),className:"btn btn-secondary",children:"Close"})]})]})}),h&&(0,Wa.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:(0,Wa.jsxs)("div",{className:"modal small-modal",onClick:e=>e.stopPropagation(),children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Reject Order"}),(0,Wa.jsx)("button",{onClick:()=>p(!1),className:"close-btn",children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsx)("p",{children:"Please provide a reason for rejecting this order:"}),(0,Wa.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),placeholder:"Enter rejection reason...",className:"rejection-textarea",rows:"4"})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{onClick:async()=>{if(f.trim())try{const e=localStorage.getItem("token"),t=await fetch("/admin/voucher-orders/".concat(c._id,"/reject"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({rejectionReason:f})}),n=await t.json();"success"===n.status?(alert("Order rejected successfully"),E(),m(!1),p(!1),g("")):alert(n.message||"Error rejecting order")}catch(e){console.error("Error rejecting order:",e),alert("Error rejecting order")}else alert("Please provide a rejection reason")},disabled:!f.trim(),className:"btn btn-reject",children:"Reject Order"}),(0,Wa.jsx)("button",{onClick:()=>{p(!1),g("")},className:"btn btn-secondary",children:"Cancel"})]})]})})]})},nd=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)({name:"",displayName:"",baseUrl:"",apiKey:"",apiSecret:"",authType:"bearer",endpoints:{mobileRecharge:"",dthRecharge:"",checkStatus:"",getOperators:""},requestFormat:"json",responseFormat:"json",timeout:3e4,retryAttempts:3,isActive:!0,priority:1,successCodes:["200","SUCCESS","ACCEPTED"],failureCodes:["FAILED","ERROR","REJECTED"],pendingCodes:["PENDING","PROCESSING","IN_PROGRESS"],commission:0,minAmount:10,maxAmount:1e4,supportedServices:["mobile","dth"],testMode:!1});(0,r.useEffect)(()=>{u()},[]);const u=async()=>{try{const n=await fetch("/admin/recharge/providers",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),a=await n.json();var e;if("success"===a.status)Array.isArray(null===(e=a.data)||void 0===e?void 0:e.apiProviders)?t(a.data.apiProviders):Array.isArray(a.data)?t(a.data):Array.isArray(a.providers)?t(a.providers):(console.error("Invalid providers data structure:",a),t([]));else console.error("API response error:",a),t([])}catch(n){console.error("Error fetching providers:",n),t([])}finally{a(!1)}},m=()=>{l(null),d({name:"",displayName:"",baseUrl:"",apiKey:"",apiSecret:"",authType:"bearer",endpoints:{mobileRecharge:"",dthRecharge:"",checkStatus:"",getOperators:""},requestFormat:"json",responseFormat:"json",timeout:3e4,retryAttempts:3,isActive:!0,priority:1,successCodes:["200","SUCCESS","ACCEPTED"],failureCodes:["FAILED","ERROR","REJECTED"],pendingCodes:["PENDING","PROCESSING","IN_PROGRESS"],commission:0,minAmount:10,maxAmount:1e4,supportedServices:["mobile","dth"],testMode:!1})},h=e=>{const{name:t,value:n,type:a,checked:r}=e.target;if(t.includes(".")){const[e,a]=t.split(".");d(t=>Se(Se({},t),{},{[e]:Se(Se({},t[e]),{},{[a]:n})}))}else d("successCodes"===t||"failureCodes"===t||"pendingCodes"===t||"supportedServices"===t?e=>Se(Se({},e),{},{[t]:n.split(",").map(e=>e.trim())}):e=>Se(Se({},e),{},{[t]:"checkbox"===a?r:n}))};return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"admin-page",children:[(0,Wa.jsxs)("div",{className:"admin-header",children:[(0,Wa.jsx)("h1",{children:"API Providers Management"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>i(!0),children:"Add New Provider"})]}),(0,Wa.jsx)("div",{className:"providers-grid",children:Array.isArray(e)&&e.length>0?e.map(e=>(0,Wa.jsxs)("div",{className:"provider-card",children:[(0,Wa.jsxs)("div",{className:"provider-header",children:[(0,Wa.jsx)("h3",{children:e.name}),(0,Wa.jsxs)("div",{className:"provider-status",children:[(0,Wa.jsx)("span",{className:"status ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"}),e.isTestMode&&(0,Wa.jsx)("span",{className:"test-mode",children:"Test Mode"})]})]}),(0,Wa.jsxs)("div",{className:"provider-details",children:[(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Base URL:"})," ",e.baseUrl]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Priority:"})," ",e.priority]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Commission:"})," ",e.commission,"%"]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Services:"})," ",e.supportedServices.join(", ")]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Amount Range:"})," \u20b9",e.minAmount," - \u20b9",e.maxAmount]})]}),(0,Wa.jsxs)("div",{className:"provider-actions",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>(e=>{l(e),d({name:e.name,displayName:e.displayName||"",baseUrl:e.baseUrl,apiKey:e.apiKey,apiSecret:e.apiSecret,authType:e.authType||"bearer",endpoints:e.endpoints||{mobileRecharge:"",dthRecharge:"",checkStatus:"",getOperators:""},requestFormat:e.requestFormat,responseFormat:e.responseFormat,timeout:e.timeout,retryAttempts:e.retryAttempts,isActive:e.isActive,priority:e.priority,successCodes:e.successCodes||["200","SUCCESS","ACCEPTED"],failureCodes:e.failureCodes||["FAILED","ERROR","REJECTED"],pendingCodes:e.pendingCodes||["PENDING","PROCESSING","IN_PROGRESS"],commission:e.commission,minAmount:e.minAmount,maxAmount:e.maxAmount,supportedServices:e.supportedServices,testMode:e.testMode||!1}),i(!0)})(e),children:"Edit"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this provider?"))try{const t=await fetch("/admin/recharge/providers/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});"success"===(await t.json()).status&&u()}catch(t){console.error("Error deleting provider:",t)}})(e._id),children:"Delete"})]})]},e._id)):(0,Wa.jsxs)("div",{className:"no-providers",children:[(0,Wa.jsx)("p",{children:"No API providers configured yet."}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>i(!0),children:"Add Your First Provider"})]})}),s&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h2",{children:o?"Edit Provider":"Add New Provider"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{i(!1),m()},children:"\xd7"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=o?"/admin/recharge/providers/".concat(o._id):"/admin/recharge/providers",t=o?"PUT":"POST",n=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(c)});"success"===(await n.json()).status&&(u(),i(!1),m())}catch(t){console.error("Error saving provider:",t)}},className:"provider-form",children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Provider Name (Internal)"}),(0,Wa.jsx)("input",{type:"text",name:"name",value:c.name,onChange:h,required:!0,placeholder:"e.g., provider_api_v1"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Display Name"}),(0,Wa.jsx)("input",{type:"text",name:"displayName",value:c.displayName,onChange:h,required:!0,placeholder:"e.g., Provider API Service"})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Base URL"}),(0,Wa.jsx)("input",{type:"url",name:"baseUrl",value:c.baseUrl,onChange:h,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Auth Type"}),(0,Wa.jsxs)("select",{name:"authType",value:c.authType,onChange:h,children:[(0,Wa.jsx)("option",{value:"bearer",children:"Bearer Token"}),(0,Wa.jsx)("option",{value:"basic",children:"Basic Auth"}),(0,Wa.jsx)("option",{value:"api_key",children:"API Key"}),(0,Wa.jsx)("option",{value:"custom",children:"Custom"})]})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"API Key"}),(0,Wa.jsx)("input",{type:"text",name:"apiKey",value:c.apiKey,onChange:h,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"API Secret"}),(0,Wa.jsx)("input",{type:"password",name:"apiSecret",value:c.apiSecret,onChange:h,required:!0})]})]}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Endpoints"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Mobile Recharge Endpoint"}),(0,Wa.jsx)("input",{type:"text",name:"endpoints.mobileRecharge",value:c.endpoints.mobileRecharge,onChange:h,required:!0,placeholder:"/api/mobile-recharge"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"DTH Recharge Endpoint"}),(0,Wa.jsx)("input",{type:"text",name:"endpoints.dthRecharge",value:c.endpoints.dthRecharge,onChange:h,required:!0,placeholder:"/api/dth-recharge"})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Status Check Endpoint"}),(0,Wa.jsx)("input",{type:"text",name:"endpoints.checkStatus",value:c.endpoints.checkStatus,onChange:h,required:!0,placeholder:"/api/check-status"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Get Operators Endpoint"}),(0,Wa.jsx)("input",{type:"text",name:"endpoints.getOperators",value:c.endpoints.getOperators,onChange:h,placeholder:"/api/operators"})]})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Priority"}),(0,Wa.jsx)("input",{type:"number",name:"priority",value:c.priority,onChange:h,min:"1"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Commission (%)"}),(0,Wa.jsx)("input",{type:"number",name:"commission",value:c.commission,onChange:h,min:"0",step:"0.01"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Timeout (ms)"}),(0,Wa.jsx)("input",{type:"number",name:"timeout",value:c.timeout,onChange:h,min:"1000"})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Min Amount"}),(0,Wa.jsx)("input",{type:"number",name:"minAmount",value:c.minAmount,onChange:h,min:"1"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Max Amount"}),(0,Wa.jsx)("input",{type:"number",name:"maxAmount",value:c.maxAmount,onChange:h,min:"1"})]})]}),(0,Wa.jsx)("div",{className:"form-row",children:(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Supported Services (comma-separated)"}),(0,Wa.jsx)("input",{type:"text",name:"supportedServices",value:c.supportedServices.join(", "),onChange:h,placeholder:"mobile, dth"})]})}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Response Codes"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Success Codes (comma-separated)"}),(0,Wa.jsx)("input",{type:"text",name:"successCodes",value:c.successCodes.join(", "),onChange:h,placeholder:"200, SUCCESS, ACCEPTED"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Failure Codes (comma-separated)"}),(0,Wa.jsx)("input",{type:"text",name:"failureCodes",value:c.failureCodes.join(", "),onChange:h,placeholder:"FAILED, ERROR, REJECTED"})]})]}),(0,Wa.jsx)("div",{className:"form-row",children:(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Pending Codes (comma-separated)"}),(0,Wa.jsx)("input",{type:"text",name:"pendingCodes",value:c.pendingCodes.join(", "),onChange:h,placeholder:"PENDING, PROCESSING, IN_PROGRESS"})]})})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsx)("div",{className:"form-group checkbox-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",name:"isActive",checked:c.isActive,onChange:h}),"Active"]})}),(0,Wa.jsx)("div",{className:"form-group checkbox-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",name:"testMode",checked:c.testMode,onChange:h}),"Test Mode"]})})]}),(0,Wa.jsxs)("div",{className:"modal-actions",children:[(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?"Update Provider":"Create Provider"}),(0,Wa.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{i(!1),m()},children:"Cancel"})]})]})]})})]})},ad=()=>{const{user:e}=qa(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),[m,h]=(0,r.useState)({operatorCode:"",operatorName:"",serviceType:"mobile",processingMode:"api",primaryApiProvider:"",fallbackApiProvider:"",isActive:!0,commission:0,minAmount:10,maxAmount:1e4,allowedAmounts:[],circles:[],validationRules:{numberLength:{min:10,max:12},numberPattern:"",allowedPrefixes:[]},manualProcessing:{requiresApproval:!1,autoApprovalLimit:0,approvalWorkflow:[]},apiMapping:{numberField:"mobile",amountField:"amount",operatorField:"operator"},maintenanceMode:!1,notes:""});(0,r.useEffect)(()=>{p(),f()},[]);const p=async()=>{try{const e=await fetch("/admin/recharge/operators",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();"success"===t.status&&n(t.data)}catch(e){console.error("Error fetching operators:",e)}},f=async()=>{try{const e=await fetch("/admin/recharge/providers",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();"success"===t.status&&s(t.data.filter(e=>e.isActive))}catch(e){console.error("Error fetching providers:",e)}finally{o(!1)}},g=()=>{u(null),h({operatorCode:"",operatorName:"",serviceType:"mobile",processingMode:"api",primaryApiProvider:"",fallbackApiProvider:"",isActive:!0,commission:0,minAmount:10,maxAmount:1e4,allowedAmounts:[],circles:[],validationRules:{numberLength:{min:10,max:12},numberPattern:"",allowedPrefixes:[]},manualProcessing:{requiresApproval:!1,autoApprovalLimit:0,approvalWorkflow:[]},apiMapping:{numberField:"mobile",amountField:"amount",operatorField:"operator"},maintenanceMode:!1,notes:""})},x=e=>{const{name:t,value:n,type:a,checked:r}=e.target;if(t.includes(".")){const e=t.split(".");h(t=>{const s=Se({},t);let i=s;for(let n=0;n<e.length-1;n++)i=i[e[n]];return i[e[e.length-1]]="checkbox"===a?r:n,s})}else if("allowedAmounts"===t)h(e=>Se(Se({},e),{},{[t]:n.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e))}));else if("circles"===t){const n=Array.from(e.target.selectedOptions,e=>e.value);h(e=>Se(Se({},e),{},{[t]:n}))}else h(e=>Se(Se({},e),{},{[t]:"checkbox"===a?r:n}))},v=e=>{const t=a.find(t=>t._id===e);return t?t.name:"Not Selected"};return i?(0,Wa.jsx)("div",{className:"loading",children:"Loading..."}):(0,Wa.jsxs)("div",{className:"admin-page",children:[(0,Wa.jsxs)("div",{className:"admin-header",children:[(0,Wa.jsx)("h1",{children:"Operator Configuration"}),(0,Wa.jsx)("button",{className:"btn btn-primary",onClick:()=>c(!0),children:"Add New Operator"})]}),(0,Wa.jsx)("div",{className:"operators-table",children:(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Operator"}),(0,Wa.jsx)("th",{children:"Service"}),(0,Wa.jsx)("th",{children:"Processing Mode"}),(0,Wa.jsx)("th",{children:"Primary API"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Commission"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:t.map(e=>{var t;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"operator-info",children:[(0,Wa.jsx)("strong",{children:e.operatorName}),(0,Wa.jsx)("small",{children:e.operatorCode})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"service-type ".concat(e.serviceType),children:e.serviceType.toUpperCase()})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"processing-mode ".concat(e.processingMode),children:e.processingMode.toUpperCase()})}),(0,Wa.jsx)("td",{children:v(null===(t=e.primaryApiProvider)||void 0===t?void 0:t._id)}),(0,Wa.jsxs)("td",{children:[(0,Wa.jsx)("span",{className:"status ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"}),e.maintenanceMode&&(0,Wa.jsx)("span",{className:"maintenance",children:"Maintenance"})]}),(0,Wa.jsxs)("td",{children:[e.commission,"%"]}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"action-buttons",children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>(e=>{var t,n;u(e),h({operatorCode:e.operatorCode,operatorName:e.operatorName,serviceType:e.serviceType,processingMode:e.processingMode,primaryApiProvider:(null===(t=e.primaryApiProvider)||void 0===t?void 0:t._id)||"",fallbackApiProvider:(null===(n=e.fallbackApiProvider)||void 0===n?void 0:n._id)||"",isActive:e.isActive,commission:e.commission,minAmount:e.minAmount,maxAmount:e.maxAmount,allowedAmounts:e.allowedAmounts,circles:e.circles,validationRules:e.validationRules,manualProcessing:e.manualProcessing,apiMapping:e.apiMapping,maintenanceMode:e.maintenanceMode,notes:e.notes}),c(!0)})(e),children:"Edit"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this operator configuration?"))try{const t=await fetch("/admin/recharge/operators/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});"success"===(await t.json()).status&&p()}catch(t){console.error("Error deleting operator:",t)}})(e._id),children:"Delete"})]})})]},e._id)})})]})}),l&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal large-modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h2",{children:d?"Edit Operator":"Add New Operator"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{c(!1),g()},children:"\xd7"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=d?"/admin/recharge/operators/".concat(d._id):"/admin/recharge/operators",t=d?"PUT":"POST",n=await fetch(e,{method:t,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(m)});"success"===(await n.json()).status&&(p(),c(!1),g())}catch(t){console.error("Error saving operator:",t)}},className:"operator-form",children:[(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Basic Information"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Operator Code"}),(0,Wa.jsx)("input",{type:"text",name:"operatorCode",value:m.operatorCode,onChange:x,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Operator Name"}),(0,Wa.jsx)("input",{type:"text",name:"operatorName",value:m.operatorName,onChange:x,required:!0})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Service Type"}),(0,Wa.jsxs)("select",{name:"serviceType",value:m.serviceType,onChange:x,required:!0,children:[(0,Wa.jsx)("option",{value:"mobile",children:"Mobile"}),(0,Wa.jsx)("option",{value:"dth",children:"DTH"})]})]})]})]}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Processing Configuration"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Processing Mode"}),(0,Wa.jsxs)("select",{name:"processingMode",value:m.processingMode,onChange:x,required:!0,children:[(0,Wa.jsx)("option",{value:"api",children:"API"}),(0,Wa.jsx)("option",{value:"manual",children:"Manual"}),(0,Wa.jsx)("option",{value:"disabled",children:"Disabled"})]})]}),"api"===m.processingMode&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Primary API Provider"}),(0,Wa.jsxs)("select",{name:"primaryApiProvider",value:m.primaryApiProvider,onChange:x,children:[(0,Wa.jsx)("option",{value:"",children:"Select Provider"}),a.map(e=>(0,Wa.jsx)("option",{value:e._id,children:e.name},e._id))]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Fallback API Provider"}),(0,Wa.jsxs)("select",{name:"fallbackApiProvider",value:m.fallbackApiProvider,onChange:x,children:[(0,Wa.jsx)("option",{value:"",children:"Select Provider"}),a.map(e=>(0,Wa.jsx)("option",{value:e._id,children:e.name},e._id))]})]})]})]})]}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Amount Configuration"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Commission (%)"}),(0,Wa.jsx)("input",{type:"number",name:"commission",value:m.commission,onChange:x,min:"0",step:"0.01"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Min Amount"}),(0,Wa.jsx)("input",{type:"number",name:"minAmount",value:m.minAmount,onChange:x,min:"1"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Max Amount"}),(0,Wa.jsx)("input",{type:"number",name:"maxAmount",value:m.maxAmount,onChange:x,min:"1"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Allowed Amounts (comma-separated)"}),(0,Wa.jsx)("input",{type:"text",name:"allowedAmounts",value:m.allowedAmounts.join(", "),onChange:x,placeholder:"10, 20, 50, 100, 200, 500"})]})]}),"mobile"===m.serviceType&&(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Circles"}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Supported Circles"}),(0,Wa.jsx)("select",{name:"circles",multiple:!0,value:m.circles,onChange:x,className:"multi-select",children:["ANDHRA_PRADESH","ASSAM","BIHAR_JHARKHAND","CHENNAI","DELHI","GUJARAT","HARYANA","HIMACHAL_PRADESH","JAMMU_KASHMIR","KARNATAKA","KERALA","KOLKATA","MADHYA_PRADESH","MAHARASHTRA","MUMBAI","NORTH_EAST","ORISSA","PUNJAB","RAJASTHAN","TAMIL_NADU","UP_EAST","UP_WEST","WEST_BENGAL"].map(e=>(0,Wa.jsx)("option",{value:e,children:e.replace("_"," ")},e))})]})]}),(0,Wa.jsxs)("div",{className:"form-section",children:[(0,Wa.jsx)("h3",{children:"Status & Settings"}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsx)("div",{className:"form-group checkbox-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",name:"isActive",checked:m.isActive,onChange:x}),"Active"]})}),(0,Wa.jsx)("div",{className:"form-group checkbox-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",name:"maintenanceMode",checked:m.maintenanceMode,onChange:x}),"Maintenance Mode"]})})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Notes"}),(0,Wa.jsx)("textarea",{name:"notes",value:m.notes,onChange:x,rows:"3",placeholder:"Additional notes or configuration details"})]})]}),(0,Wa.jsxs)("div",{className:"modal-actions",children:[(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",children:d?"Update Operator":"Create Operator"}),(0,Wa.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{c(!1),g()},children:"Cancel"})]})]})]})})]})},rd=()=>{var e,t,n;const{user:a}=qa(),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)("pending"),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[f,g]=(0,r.useState)(""),[x,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{j()},[c]);const j=async()=>{try{l(!0);const e=await fetch("/admin/recharge/manual?status=".concat(c),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),t=await e.json();"success"===t.status&&i(t.data)}catch(e){console.error("Error fetching manual recharges:",e)}finally{l(!1)}},N=async(e,t)=>{p(e),g(t),m(!0)},w=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),S=e=>new Date(e).toLocaleString("en-IN"),k=e=>{switch(e){case"pending":return"warning";case"approved":case"completed":return"success";case"rejected":case"failed":return"danger";case"processing":return"info";default:return"secondary"}};return o?(0,Wa.jsx)("div",{className:"loading",children:"Loading manual recharges..."}):(0,Wa.jsxs)("div",{className:"admin-page",children:[(0,Wa.jsxs)("div",{className:"admin-header",children:[(0,Wa.jsx)("h1",{children:"Manual Recharge Processing"}),(0,Wa.jsx)("div",{className:"filter-controls",children:(0,Wa.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"filter-select",children:[(0,Wa.jsx)("option",{value:"pending",children:"Pending Approval"}),(0,Wa.jsx)("option",{value:"approved",children:"Approved"}),(0,Wa.jsx)("option",{value:"processing",children:"Processing"}),(0,Wa.jsx)("option",{value:"completed",children:"Completed"}),(0,Wa.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Wa.jsx)("option",{value:"failed",children:"Failed"}),(0,Wa.jsx)("option",{value:"all",children:"All"})]})})]}),(0,Wa.jsx)("div",{className:"recharges-table",children:0===s.length?(0,Wa.jsx)("div",{className:"no-data",children:(0,Wa.jsxs)("p",{children:["No ","all"===c?"":c," manual recharges found."]})}):(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Transaction ID"}),(0,Wa.jsx)("th",{children:"User"}),(0,Wa.jsx)("th",{children:"Service"}),(0,Wa.jsx)("th",{children:"Details"}),(0,Wa.jsx)("th",{children:"Amount"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Created"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:s.map(e=>{var t,n,a,r,s;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"transaction-info",children:[(0,Wa.jsx)("strong",{children:e.transactionId}),e.operatorTransactionId&&(0,Wa.jsxs)("small",{children:["Op: ",e.operatorTransactionId]})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"user-info",children:[(0,Wa.jsx)("strong",{children:(null===(t=e.user)||void 0===t?void 0:t.name)||"Unknown"}),(0,Wa.jsx)("small",{children:(null===(n=e.user)||void 0===n?void 0:n.mobile)||"N/A"})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"service-info",children:[(0,Wa.jsx)("i",{className:"fas ".concat((s=e.serviceType,"mobile"===s?"fa-mobile-alt":"fa-satellite-dish"))}),(0,Wa.jsx)("span",{children:e.serviceType.toUpperCase()})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"recharge-details",children:[(0,Wa.jsx)("strong",{children:e.number}),(0,Wa.jsx)("small",{children:(null===(a=e.operator)||void 0===a?void 0:a.operatorName)||e.operatorCode}),e.circle&&(0,Wa.jsxs)("small",{children:["Circle: ",e.circle]})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"amount-info",children:[(0,Wa.jsx)("strong",{children:w(e.amount)}),e.commission>0&&(0,Wa.jsxs)("small",{children:["Commission: ",w(e.commission)]})]})}),(0,Wa.jsxs)("td",{children:[(0,Wa.jsx)("span",{className:"status ".concat(k(e.status)),children:e.status.toUpperCase()}),(null===(r=e.manualProcessing)||void 0===r?void 0:r.requiresApproval)&&(0,Wa.jsx)("small",{className:"approval-required",children:"Approval Required"})]}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"date-info",children:[(0,Wa.jsx)("strong",{children:S(e.createdAt)}),e.processedAt&&(0,Wa.jsxs)("small",{children:["Processed: ",S(e.processedAt)]})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"action-buttons",children:["pending"===e.status&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>N(e,"approve"),children:"Approve"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>N(e,"reject"),children:"Reject"})]}),"approved"===e.status&&(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>N(e,"process"),children:"Process"}),"processing"===e.status&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>N(e,"complete"),children:"Complete"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>N(e,"fail"),children:"Mark Failed"})]}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:()=>N(e,"view"),children:"View Details"})]})})]},e._id)})})]})}),u&&h&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h2",{children:"view"===f?"Recharge Details":"approve"===f?"Approve Recharge":"reject"===f?"Reject Recharge":"process"===f?"Process Recharge":"complete"===f?"Complete Recharge":"fail"===f?"Mark as Failed":"Action"}),(0,Wa.jsx)("button",{className:"close-btn",onClick:()=>{m(!1),v(""),p(null),g("")},children:"\xd7"})]}),(0,Wa.jsxs)("div",{className:"modal-content",children:[(0,Wa.jsxs)("div",{className:"recharge-summary",children:[(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Transaction ID:"}),(0,Wa.jsx)("span",{className:"value",children:h.transactionId})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"User:"}),(0,Wa.jsxs)("span",{className:"value",children:[null===(e=h.user)||void 0===e?void 0:e.name," (",null===(t=h.user)||void 0===t?void 0:t.mobile,")"]})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Service:"}),(0,Wa.jsx)("span",{className:"value",children:h.serviceType.toUpperCase()})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Number:"}),(0,Wa.jsx)("span",{className:"value",children:h.number})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Operator:"}),(0,Wa.jsx)("span",{className:"value",children:(null===(n=h.operator)||void 0===n?void 0:n.operatorName)||h.operatorCode})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Amount:"}),(0,Wa.jsx)("span",{className:"value",children:w(h.amount)})]}),(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Status:"}),(0,Wa.jsx)("span",{className:"value status ".concat(k(h.status)),children:h.status.toUpperCase()})]}),h.notes&&(0,Wa.jsxs)("div",{className:"summary-row",children:[(0,Wa.jsx)("span",{className:"label",children:"Notes:"}),(0,Wa.jsx)("span",{className:"value",children:h.notes})]})]}),"view"!==f&&(0,Wa.jsx)("div",{className:"action-form",children:(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Action Note:"}),(0,Wa.jsx)("textarea",{value:x,onChange:e=>v(e.target.value),placeholder:"Add a note for this ".concat(f," action..."),rows:"3",required:"reject"===f})]})})]}),(0,Wa.jsxs)("div",{className:"modal-actions",children:["view"!==f&&(0,Wa.jsx)("button",{className:"btn btn-primary ".concat(y?"loading":""),onClick:async()=>{if(h&&f)try{b(!0);const e=await fetch("/admin/recharge/manual/".concat(h._id,"/").concat(f),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({note:x,processedBy:a._id})});"success"===(await e.json()).status&&(j(),m(!1),v(""),p(null),g(""))}catch(e){console.error("Error processing action:",e)}finally{b(!1)}},disabled:y||"reject"===f&&!x.trim(),children:y?"Processing...":"approve"===f?"Approve Recharge":"reject"===f?"Reject Recharge":"process"===f?"Start Processing":"complete"===f?"Mark Complete":"fail"===f?"Mark Failed":"Confirm"}),(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:()=>{m(!1),v(""),p(null),g("")},children:"view"===f?"Close":"Cancel"})]})]})})]})},sd=()=>{const{currentUser:e}=qa(),t=ee(),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[h,p]=(0,r.useState)({page:1,pages:1,total:0,results:0}),[f,g]=(0,r.useState)({status:"",startDate:"",endDate:"",minAmount:"",maxAmount:"",userId:"",userName:"",userEmail:"",remitterMobile:"",beneficiaryName:"",transferMode:"",page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"}),[x,v]=(0,r.useState)({totalTransactions:0,successfulTransactions:0,pendingTransactions:0,failedTransactions:0,totalAmount:0,totalCharges:0});(0,r.useEffect)(()=>{"admin"===(null===e||void 0===e?void 0:e.role)?(y(),b()):t("/dashboard")},[e,t]),(0,r.useEffect)(()=>{y()},[f.page,f.limit,f.sortBy,f.sortOrder]);const y=async()=>{try{i(!0);const s=localStorage.getItem("token"),o=new URLSearchParams;Object.keys(f).forEach(e=>{f[e]&&""!==f[e]&&o.append(e,f[e])});const l=await Ua.get("/admin/dmt/transactions?".concat(o),{headers:{Authorization:"Bearer ".concat(s)}});var e,t,n,r;if(l.data.success)a(l.data.data.transactions||[]),p({page:(null===(e=l.data.pagination)||void 0===e?void 0:e.page)||1,pages:(null===(t=l.data.pagination)||void 0===t?void 0:t.pages)||1,total:(null===(n=l.data.pagination)||void 0===n?void 0:n.total)||0,results:(null===(r=l.data.pagination)||void 0===r?void 0:r.results)||0})}catch(o){console.error("Error fetching DMT transactions:",o),l("Failed to fetch DMT transactions"),it.error("Failed to fetch DMT transactions")}finally{i(!1)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/admin/dmt/stats",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&v(t.data.data)}catch(o){console.error("Error fetching DMT stats:",o)}},j=(e,t)=>{g(n=>Se(Se({},n),{},{[e]:t,page:1}))},N=e=>{g(t=>Se(Se({},t),{},{page:e}))},w=e=>{const t=f.sortBy===e&&"desc"===f.sortOrder?"asc":"desc";g(n=>Se(Se({},n),{},{sortBy:e,sortOrder:t}))},S=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"success":case"completed":return"status-success";case"failed":case"failure":return"status-failed";case"pending":case"processing":case"initiated":return"status-pending";default:return"status-unknown"}},k=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e||0);return s&&0===n.length?(0,Wa.jsx)("div",{className:"dmt-transactions-admin",children:(0,Wa.jsxs)("div",{className:"loading-spinner",children:[(0,Wa.jsx)("div",{className:"spinner"}),(0,Wa.jsx)("p",{children:"Loading DMT transactions..."})]})}):(0,Wa.jsxs)("div",{className:"dmt-transactions-admin",children:[(0,Wa.jsxs)("div",{className:"page-header",children:[(0,Wa.jsx)("h1",{children:"DMT Transactions Management"}),(0,Wa.jsxs)("div",{className:"header-actions",children:[(0,Wa.jsx)("button",{className:"btn-export",onClick:async()=>{try{const e=localStorage.getItem("token"),t=new URLSearchParams;Object.keys(f).forEach(e=>{f[e]&&""!==f[e]&&"page"!==e&&"limit"!==e&&t.append(e,f[e])});const n=await Ua.get("/admin/dmt/transactions/export?".concat(t),{headers:{Authorization:"Bearer ".concat(e)},responseType:"blob"}),a=window.URL.createObjectURL(new Blob([n.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","dmt-transactions-".concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a),it.success("Transactions exported successfully")}catch(o){console.error("Error exporting transactions:",o),it.error("Failed to export transactions")}},children:"Export CSV"}),c.length>0&&(0,Wa.jsx)("button",{className:"btn-bulk-action",onClick:async()=>{if(0!==c.length)try{m(!0);const e=localStorage.getItem("token"),t=await Ua.post("/admin/dmt/transactions/bulk-check-status",{transactionIds:c},{headers:{Authorization:"Bearer ".concat(e)}});t.data.success?(it.success("Status checked for ".concat(c.length," transactions")),d([]),y(),b()):it.error(t.data.message||"Failed to check transaction statuses")}catch(o){console.error("Error in bulk status check:",o),it.error("Failed to check transaction statuses")}finally{m(!1)}else it.warning("Please select transactions to check status")},disabled:u,children:u?"Checking...":"Check Status (".concat(c.length,")")})]})]}),(0,Wa.jsxs)("div",{className:"stats-grid",children:[(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Total Transactions"}),(0,Wa.jsx)("p",{className:"stat-number",children:x.totalTransactions})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Successful"}),(0,Wa.jsx)("p",{className:"stat-number success",children:x.successfulTransactions})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Pending"}),(0,Wa.jsx)("p",{className:"stat-number pending",children:x.pendingTransactions})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Failed"}),(0,Wa.jsx)("p",{className:"stat-number failed",children:x.failedTransactions})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Total Amount"}),(0,Wa.jsx)("p",{className:"stat-number",children:k(x.totalAmount)})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h3",{children:"Total Charges"}),(0,Wa.jsx)("p",{className:"stat-number",children:k(x.totalCharges)})]})]}),(0,Wa.jsxs)("div",{className:"filters-section",children:[(0,Wa.jsxs)("div",{className:"filters-grid",children:[(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Status"}),(0,Wa.jsxs)("select",{value:f.status,onChange:e=>j("status",e.target.value),children:[(0,Wa.jsx)("option",{value:"",children:"All Statuses"}),(0,Wa.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,Wa.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Wa.jsx)("option",{value:"FAILED",children:"Failed"}),(0,Wa.jsx)("option",{value:"PROCESSING",children:"Processing"})]})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Transfer Mode"}),(0,Wa.jsxs)("select",{value:f.transferMode,onChange:e=>j("transferMode",e.target.value),children:[(0,Wa.jsx)("option",{value:"",children:"All Modes"}),(0,Wa.jsx)("option",{value:"IMPS",children:"IMPS"}),(0,Wa.jsx)("option",{value:"NEFT",children:"NEFT"})]})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Start Date"}),(0,Wa.jsx)("input",{type:"date",value:f.startDate,onChange:e=>j("startDate",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"End Date"}),(0,Wa.jsx)("input",{type:"date",value:f.endDate,onChange:e=>j("endDate",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Min Amount"}),(0,Wa.jsx)("input",{type:"number",placeholder:"Min amount",value:f.minAmount,onChange:e=>j("minAmount",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Max Amount"}),(0,Wa.jsx)("input",{type:"number",placeholder:"Max amount",value:f.maxAmount,onChange:e=>j("maxAmount",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"User Email"}),(0,Wa.jsx)("input",{type:"text",placeholder:"User email",value:f.userEmail,onChange:e=>j("userEmail",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Remitter Mobile"}),(0,Wa.jsx)("input",{type:"text",placeholder:"Remitter mobile",value:f.remitterMobile,onChange:e=>j("remitterMobile",e.target.value)})]})]}),(0,Wa.jsxs)("div",{className:"filter-actions",children:[(0,Wa.jsx)("button",{className:"btn-apply",onClick:()=>{y()},children:"Apply Filters"}),(0,Wa.jsx)("button",{className:"btn-clear",onClick:()=>{g({status:"",startDate:"",endDate:"",minAmount:"",maxAmount:"",userId:"",userName:"",userEmail:"",remitterMobile:"",beneficiaryName:"",transferMode:"",page:1,limit:20,sortBy:"createdAt",sortOrder:"desc"})},children:"Clear Filters"})]})]}),(0,Wa.jsxs)("div",{className:"transactions-section",children:[(0,Wa.jsxs)("div",{className:"table-header",children:[(0,Wa.jsx)("div",{className:"table-controls",children:(0,Wa.jsxs)("label",{className:"select-all",children:[(0,Wa.jsx)("input",{type:"checkbox",checked:c.length===n.length&&n.length>0,onChange:()=>{c.length===n.length?d([]):d(n.map(e=>e._id))}}),"Select All (",n.length,")"]})}),(0,Wa.jsxs)("div",{className:"pagination-info",children:["Showing ",(h.page-1)*f.limit+1," to ",Math.min(h.page*f.limit,h.total)," of ",h.total," transactions"]})]}),0===n.length?(0,Wa.jsxs)("div",{className:"no-transactions",children:[(0,Wa.jsx)("h3",{children:"No DMT Transactions Found"}),(0,Wa.jsx)("p",{children:"No transactions match your current filters."})]}):(0,Wa.jsx)("div",{className:"transactions-table",children:(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Select"}),(0,Wa.jsxs)("th",{onClick:()=>w("transactionId"),className:"sortable",children:["Transaction ID","transactionId"===f.sortBy&&(0,Wa.jsx)("span",{className:"sort-icon ".concat(f.sortOrder)})]}),(0,Wa.jsxs)("th",{onClick:()=>w("createdAt"),className:"sortable",children:["Date","createdAt"===f.sortBy&&(0,Wa.jsx)("span",{className:"sort-icon ".concat(f.sortOrder)})]}),(0,Wa.jsx)("th",{children:"User"}),(0,Wa.jsx)("th",{children:"Remitter"}),(0,Wa.jsx)("th",{children:"Beneficiary"}),(0,Wa.jsxs)("th",{onClick:()=>w("amount"),className:"sortable",children:["Amount","amount"===f.sortBy&&(0,Wa.jsx)("span",{className:"sort-icon ".concat(f.sortOrder)})]}),(0,Wa.jsx)("th",{children:"Charges"}),(0,Wa.jsx)("th",{children:"Mode"}),(0,Wa.jsxs)("th",{onClick:()=>w("status"),className:"sortable",children:["Status","status"===f.sortBy&&(0,Wa.jsx)("span",{className:"sort-icon ".concat(f.sortOrder)})]}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:n.map(e=>{var t,n,a,r,s,i,l,u;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsx)("input",{type:"checkbox",checked:c.includes(e._id),onChange:()=>{return t=e._id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})}),(0,Wa.jsx)("td",{className:"transaction-id",children:e.transactionId}),(0,Wa.jsx)("td",{children:(u=e.createdAt,new Date(u).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"user-info",children:[(0,Wa.jsx)("div",{children:(null===(t=e.user)||void 0===t?void 0:t.name)||"N/A"}),(0,Wa.jsx)("div",{className:"user-email",children:(null===(n=e.user)||void 0===n?void 0:n.email)||"N/A"})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"remitter-info",children:[(0,Wa.jsx)("div",{children:(null===(a=e.remitter)||void 0===a?void 0:a.name)||"N/A"}),(0,Wa.jsx)("div",{className:"remitter-mobile",children:(null===(r=e.remitter)||void 0===r?void 0:r.mobile)||"N/A"})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"beneficiary-info",children:[(0,Wa.jsx)("div",{children:(null===(s=e.beneficiary)||void 0===s?void 0:s.accountHolderName)||"N/A"}),(0,Wa.jsx)("div",{className:"account-number",children:(null===(i=e.beneficiary)||void 0===i?void 0:i.accountNumber)||"N/A"}),(0,Wa.jsx)("div",{className:"bank-name",children:(null===(l=e.beneficiary)||void 0===l?void 0:l.bankName)||"N/A"})]})}),(0,Wa.jsx)("td",{className:"amount",children:k(e.amount)}),(0,Wa.jsx)("td",{className:"charges",children:k(e.charges)}),(0,Wa.jsx)("td",{className:"transfer-mode",children:e.transferMode}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"status-badge ".concat(S(e.status)),children:e.status})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("div",{className:"action-buttons",children:("PENDING"===e.status||"PROCESSING"===e.status)&&(0,Wa.jsx)("button",{className:"btn-check-status",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Ua.post("/admin/dmt/transaction/".concat(e,"/check-status"),{},{headers:{Authorization:"Bearer ".concat(t)}});n.data.success?(it.success("Transaction status updated"),y(),b()):it.error(n.data.message||"Failed to check transaction status")}catch(o){console.error("Error checking transaction status:",o),it.error("Failed to check transaction status")}})(e.transactionId),title:"Check Status",children:"Check"})})})]},e._id)})})]})}),h.pages>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{className:"btn-page",onClick:()=>N(h.page-1),disabled:1===h.page,children:"Previous"}),(0,Wa.jsx)("div",{className:"page-numbers",children:Array.from({length:Math.min(5,h.pages)},(e,t)=>{let n;return n=h.pages<=5||h.page<=3?t+1:h.page>=h.pages-2?h.pages-4+t:h.page-2+t,(0,Wa.jsx)("button",{className:"btn-page ".concat(h.page===n?"active":""),onClick:()=>N(n),children:n},n)})}),(0,Wa.jsx)("button",{className:"btn-page",onClick:()=>N(h.page+1),disabled:h.page===h.pages,children:"Next"})]})]})]})},id=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y()},[]);const y=async()=>{try{a(!0);const e=await Ua.get("/auth/admin/users");t(e.data.data.users),i("")}catch(s){var e,n;i((null===(e=s.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to fetch users")}finally{a(!1)}},b=()=>{g(!1),m(null),p(""),i("")},j=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase())||e.phone.includes(c));return n?(0,Wa.jsx)("div",{className:"user-management",children:(0,Wa.jsxs)("div",{className:"loading-spinner",children:[(0,Wa.jsx)("div",{className:"spinner"}),(0,Wa.jsx)("p",{children:"Loading users..."})]})}):(0,Wa.jsxs)("div",{className:"user-management",children:[(0,Wa.jsxs)("div",{className:"page-header",children:[(0,Wa.jsx)("h2",{children:"User Management"}),(0,Wa.jsx)("p",{children:"Manage user accounts and reset passwords"})]}),s&&(0,Wa.jsxs)("div",{className:"alert alert-error",children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle"}),s]}),o&&(0,Wa.jsxs)("div",{className:"alert alert-success",children:[(0,Wa.jsx)("i",{className:"fas fa-check-circle"}),o]}),(0,Wa.jsxs)("div",{className:"search-section",children:[(0,Wa.jsxs)("div",{className:"search-box",children:[(0,Wa.jsx)("i",{className:"fas fa-search"}),(0,Wa.jsx)("input",{type:"text",placeholder:"Search users by name, email, or phone...",value:c,onChange:e=>d(e.target.value)})]}),(0,Wa.jsxs)("button",{className:"btn btn-refresh",onClick:y,children:[(0,Wa.jsx)("i",{className:"fas fa-sync-alt"}),"Refresh"]})]}),(0,Wa.jsxs)("div",{className:"users-table-container",children:[(0,Wa.jsxs)("table",{className:"users-table",children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Name"}),(0,Wa.jsx)("th",{children:"Email"}),(0,Wa.jsx)("th",{children:"Phone"}),(0,Wa.jsx)("th",{children:"Role"}),(0,Wa.jsx)("th",{children:"Created"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:j.map(e=>(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"user-info",children:[(0,Wa.jsx)("div",{className:"user-avatar",children:e.name.charAt(0).toUpperCase()}),(0,Wa.jsx)("span",{children:e.name})]})}),(0,Wa.jsx)("td",{children:e.email}),(0,Wa.jsx)("td",{children:e.phone}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"role-badge ".concat(e.role),children:e.role.toUpperCase()})}),(0,Wa.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("button",{className:"btn btn-reset",onClick:()=>(e=>{m(e),g(!0),p(""),i(""),l("")})(e),disabled:"admin"===e.role,title:"admin"===e.role?"Cannot reset admin password":"Reset password",children:[(0,Wa.jsx)("i",{className:"fas fa-key"}),"Reset Password"]})})]},e._id))})]}),0===j.length&&(0,Wa.jsxs)("div",{className:"no-users",children:[(0,Wa.jsx)("i",{className:"fas fa-users"}),(0,Wa.jsx)("p",{children:"No users found matching your search criteria"})]})]}),f&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:"Reset Password"}),(0,Wa.jsx)("button",{className:"modal-close",onClick:b,children:(0,Wa.jsx)("i",{className:"fas fa-times"})})]}),(0,Wa.jsxs)("div",{className:"modal-body",children:[(0,Wa.jsxs)("div",{className:"user-details",children:[(0,Wa.jsx)("div",{className:"user-avatar large",children:null===u||void 0===u?void 0:u.name.charAt(0).toUpperCase()}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h4",{children:null===u||void 0===u?void 0:u.name}),(0,Wa.jsx)("p",{children:null===u||void 0===u?void 0:u.email})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),(0,Wa.jsx)("input",{type:"password",id:"newPassword",value:h,onChange:e=>p(e.target.value),placeholder:"Enter new password (min. 8 characters)",className:"form-control",minLength:"8"}),(0,Wa.jsx)("small",{className:"form-text",children:"Password must be at least 8 characters long"})]})]}),(0,Wa.jsxs)("div",{className:"modal-footer",children:[(0,Wa.jsx)("button",{className:"btn btn-secondary",onClick:b,disabled:x,children:"Cancel"}),(0,Wa.jsx)("button",{className:"btn btn-danger",onClick:async()=>{if(u&&h)if(h.length<8)i("Password must be at least 8 characters long");else try{v(!0),i("");const e=await Ua.post("/auth/admin/reset-password",{userId:u._id,newPassword:h});l(e.data.message),g(!1),m(null),p(""),setTimeout(()=>l(""),5e3)}catch(s){var e,t;i((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to reset password")}finally{v(!1)}else i("Please select a user and enter a new password")},disabled:x||!h||h.length<8,children:x?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Resetting..."]}):(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)("i",{className:"fas fa-key"}),"Reset Password"]})})]})]})})]})},od=()=>{const[e,t]=(0,r.useState)("send"),[n,a]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,g]=(0,r.useState)({title:"",message:"",type:"general",priority:"medium",sendToAll:!1,userRole:"",recipients:[],expiresAt:""}),[x,v]=(0,r.useState)([]),[y,b]=(0,r.useState)("");(0,r.useEffect)(()=>{"manage"===e?j():"stats"===e&&w()},[e]),(0,r.useEffect)(()=>{!y&&f.sendToAll||N()},[y,f.sendToAll]);const j=async()=>{try{d(!0);const e=localStorage.getItem("token"),t=await Ua.get("/api/notifications/admin/all",{headers:{Authorization:"Bearer ".concat(e)}});a(t.data.data.notifications)}catch(im){m("Failed to fetch notifications")}finally{d(!1)}},N=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/api/notifications/admin/users?search=".concat(y),{headers:{Authorization:"Bearer ".concat(e)}});i(t.data.data.users)}catch(im){console.error("Failed to fetch users:",im)}},w=async()=>{try{d(!0);const e=localStorage.getItem("token"),t=await Ua.get("/api/notifications/admin/stats",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.data)}catch(im){m("Failed to fetch statistics")}finally{d(!1)}},S=e=>{const{name:t,value:n,type:a,checked:r}=e.target;g(e=>Se(Se({},e),{},{[t]:"checkbox"===a?r:n}))},k=e=>{const t=x.find(t=>t._id===e._id);v(t?t=>t.filter(t=>t._id!==e._id):t=>[...t,e])},C=e=>{const t={info:"#3498db",warning:"#f39c12",success:"#27ae60",error:"#e74c3c",announcement:"#9b59b6",general:"#95a5a6"};return t[e]||t.general},E=e=>{const t={low:"#27ae60",medium:"#f39c12",high:"#e67e22",urgent:"#e74c3c"};return t[e]||t.medium};return(0,Wa.jsxs)("div",{className:"admin-notifications",children:[(0,Wa.jsxs)("div",{className:"admin-notifications-header",children:[(0,Wa.jsx)("h1",{children:"Notification Management"}),(0,Wa.jsx)("p",{children:"Send and manage notifications to users"})]}),u&&(0,Wa.jsx)("div",{className:"alert alert-error",children:u}),h&&(0,Wa.jsx)("div",{className:"alert alert-success",children:h}),(0,Wa.jsxs)("div",{className:"tabs",children:[(0,Wa.jsx)("button",{className:"tab ".concat("send"===e?"active":""),onClick:()=>t("send"),children:"Send Notification"}),(0,Wa.jsx)("button",{className:"tab ".concat("manage"===e?"active":""),onClick:()=>t("manage"),children:"Manage Notifications"}),(0,Wa.jsx)("button",{className:"tab ".concat("stats"===e?"active":""),onClick:()=>t("stats"),children:"Statistics"})]}),"send"===e&&(0,Wa.jsx)("div",{className:"tab-content",children:(0,Wa.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),m(""),p("");try{const e=localStorage.getItem("token"),t=Se(Se({},f),{},{recipients:f.sendToAll?[]:x.map(e=>e._id)}),n=f.sendToAll||x.length>1?"/api/notifications/admin/bulk":"/api/notifications/admin/create";f.sendToAll||1!==x.length||(t.userId=x[0]._id);const a=await Ua.post(n,t,{headers:{Authorization:"Bearer ".concat(e)}});p(a.data.message||"Notification sent successfully!"),g({title:"",message:"",type:"general",priority:"medium",sendToAll:!1,userRole:"",recipients:[],expiresAt:""}),v([])}catch(im){var t,n;m((null===(t=im.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send notification")}finally{d(!1)}},className:"notification-form",children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"title",children:"Title *"}),(0,Wa.jsx)("input",{type:"text",id:"title",name:"title",value:f.title,onChange:S,required:!0,maxLength:100,placeholder:"Enter notification title"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"type",children:"Type"}),(0,Wa.jsxs)("select",{id:"type",name:"type",value:f.type,onChange:S,children:[(0,Wa.jsx)("option",{value:"general",children:"General"}),(0,Wa.jsx)("option",{value:"info",children:"Info"}),(0,Wa.jsx)("option",{value:"warning",children:"Warning"}),(0,Wa.jsx)("option",{value:"success",children:"Success"}),(0,Wa.jsx)("option",{value:"error",children:"Error"}),(0,Wa.jsx)("option",{value:"announcement",children:"Announcement"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"priority",children:"Priority"}),(0,Wa.jsxs)("select",{id:"priority",name:"priority",value:f.priority,onChange:S,children:[(0,Wa.jsx)("option",{value:"low",children:"Low"}),(0,Wa.jsx)("option",{value:"medium",children:"Medium"}),(0,Wa.jsx)("option",{value:"high",children:"High"}),(0,Wa.jsx)("option",{value:"urgent",children:"Urgent"})]})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"message",children:"Message *"}),(0,Wa.jsx)("textarea",{id:"message",name:"message",value:f.message,onChange:S,required:!0,maxLength:500,rows:4,placeholder:"Enter notification message"})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsx)("div",{className:"form-group",children:(0,Wa.jsxs)("label",{children:[(0,Wa.jsx)("input",{type:"checkbox",name:"sendToAll",checked:f.sendToAll,onChange:S}),"Send to all users"]})}),f.sendToAll&&(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"userRole",children:"Filter by Role (Optional)"}),(0,Wa.jsxs)("select",{id:"userRole",name:"userRole",value:f.userRole,onChange:S,children:[(0,Wa.jsx)("option",{value:"",children:"All Roles"}),(0,Wa.jsx)("option",{value:"user",children:"Users"}),(0,Wa.jsx)("option",{value:"admin",children:"Admins"})]})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{htmlFor:"expiresAt",children:"Expires At (Optional)"}),(0,Wa.jsx)("input",{type:"datetime-local",id:"expiresAt",name:"expiresAt",value:f.expiresAt,onChange:S})]})]}),!f.sendToAll&&(0,Wa.jsxs)("div",{className:"user-selection",children:[(0,Wa.jsx)("h3",{children:"Select Recipients"}),(0,Wa.jsx)("div",{className:"user-search",children:(0,Wa.jsx)("input",{type:"text",placeholder:"Search users by name or email...",value:y,onChange:e=>b(e.target.value)})}),(0,Wa.jsxs)("div",{className:"selected-users",children:[(0,Wa.jsxs)("h4",{children:["Selected Users (",x.length,")"]}),(0,Wa.jsx)("div",{className:"user-chips",children:x.map(e=>(0,Wa.jsxs)("div",{className:"user-chip",children:[e.name," (",e.email,")",(0,Wa.jsx)("button",{type:"button",onClick:()=>k(e),className:"remove-user",children:"\xd7"})]},e._id))})]}),(0,Wa.jsx)("div",{className:"user-list",children:s.filter(e=>!x.find(t=>t._id===e._id)).map(e=>(0,Wa.jsx)("div",{className:"user-item",onClick:()=>k(e),children:(0,Wa.jsxs)("div",{className:"user-info",children:[(0,Wa.jsx)("strong",{children:e.name}),(0,Wa.jsx)("span",{children:e.email}),(0,Wa.jsx)("span",{className:"user-role",children:e.role})]})},e._id))})]}),(0,Wa.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c||!f.sendToAll&&0===x.length,children:c?"Sending...":"Send Notification"})]})}),"manage"===e&&(0,Wa.jsx)("div",{className:"tab-content",children:(0,Wa.jsxs)("div",{className:"notifications-list",children:[(0,Wa.jsx)("h3",{children:"All Notifications"}),c?(0,Wa.jsx)("div",{className:"loading",children:"Loading notifications..."}):(0,Wa.jsx)("div",{className:"notifications-grid",children:n.map(e=>{var t,n,r,s;return(0,Wa.jsxs)("div",{className:"notification-card",children:[(0,Wa.jsxs)("div",{className:"notification-header",children:[(0,Wa.jsx)("h4",{children:e.title}),(0,Wa.jsxs)("div",{className:"notification-meta",children:[(0,Wa.jsx)("span",{className:"type-badge",style:{backgroundColor:C(e.type)},children:e.type}),(0,Wa.jsx)("span",{className:"priority-badge",style:{backgroundColor:E(e.priority)},children:e.priority})]})]}),(0,Wa.jsx)("p",{className:"notification-message",children:e.message}),(0,Wa.jsxs)("div",{className:"notification-details",children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("strong",{children:"To:"})," ",null===(t=e.user)||void 0===t?void 0:t.name," (",null===(n=e.user)||void 0===n?void 0:n.email,")"]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("strong",{children:"From:"})," ",null===(r=e.sender)||void 0===r?void 0:r.name]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("strong",{children:"Sent:"})," ",(s=e.createdAt,new Date(s).toLocaleString())]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("strong",{children:"Status:"}),(0,Wa.jsx)("span",{className:"status ".concat(e.isRead?"read":"unread"),children:e.isRead?"Read":"Unread"})]})]}),(0,Wa.jsx)("div",{className:"notification-actions",children:(0,Wa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this notification?"))try{const t=localStorage.getItem("token");await Ua.delete("/api/notifications/admin/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),a(t=>t.filter(t=>t._id!==e)),p("Notification deleted successfully")}catch(im){m("Failed to delete notification")}})(e._id),className:"btn btn-danger btn-sm",children:"Delete"})})]},e._id)})})]})}),"stats"===e&&(0,Wa.jsx)("div",{className:"tab-content",children:(0,Wa.jsxs)("div",{className:"stats-container",children:[(0,Wa.jsx)("h3",{children:"Notification Statistics"}),c?(0,Wa.jsx)("div",{className:"loading",children:"Loading statistics..."}):o?(0,Wa.jsxs)("div",{className:"stats-grid",children:[(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h4",{children:"Overview"}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("span",{className:"stat-label",children:"Total Notifications:"}),(0,Wa.jsx)("span",{className:"stat-value",children:o.overview.totalNotifications})]}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("span",{className:"stat-label",children:"Read:"}),(0,Wa.jsx)("span",{className:"stat-value",children:o.overview.readNotifications})]}),(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsx)("span",{className:"stat-label",children:"Unread:"}),(0,Wa.jsx)("span",{className:"stat-value",children:o.overview.unreadNotifications})]})]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h4",{children:"By Type"}),o.byType.map(e=>(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsxs)("span",{className:"stat-label",children:[e._id,":"]}),(0,Wa.jsx)("span",{className:"stat-value",children:e.count})]},e._id))]}),(0,Wa.jsxs)("div",{className:"stat-card",children:[(0,Wa.jsx)("h4",{children:"By Priority"}),o.byPriority.map(e=>(0,Wa.jsxs)("div",{className:"stat-item",children:[(0,Wa.jsxs)("span",{className:"stat-label",children:[e._id,":"]}),(0,Wa.jsx)("span",{className:"stat-value",children:e.count})]},e._id))]})]}):(0,Wa.jsx)("div",{children:"No statistics available"})]})})]})},ld=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(""),[o,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(1),[u,m]=(0,r.useState)(1),[h,p]=(0,r.useState)(0),{updateUnreadCount:f}=gs(),g="http://localhost:5001/api",x=()=>localStorage.getItem("token"),v=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;try{a(!0);const r=x();if(!r)return void i("Please login to view notifications");const s={page:e,limit:10};"all"!==n&&(s.isRead="read"===n);const o=await Ua.get("".concat(g,"/notifications"),{headers:{Authorization:"Bearer ".concat(r)},params:s});"success"===o.data.status&&(t(o.data.data.notifications),m(o.data.totalPages||1),d(e),y())}catch(im){var r,s;console.error("Error fetching notifications:",im),i((null===(r=im.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Failed to fetch notifications")}finally{a(!1)}},y=async()=>{try{const e=x();if(!e)return;const t=await Ua.get("".concat(g,"/notifications"),{headers:{Authorization:"Bearer ".concat(e)},params:{isRead:!1,limit:1}});"success"===t.data.status&&p(t.data.totalResults||0)}catch(im){console.error("Error fetching unread count:",im)}},b=async e=>{try{const n=x();if(!n)return;await Ua.patch("".concat(g,"/notifications/").concat(e,"/read"),{},{headers:{Authorization:"Bearer ".concat(n)}}),t(t=>t.map(t=>t._id===e?Se(Se({},t),{},{isRead:!0,readAt:new Date}):t));const a=Math.max(0,h-1);p(a),f(a)}catch(im){console.error("Error marking notification as read:",im)}},j=e=>{l(e),d(1),v(1,e)},N=e=>{v(e)},w=e=>{const t=new Date(e),n=new Date,a=(n-t)/36e5;if(a<1){const e=Math.floor((n-t)/6e4);return"".concat(e," minute").concat(1!==e?"s":""," ago")}if(a<24){const e=Math.floor(a);return"".concat(e," hour").concat(1!==e?"s":""," ago")}if(a<168){const e=Math.floor(a/24);return"".concat(e," day").concat(1!==e?"s":""," ago")}return t.toLocaleDateString()},S=e=>{const t={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",system:"#6b7280",transaction:"#8b5cf6",promotion:"#ec4899"};return t[e]||t.info},k=e=>{const t={low:"#6b7280",medium:"#f59e0b",high:"#ef4444",urgent:"#dc2626"};return t[e]||t.medium};return(0,r.useEffect)(()=>{v();const e=e=>{const{notification:n,unreadCount:a}=e.detail;("all"===o||"unread"===o&&!n.isRead)&&t(e=>[n,...e]),p(a),f(a)},n=e=>{const{unreadCount:t}=e.detail;p(t),f(t)};return window.addEventListener("newNotification",e),window.addEventListener("notificationUpdated",n),()=>{window.removeEventListener("newNotification",e),window.removeEventListener("notificationUpdated",n)}},[o,f]),n&&0===e.length?(0,Wa.jsx)("div",{className:"user-notifications",children:(0,Wa.jsx)("div",{className:"loading",children:"Loading notifications..."})}):(0,Wa.jsxs)("div",{className:"user-notifications",children:[(0,Wa.jsxs)("div",{className:"notifications-header",children:[(0,Wa.jsx)("h2",{children:"Your Notifications"}),h>0&&(0,Wa.jsxs)("div",{className:"unread-badge",children:[h," unread"]})]}),s&&(0,Wa.jsx)("div",{className:"alert alert-error",children:s}),(0,Wa.jsxs)("div",{className:"notifications-controls",children:[(0,Wa.jsxs)("div",{className:"filter-tabs",children:[(0,Wa.jsx)("button",{className:"filter-tab ".concat("all"===o?"active":""),onClick:()=>j("all"),children:"All"}),(0,Wa.jsxs)("button",{className:"filter-tab ".concat("unread"===o?"active":""),onClick:()=>j("unread"),children:["Unread (",h,")"]}),(0,Wa.jsx)("button",{className:"filter-tab ".concat("read"===o?"active":""),onClick:()=>j("read"),children:"Read"})]}),h>0&&(0,Wa.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:async()=>{try{const e=x();if(!e)return;await Ua.patch("".concat(g,"/notifications/mark-all-read"),{},{headers:{Authorization:"Bearer ".concat(e)}}),t(e=>e.map(e=>Se(Se({},e),{},{isRead:!0,readAt:new Date}))),p(0),f(0)}catch(im){console.error("Error marking all notifications as read:",im)}},children:"Mark All as Read"})]}),(0,Wa.jsx)("div",{className:"notifications-list",children:0===e.length?(0,Wa.jsxs)("div",{className:"empty-state",children:[(0,Wa.jsx)("div",{className:"empty-icon",children:"\ud83d\udced"}),(0,Wa.jsx)("h3",{children:"No notifications found"}),(0,Wa.jsx)("p",{children:"unread"===o?"You're all caught up! No unread notifications.":"read"===o?"No read notifications to display.":"You don't have any notifications yet."})]}):e.map(e=>(0,Wa.jsxs)("div",{className:"notification-item ".concat(e.isRead?"":"unread"),onClick:()=>!e.isRead&&b(e._id),children:[(0,Wa.jsxs)("div",{className:"notification-content",children:[(0,Wa.jsxs)("div",{className:"notification-header",children:[(0,Wa.jsx)("h4",{className:"notification-title",children:e.title}),(0,Wa.jsxs)("div",{className:"notification-meta",children:[(0,Wa.jsx)("span",{className:"type-badge",style:{backgroundColor:S(e.type)},children:e.type}),(0,Wa.jsx)("span",{className:"priority-badge",style:{backgroundColor:k(e.priority)},children:e.priority})]})]}),(0,Wa.jsx)("p",{className:"notification-message",children:e.message}),(0,Wa.jsxs)("div",{className:"notification-footer",children:[(0,Wa.jsx)("span",{className:"notification-time",children:w(e.createdAt)}),e.isRead&&e.readAt&&(0,Wa.jsxs)("span",{className:"read-time",children:["Read ",w(e.readAt)]}),(0,Wa.jsxs)("div",{className:"notification-actions",children:[!e.isRead&&(0,Wa.jsx)("button",{className:"btn btn-sm btn-primary",onClick:t=>{t.stopPropagation(),b(e._id)},children:"Mark as Read"}),(0,Wa.jsx)("button",{className:"btn btn-sm btn-danger",onClick:n=>{n.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this notification?"))try{const n=x();if(!n)return;await Ua.delete("".concat(g,"/notifications/").concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),t(t=>t.filter(t=>t._id!==e))}catch(im){console.error("Error deleting notification:",im),i("Failed to delete notification")}})(e._id)},children:"Delete"})]})]})]}),!e.isRead&&(0,Wa.jsx)("div",{className:"unread-indicator"})]},e._id))}),u>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{className:"btn btn-sm",disabled:1===c,onClick:()=>N(c-1),children:"Previous"}),(0,Wa.jsxs)("span",{className:"page-info",children:["Page ",c," of ",u]}),(0,Wa.jsx)("button",{className:"btn btn-sm",disabled:c===u,onClick:()=>N(c+1),children:"Next"})]})]})},cd=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)("all"),[u,m]=(0,r.useState)({minAmount:"",maxAmount:"",charge:"",transferMode:"IMPS"});(0,r.useEffect)(()=>{h()},[c]);const h=async()=>{try{const e=localStorage.getItem("token"),n="all"!==c?{transferMode:c}:{},r=await Ua.get("/admin/charge-slabs",{headers:{Authorization:"Bearer ".concat(e)},params:n});t(r.data.data.chargeSlabs),a(!1)}catch(e){console.error("Error fetching charge slabs:",e),it.error("Failed to fetch charge slabs"),a(!1)}},p=()=>{m({minAmount:"",maxAmount:"",charge:"",transferMode:"IMPS"}),l(null),i(!1)},f=e=>{m(Se(Se({},u),{},{[e.target.name]:e.target.value}))};return n?(0,Wa.jsx)("div",{className:"loading",children:"Loading charge slabs..."}):(0,Wa.jsxs)("div",{className:"charge-slab-management",children:[(0,Wa.jsxs)("div",{className:"header",children:[(0,Wa.jsx)("h2",{children:"Charge Slab Management"}),(0,Wa.jsxs)("div",{className:"header-actions",children:[(0,Wa.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"filter-select",children:[(0,Wa.jsx)("option",{value:"all",children:"All Modes"}),(0,Wa.jsx)("option",{value:"IMPS",children:"IMPS Only"}),(0,Wa.jsx)("option",{value:"NEFT",children:"NEFT Only"})]}),(0,Wa.jsx)("button",{onClick:async()=>{const e=prompt("Enter amount to test charge calculation:");if(e&&!isNaN(e))try{const t=localStorage.getItem("token"),n=await Ua.post("/admin/charge-slabs/calculate",{amount:parseFloat(e),transferMode:"all"===c?"IMPS":c},{headers:{Authorization:"Bearer ".concat(t)}}),{amount:a,transferMode:r,charge:s,totalAmount:i}=n.data.data;it.success("Amount: \u20b9".concat(a," | Mode: ").concat(r," | Charge: \u20b9").concat(s," | Total: \u20b9").concat(i),{autoClose:5e3})}catch(t){console.error("Error calculating charge:",t),it.error("Failed to calculate charge")}},className:"btn btn-secondary",children:"Test Calculation"}),(0,Wa.jsx)("button",{onClick:()=>i(!0),className:"btn btn-primary",children:"Add New Slab"})]})]}),s&&(0,Wa.jsx)("div",{className:"modal-overlay",children:(0,Wa.jsxs)("div",{className:"modal",children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h3",{children:o?"Edit Charge Slab":"Add New Charge Slab"}),(0,Wa.jsx)("button",{onClick:p,className:"close-btn",children:"\xd7"})]}),(0,Wa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),parseFloat(u.minAmount)>=parseFloat(u.maxAmount))it.error("Minimum amount must be less than maximum amount");else try{const e=localStorage.getItem("token"),t={minAmount:parseFloat(u.minAmount),maxAmount:parseFloat(u.maxAmount),charge:parseFloat(u.charge),transferMode:u.transferMode};o?(await Ua.put("/admin/charge-slabs/".concat(o._id),t,{headers:{Authorization:"Bearer ".concat(e)}}),it.success("Charge slab updated successfully")):(await Ua.post("/admin/charge-slabs",t,{headers:{Authorization:"Bearer ".concat(e)}}),it.success("Charge slab created successfully")),p(),h()}catch(a){var t,n;console.error("Error saving charge slab:",a),it.error((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to save charge slab")}},className:"slab-form",children:[(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Minimum Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"minAmount",value:u.minAmount,onChange:f,required:!0,min:"0",step:"0.01"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Maximum Amount (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"maxAmount",value:u.maxAmount,onChange:f,required:!0,min:"0",step:"0.01"})]})]}),(0,Wa.jsxs)("div",{className:"form-row",children:[(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Charge (\u20b9)"}),(0,Wa.jsx)("input",{type:"number",name:"charge",value:u.charge,onChange:f,required:!0,min:"0",step:"0.01"})]}),(0,Wa.jsxs)("div",{className:"form-group",children:[(0,Wa.jsx)("label",{children:"Transfer Mode"}),(0,Wa.jsxs)("select",{name:"transferMode",value:u.transferMode,onChange:f,required:!0,children:[(0,Wa.jsx)("option",{value:"IMPS",children:"IMPS"}),(0,Wa.jsx)("option",{value:"NEFT",children:"NEFT"})]})]})]}),(0,Wa.jsxs)("div",{className:"form-actions",children:[(0,Wa.jsx)("button",{type:"button",onClick:p,className:"btn btn-secondary",children:"Cancel"}),(0,Wa.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[o?"Update":"Create"," Slab"]})]})]})]})}),(0,Wa.jsxs)("div",{className:"slabs-table",children:[(0,Wa.jsxs)("table",{children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Amount Range"}),(0,Wa.jsx)("th",{children:"Charge"}),(0,Wa.jsx)("th",{children:"Transfer Mode"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Created"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:e.map(e=>(0,Wa.jsxs)("tr",{className:e.isActive?"":"inactive",children:[(0,Wa.jsxs)("td",{children:["\u20b9",e.minAmount.toLocaleString()," - \u20b9",e.maxAmount.toLocaleString()]}),(0,Wa.jsxs)("td",{children:["\u20b9",e.charge]}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"mode-badge ".concat(e.transferMode.toLowerCase()),children:e.transferMode})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"status-badge ".concat(e.isActive?"active":"inactive"),children:e.isActive?"Active":"Inactive"})}),(0,Wa.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"action-buttons",children:[(0,Wa.jsx)("button",{onClick:()=>(e=>{l(e),m({minAmount:e.minAmount.toString(),maxAmount:e.maxAmount.toString(),charge:e.charge.toString(),transferMode:e.transferMode}),i(!0)})(e),className:"btn btn-sm btn-secondary",children:"Edit"}),(0,Wa.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Ua.put("/admin/charge-slabs/".concat(e._id),{isActive:!e.isActive},{headers:{Authorization:"Bearer ".concat(t)}}),it.success("Charge slab ".concat(e.isActive?"deactivated":"activated"," successfully")),h()}catch(t){console.error("Error updating charge slab status:",t),it.error("Failed to update charge slab status")}})(e),className:"btn btn-sm ".concat(e.isActive?"btn-warning":"btn-success"),children:e.isActive?"Deactivate":"Activate"}),(0,Wa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this charge slab?"))try{const t=localStorage.getItem("token");await Ua.delete("/admin/charge-slabs/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),it.success("Charge slab deleted successfully"),h()}catch(t){console.error("Error deleting charge slab:",t),it.error("Failed to delete charge slab")}})(e._id),className:"btn btn-sm btn-danger",children:"Delete"})]})})]},e._id))})]}),0===e.length&&(0,Wa.jsx)("div",{className:"no-data",children:(0,Wa.jsx)("p",{children:"No charge slabs found. Create your first charge slab to get started."})})]})]})},dd=()=>{var e,t,n,a,s,i,o,l,c;const[d,u]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[g,x]=(0,r.useState)(null),[v,y]=(0,r.useState)([]),[b,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[S,k]=(0,r.useState)({page:1,limit:50,transactionType:"",transactionStatus:"",userMobile:"",ipAddress:"",minAmount:"",maxAmount:"",minRiskScore:"",maxRiskScore:"",startDate:"",endDate:"",country:"",city:"",hasVpn:"",hasProxy:"",hasTor:"",sortBy:"createdAt",sortOrder:"desc"}),[C,E]=(0,r.useState)({currentPage:1,totalPages:1,totalCount:0,hasNext:!1,hasPrev:!1}),A=async()=>{try{const e=localStorage.getItem("token"),[t,n]=await Promise.all([fetch("/api/admin/audit/analytics/fraud?days=30",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),fetch("/api/admin/audit/analytics/location?days=30",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})]),a=await t.json(),r=await n.json();a.success&&x(a.data.analytics),r.success&&y(r.data.locationStats)}catch(im){console.error("Error fetching analytics:",im)}},T=(e,t)=>{k(n=>Se(Se({},n),{},{[e]:t,page:1}))},P=e=>{k(t=>Se(Se({},t),{},{page:e}))},R=e=>e>=80?"#dc3545":e>=60?"#fd7e14":e>=40?"#ffc107":e>=20?"#20c997":"#28a745",_=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);return(0,r.useEffect)(()=>{(async()=>{h(!0),f("");try{const e=localStorage.getItem("token"),t=new URLSearchParams;Object.entries(S).forEach(e=>{let[n,a]=e;""!==a&&null!==a&&void 0!==a&&t.append(n,a)});const n=await fetch("/api/admin/audit/transactions?".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),a=await n.json();a.success?(u(a.data.transactions),E(a.data.pagination)):f(a.message||"Failed to fetch audit data")}catch(im){f("Error fetching audit data: "+im.message)}finally{h(!1)}})()},[S]),(0,r.useEffect)(()=>{A()},[]),(0,Wa.jsxs)("div",{className:"audit-dashboard",children:[(0,Wa.jsxs)("div",{className:"dashboard-header",children:[(0,Wa.jsx)("h1",{children:"Transaction Audit Dashboard"}),(0,Wa.jsxs)("div",{className:"header-actions",children:[(0,Wa.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=new URLSearchParams;S.startDate&&t.append("startDate",S.startDate),S.endDate&&t.append("endDate",S.endDate),S.transactionType&&t.append("transactionType",S.transactionType),S.minRiskScore&&t.append("minRiskScore",S.minRiskScore);const n=await fetch("/api/admin/audit/export/csv?".concat(t),{headers:{Authorization:"Bearer ".concat(e)}});if(n.ok){const e=await n.blob(),t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="transaction-audit-".concat(Date.now(),".csv"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)}else f("Failed to export data")}catch(im){f("Error exporting data: "+im.message)}},className:"btn btn-export",children:"Export CSV"}),(0,Wa.jsx)("button",{onClick:A,className:"btn btn-refresh",children:"Refresh Analytics"})]})]}),g&&(0,Wa.jsxs)("div",{className:"analytics-cards",children:[(0,Wa.jsxs)("div",{className:"analytics-card",children:[(0,Wa.jsx)("h3",{children:"Total Transactions"}),(0,Wa.jsx)("div",{className:"card-value",children:g.totalTransactions||0})]}),(0,Wa.jsxs)("div",{className:"analytics-card high-risk",children:[(0,Wa.jsx)("h3",{children:"High Risk Transactions"}),(0,Wa.jsx)("div",{className:"card-value",children:g.highRiskTransactions||0})]}),(0,Wa.jsxs)("div",{className:"analytics-card vpn",children:[(0,Wa.jsx)("h3",{children:"VPN Detected"}),(0,Wa.jsx)("div",{className:"card-value",children:g.vpnTransactions||0})]}),(0,Wa.jsxs)("div",{className:"analytics-card proxy",children:[(0,Wa.jsx)("h3",{children:"Proxy Detected"}),(0,Wa.jsx)("div",{className:"card-value",children:g.proxyTransactions||0})]}),(0,Wa.jsxs)("div",{className:"analytics-card amount",children:[(0,Wa.jsx)("h3",{children:"Total Amount"}),(0,Wa.jsx)("div",{className:"card-value",children:_(g.totalAmount||0)})]}),(0,Wa.jsxs)("div",{className:"analytics-card risk",children:[(0,Wa.jsx)("h3",{children:"Avg Risk Score"}),(0,Wa.jsx)("div",{className:"card-value",children:(g.averageRiskScore||0).toFixed(1)})]})]}),(0,Wa.jsxs)("div",{className:"filters-section",children:[(0,Wa.jsx)("h3",{children:"Filters"}),(0,Wa.jsxs)("div",{className:"filters-grid",children:[(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Transaction Type"}),(0,Wa.jsxs)("select",{value:S.transactionType,onChange:e=>T("transactionType",e.target.value),children:[(0,Wa.jsx)("option",{value:"",children:"All Types"}),(0,Wa.jsx)("option",{value:"DMT",children:"DMT"}),(0,Wa.jsx)("option",{value:"AEPS",children:"AEPS"}),(0,Wa.jsx)("option",{value:"RECHARGE",children:"Recharge"}),(0,Wa.jsx)("option",{value:"VOUCHER",children:"Voucher"})]})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Status"}),(0,Wa.jsxs)("select",{value:S.transactionStatus,onChange:e=>T("transactionStatus",e.target.value),children:[(0,Wa.jsx)("option",{value:"",children:"All Status"}),(0,Wa.jsx)("option",{value:"SUCCESS",children:"Success"}),(0,Wa.jsx)("option",{value:"FAILED",children:"Failed"}),(0,Wa.jsx)("option",{value:"PENDING",children:"Pending"}),(0,Wa.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"User Mobile"}),(0,Wa.jsx)("input",{type:"text",value:S.userMobile,onChange:e=>T("userMobile",e.target.value),placeholder:"Enter mobile number"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"IP Address"}),(0,Wa.jsx)("input",{type:"text",value:S.ipAddress,onChange:e=>T("ipAddress",e.target.value),placeholder:"Enter IP address"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Min Amount"}),(0,Wa.jsx)("input",{type:"number",value:S.minAmount,onChange:e=>T("minAmount",e.target.value),placeholder:"Min amount"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Max Amount"}),(0,Wa.jsx)("input",{type:"number",value:S.maxAmount,onChange:e=>T("maxAmount",e.target.value),placeholder:"Max amount"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Min Risk Score"}),(0,Wa.jsx)("input",{type:"number",value:S.minRiskScore,onChange:e=>T("minRiskScore",e.target.value),placeholder:"0-100",min:"0",max:"100"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Max Risk Score"}),(0,Wa.jsx)("input",{type:"number",value:S.maxRiskScore,onChange:e=>T("maxRiskScore",e.target.value),placeholder:"0-100",min:"0",max:"100"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Start Date"}),(0,Wa.jsx)("input",{type:"datetime-local",value:S.startDate,onChange:e=>T("startDate",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"End Date"}),(0,Wa.jsx)("input",{type:"datetime-local",value:S.endDate,onChange:e=>T("endDate",e.target.value)})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"Country"}),(0,Wa.jsx)("input",{type:"text",value:S.country,onChange:e=>T("country",e.target.value),placeholder:"Country code (e.g., IN)"})]}),(0,Wa.jsxs)("div",{className:"filter-group",children:[(0,Wa.jsx)("label",{children:"City"}),(0,Wa.jsx)("input",{type:"text",value:S.city,onChange:e=>T("city",e.target.value),placeholder:"City name"})]})]}),(0,Wa.jsx)("div",{className:"filter-actions",children:(0,Wa.jsx)("button",{onClick:()=>{k({page:1,limit:50,transactionType:"",transactionStatus:"",userMobile:"",ipAddress:"",minAmount:"",maxAmount:"",minRiskScore:"",maxRiskScore:"",startDate:"",endDate:"",country:"",city:"",hasVpn:"",hasProxy:"",hasTor:"",sortBy:"createdAt",sortOrder:"desc"})},className:"btn btn-clear",children:"Clear All Filters"})})]}),p&&(0,Wa.jsx)("div",{className:"error-message",children:p}),m&&(0,Wa.jsx)("div",{className:"loading",children:"Loading audit data..."}),!m&&d.length>0&&(0,Wa.jsx)("div",{className:"audit-table-container",children:(0,Wa.jsxs)("table",{className:"audit-table",children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Date/Time"}),(0,Wa.jsx)("th",{children:"Type"}),(0,Wa.jsx)("th",{children:"Name"}),(0,Wa.jsx)("th",{children:"User Mobile"}),(0,Wa.jsx)("th",{children:"Amount"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"IP Address"}),(0,Wa.jsx)("th",{children:"Location"}),(0,Wa.jsx)("th",{children:"Risk Score"}),(0,Wa.jsx)("th",{children:"Security Flags"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:d.map(e=>{var t,n,a,r,s,i,o,l,c,d,u,m,h;return(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(h=e.createdAt,new Date(h).toLocaleString("en-IN"))}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"transaction-type ".concat(e.transactionType.toLowerCase()),children:e.transactionType})}),(0,Wa.jsx)("td",{children:(null===(t=e.userId)||void 0===t?void 0:t.name)||"N/A"}),(0,Wa.jsx)("td",{children:e.userMobile||"N/A"}),(0,Wa.jsx)("td",{children:_(e.transactionAmount)}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"status ".concat(e.transactionStatus.toLowerCase()),children:e.transactionStatus})}),(0,Wa.jsx)("td",{children:e.ipAddress}),(0,Wa.jsx)("td",{children:null!==(n=e.location)&&void 0!==n&&null!==(a=n.address)&&void 0!==a&&a.city||null!==(r=e.location)&&void 0!==r&&null!==(s=r.address)&&void 0!==s&&s.country?"".concat(e.location.address.city||"Unknown City",", ").concat(e.location.address.country||"Unknown Country"):"Location not available"}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("span",{className:"risk-score",style:{color:R((null===(i=e.securityFlags)||void 0===i?void 0:i.riskScore)||0)},children:(null===(o=e.securityFlags)||void 0===o?void 0:o.riskScore)||0})}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"security-flags",children:[(null===(l=e.securityFlags)||void 0===l?void 0:l.isVpnDetected)&&(0,Wa.jsx)("span",{className:"flag vpn",children:"VPN"}),(null===(c=e.securityFlags)||void 0===c?void 0:c.isProxyDetected)&&(0,Wa.jsx)("span",{className:"flag proxy",children:"PROXY"}),(null===(d=e.securityFlags)||void 0===d?void 0:d.isTorDetected)&&(0,Wa.jsx)("span",{className:"flag tor",children:"TOR"}),(null===(u=e.securityFlags)||void 0===u||null===(m=u.fraudFlags)||void 0===m?void 0:m.length)>0&&(0,Wa.jsx)("span",{className:"flag fraud",children:"FRAUD"})]})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("button",{onClick:()=>(e=>{j(e),w(!0)})(e),className:"btn btn-view",children:"View Details"})})]},e._id)})})]})}),C.totalPages>1&&(0,Wa.jsxs)("div",{className:"pagination",children:[(0,Wa.jsx)("button",{onClick:()=>P(C.currentPage-1),disabled:!C.hasPrev,className:"btn btn-pagination",children:"Previous"}),(0,Wa.jsxs)("span",{className:"pagination-info",children:["Page ",C.currentPage," of ",C.totalPages,"(",C.totalCount," total records)"]}),(0,Wa.jsx)("button",{onClick:()=>P(C.currentPage+1),disabled:!C.hasNext,className:"btn btn-pagination",children:"Next"})]}),!m&&0===d.length&&(0,Wa.jsx)("div",{className:"no-data",children:"No audit data found for the selected filters."}),N&&b&&(0,Wa.jsx)("div",{className:"modal-overlay",onClick:()=>w(!1),children:(0,Wa.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Wa.jsxs)("div",{className:"modal-header",children:[(0,Wa.jsx)("h2",{children:"Transaction Audit Details"}),(0,Wa.jsx)("button",{onClick:()=>w(!1),className:"modal-close",children:"\xd7"})]}),(0,Wa.jsx)("div",{className:"modal-body",children:(0,Wa.jsxs)("div",{className:"details-grid",children:[(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h3",{children:"Transaction Information"}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Transaction ID:"}),(0,Wa.jsx)("span",{children:b.transactionId})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Reference:"}),(0,Wa.jsx)("span",{children:b.transactionReference})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Type:"}),(0,Wa.jsx)("span",{children:b.transactionType})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Amount:"}),(0,Wa.jsx)("span",{children:_(b.transactionAmount)})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Status:"}),(0,Wa.jsx)("span",{children:b.transactionStatus})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h3",{children:"User Information"}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Name:"}),(0,Wa.jsx)("span",{children:(null===(e=b.userId)||void 0===e?void 0:e.name)||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Mobile:"}),(0,Wa.jsx)("span",{children:b.userMobile||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"User ID:"}),(0,Wa.jsx)("span",{children:(null===(t=b.userId)||void 0===t?void 0:t._id)||b.userId})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h3",{children:"Device & Network"}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"IP Address:"}),(0,Wa.jsx)("span",{children:b.ipAddress})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Device Fingerprint:"}),(0,Wa.jsx)("span",{children:b.deviceFingerprint||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"User Agent:"}),(0,Wa.jsx)("span",{className:"user-agent",children:b.userAgent})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsxs)("h3",{children:[(0,Wa.jsx)("i",{className:"fas fa-map-marker-alt me-2"}),"Location Details"]}),b.location&&b.location.latitude&&b.location.longitude?(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Precise Coordinates:"}),(0,Wa.jsxs)("span",{className:"coordinate-display",children:[(0,Wa.jsxs)("strong",{children:[parseFloat(b.location.latitude).toFixed(6),", ",parseFloat(b.location.longitude).toFixed(6)]}),b.location.accuracy&&(0,Wa.jsxs)("small",{className:"text-muted ms-2",children:["(\xb1",Math.round(b.location.accuracy),"m accuracy)"]})]})]}),b.location.altitude&&(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Altitude:"}),(0,Wa.jsxs)("span",{children:[Math.round(b.location.altitude),"m above sea level"]})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Address:"}),(0,Wa.jsx)("span",{children:b.location.address?(0,Wa.jsxs)("div",{className:"address-display",children:[b.location.address.city&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:"City:"})," ",b.location.address.city]}),b.location.address.state&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:"State:"})," ",b.location.address.state]}),b.location.address.country&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:"Country:"})," ",b.location.address.country]}),b.location.address.postalCode&&(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("strong",{children:"Postal Code:"})," ",b.location.address.postalCode]})]}):"Address not available"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Map View:"}),(0,Wa.jsx)("span",{children:(0,Wa.jsxs)("a",{href:"https://www.google.com/maps?q=".concat(b.location.latitude,",").concat(b.location.longitude),target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[(0,Wa.jsx)("i",{className:"fas fa-external-link-alt me-1"}),"View on Google Maps"]})})]}),b.location.timezone&&(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Timezone:"}),(0,Wa.jsx)("span",{children:b.location.timezone})]})]}):(0,Wa.jsxs)("div",{className:"alert alert-warning",children:[(0,Wa.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,Wa.jsx)("strong",{children:"Location not available"}),(0,Wa.jsx)("br",{}),(0,Wa.jsx)("small",{children:"This transaction was completed without precise location data."})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h3",{children:"Security Analysis"}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Risk Score:"}),(0,Wa.jsxs)("span",{style:{color:R((null===(n=b.securityFlags)||void 0===n?void 0:n.riskScore)||0),fontWeight:"bold"},children:[(null===(a=b.securityFlags)||void 0===a?void 0:a.riskScore)||0,"/100"]})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"VPN Detected:"}),(0,Wa.jsx)("span",{children:null!==(s=b.securityFlags)&&void 0!==s&&s.isVpnDetected?"Yes":"No"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Proxy Detected:"}),(0,Wa.jsx)("span",{children:null!==(i=b.securityFlags)&&void 0!==i&&i.isProxyDetected?"Yes":"No"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Tor Detected:"}),(0,Wa.jsx)("span",{children:null!==(o=b.securityFlags)&&void 0!==o&&o.isTorDetected?"Yes":"No"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Fraud Flags:"}),(0,Wa.jsx)("span",{children:(null===(l=b.securityFlags)||void 0===l||null===(c=l.fraudFlags)||void 0===c?void 0:c.length)>0?b.securityFlags.fraudFlags.join(", "):"None"})]})]}),(0,Wa.jsxs)("div",{className:"detail-section",children:[(0,Wa.jsx)("h3",{children:"Browser Information"}),b.browserInfo&&(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Browser:"}),(0,Wa.jsxs)("span",{children:[b.browserInfo.name," ",b.browserInfo.version]})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Platform:"}),(0,Wa.jsx)("span",{children:b.browserInfo.platform})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Screen Resolution:"}),(0,Wa.jsx)("span",{children:b.browserInfo.screenResolution||"N/A"})]}),(0,Wa.jsxs)("div",{className:"detail-item",children:[(0,Wa.jsx)("label",{children:"Language:"}),(0,Wa.jsx)("span",{children:b.browserInfo.language||"N/A"})]})]})]})]})})]})})]})},ud=["bsPrefix","fluid","as","className"],md=r.forwardRef((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:r="div",className:s}=e,i=Ce(e,ud);const o=Co(n,"container"),l="string"===typeof a?"-".concat(a):"-fluid";return(0,Wa.jsx)(r,Se(Se({ref:t},i),{},{className:$s()(s,a?"".concat(o).concat(l):o)}))});md.displayName="Container";const hd=md,pd=["bsPrefix","className","as"],fd=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:r="div"}=e,s=Ce(e,pd);const i=Co(n,"row"),o=Eo(),l=Ao(),c="".concat(i,"-cols"),d=[];return o.forEach(e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const a=e!==l?"-".concat(e):"";null!=n&&d.push("".concat(c).concat(a,"-").concat(n))}),(0,Wa.jsx)(r,Se(Se({ref:t},s),{},{className:$s()(a,i,...d)}))});fd.displayName="Row";const gd=fd,xd=["as","bsPrefix","className"],vd=["className"];const yd=r.forwardRef((e,t)=>{const[n,{as:a="div",bsPrefix:r,spans:s}]=function(e){let{as:t,bsPrefix:n,className:a}=e,r=Ce(e,xd);n=Co(n,"col");const s=Eo(),i=Ao(),o=[],l=[];return s.forEach(e=>{const t=r[e];let a,s,c;delete r[e],"object"===typeof t&&null!=t?({span:a,offset:s,order:c}=t):a=t;const d=e!==i?"-".concat(e):"";a&&o.push(!0===a?"".concat(n).concat(d):"".concat(n).concat(d,"-").concat(a)),null!=c&&l.push("order".concat(d,"-").concat(c)),null!=s&&l.push("offset".concat(d,"-").concat(s))}),[Se(Se({},r),{},{className:$s()(a,...o,...l)}),{as:t,bsPrefix:n,spans:o}]}(e),{className:i}=n,o=Ce(n,vd);return(0,Wa.jsx)(a,Se(Se({},o),{},{ref:t,className:$s()(i,!s.length&&r)}))});yd.displayName="Col";const bd=yd,jd=["className","bsPrefix","as"],Nd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,jd);return a=Co(a,"card-body"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Nd.displayName="CardBody";const wd=Nd,Sd=["className","bsPrefix","as"],kd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,Sd);return a=Co(a,"card-footer"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});kd.displayName="CardFooter";const Cd=kd,Ed=r.createContext(null);Ed.displayName="CardHeaderContext";const Ad=Ed,Td=["bsPrefix","className","as"],Pd=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:s="div"}=e,i=Ce(e,Td);const o=Co(n,"card-header"),l=(0,r.useMemo)(()=>({cardHeaderBsPrefix:o}),[o]);return(0,Wa.jsx)(Ad.Provider,{value:l,children:(0,Wa.jsx)(s,Se(Se({ref:t},i),{},{className:$s()(a,o)}))})});Pd.displayName="CardHeader";const Rd=Pd,_d=["bsPrefix","className","variant","as"],Od=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,variant:r,as:s="img"}=e,i=Ce(e,_d);const o=Co(n,"card-img");return(0,Wa.jsx)(s,Se({ref:t,className:$s()(r?"".concat(o,"-").concat(r):o,a)},i))});Od.displayName="CardImg";const Id=Od,Ld=["className","bsPrefix","as"],Dd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,Ld);return a=Co(a,"card-img-overlay"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Dd.displayName="CardImgOverlay";const Bd=Dd,Fd=["className","bsPrefix","as"],Md=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="a"}=e,s=Ce(e,Fd);return a=Co(a,"card-link"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Md.displayName="CardLink";const zd=Md,Ud=["className","bsPrefix","as"],Wd=Jo("h6"),Vd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r=Wd}=e,s=Ce(e,Ud);return a=Co(a,"card-subtitle"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Vd.displayName="CardSubtitle";const qd=Vd,Hd=["className","bsPrefix","as"],Kd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="p"}=e,s=Ce(e,Hd);return a=Co(a,"card-text"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Kd.displayName="CardText";const Qd=Kd,$d=["className","bsPrefix","as"],Gd=Jo("h5"),Yd=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r=Gd}=e,s=Ce(e,$d);return a=Co(a,"card-title"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});Yd.displayName="CardTitle";const Jd=Yd,Xd=["bsPrefix","className","bg","text","border","body","children","as"],Zd=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,bg:r,text:s,border:i,body:o=!1,children:l,as:c="div"}=e,d=Ce(e,Xd);const u=Co(n,"card");return(0,Wa.jsx)(c,Se(Se({ref:t},d),{},{className:$s()(a,u,r&&"bg-".concat(r),s&&"text-".concat(s),i&&"border-".concat(i)),children:o?(0,Wa.jsx)(wd,{children:l}):l}))});Zd.displayName="Card";const eu=Object.assign(Zd,{Img:Id,Title:Jd,Subtitle:qd,Body:wd,Link:zd,Text:Qd,Header:Rd,Footer:Cd,ImgOverlay:Bd}),tu=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],nu=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,striped:r,bordered:s,borderless:i,hover:o,size:l,variant:c,responsive:d}=e,u=Ce(e,tu);const m=Co(n,"table"),h=$s()(a,m,c&&"".concat(m,"-").concat(c),l&&"".concat(m,"-").concat(l),r&&"".concat(m,"-").concat("string"===typeof r?"striped-".concat(r):"striped"),s&&"".concat(m,"-bordered"),i&&"".concat(m,"-borderless"),o&&"".concat(m,"-hover")),p=(0,Wa.jsx)("table",Se(Se({},u),{},{className:h,ref:t}));if(d){let e="".concat(m,"-responsive");return"string"===typeof d&&(e="".concat(e,"-").concat(d)),(0,Wa.jsx)("div",{className:e,children:p})}return p});nu.displayName="Table";const au=nu,ru=["bsPrefix","bg","pill","text","className","as"],su=r.forwardRef((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:r=!1,text:s,className:i,as:o="span"}=e,l=Ce(e,ru);const c=Co(n,"badge");return(0,Wa.jsx)(o,Se(Se({ref:t},l),{},{className:$s()(i,c,r&&"rounded-pill",s&&"text-".concat(s),a&&"bg-".concat(a))}))});su.displayName="Badge";const iu=su,ou=["as","className","type","tooltip"],lu={type:zo().string,tooltip:zo().bool,as:zo().elementType},cu=r.forwardRef((e,t)=>{let{as:n="div",className:a,type:r="valid",tooltip:s=!1}=e,i=Ce(e,ou);return(0,Wa.jsx)(n,Se(Se({},i),{},{ref:t,className:$s()(a,"".concat(r,"-").concat(s?"tooltip":"feedback"))}))});cu.displayName="Feedback",cu.propTypes=lu;const du=cu,uu=r.createContext({}),mu=["id","bsPrefix","className","type","isValid","isInvalid","as"],hu=r.forwardRef((e,t)=>{let{id:n,bsPrefix:a,className:s,type:i="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input"}=e,d=Ce(e,mu);const{controlId:u}=(0,r.useContext)(uu);return a=Co(a,"form-check-input"),(0,Wa.jsx)(c,Se(Se({},d),{},{ref:t,type:i,id:n||u,className:$s()(s,a,o&&"is-valid",l&&"is-invalid")}))});hu.displayName="FormCheckInput";const pu=hu,fu=["bsPrefix","className","htmlFor"],gu=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,htmlFor:s}=e,i=Ce(e,fu);const{controlId:o}=(0,r.useContext)(uu);return n=Co(n,"form-check-label"),(0,Wa.jsx)("label",Se(Se({},i),{},{ref:t,htmlFor:s||o,className:$s()(a,n)}))});gu.displayName="FormCheckLabel";const xu=gu;const vu=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],yu=r.forwardRef((e,t)=>{let{id:n,bsPrefix:a,bsSwitchPrefix:s,inline:i=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:m,feedbackType:h,className:p,style:f,title:g="",type:x="checkbox",label:v,children:y,as:b="input"}=e,j=Ce(e,vu);a=Co(a,"form-check"),s=Co(s,"form-switch");const{controlId:N}=(0,r.useContext)(uu),w=(0,r.useMemo)(()=>({controlId:n||N}),[N,n]),S=!y&&null!=v&&!1!==v||function(e,t){return r.Children.toArray(e).some(e=>r.isValidElement(e)&&e.type===t)}(y,xu),k=(0,Wa.jsx)(pu,Se(Se({},j),{},{type:"switch"===x?"checkbox":x,ref:t,isValid:c,isInvalid:d,disabled:l,as:b}));return(0,Wa.jsx)(uu.Provider,{value:w,children:(0,Wa.jsx)("div",{style:f,className:$s()(p,S&&a,i&&"".concat(a,"-inline"),o&&"".concat(a,"-reverse"),"switch"===x&&s),children:y||(0,Wa.jsxs)(Wa.Fragment,{children:[k,S&&(0,Wa.jsx)(xu,{title:g,children:v}),m&&(0,Wa.jsx)(du,{type:h,tooltip:u,children:m})]})})})});yu.displayName="FormCheck";const bu=Object.assign(yu,{Input:pu,Label:xu});n(440);const ju=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Nu=r.forwardRef((e,t)=>{let{bsPrefix:n,type:a,size:s,htmlSize:i,id:o,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:m,as:h="input"}=e,p=Ce(e,ju);const{controlId:f}=(0,r.useContext)(uu);return n=Co(n,"form-control"),(0,Wa.jsx)(h,Se(Se({},p),{},{type:a,size:i,ref:t,readOnly:m,id:o||f,className:$s()(l,u?"".concat(n,"-plaintext"):n,s&&"".concat(n,"-").concat(s),"color"===a&&"".concat(n,"-color"),c&&"is-valid",d&&"is-invalid")}))});Nu.displayName="FormControl";const wu=Object.assign(Nu,{Feedback:du}),Su=["className","bsPrefix","as"],ku=r.forwardRef((e,t)=>{let{className:n,bsPrefix:a,as:r="div"}=e,s=Ce(e,Su);return a=Co(a,"form-floating"),(0,Wa.jsx)(r,Se({ref:t,className:$s()(n,a)},s))});ku.displayName="FormFloating";const Cu=ku,Eu=["controlId","as"],Au=r.forwardRef((e,t)=>{let{controlId:n,as:a="div"}=e,s=Ce(e,Eu);const i=(0,r.useMemo)(()=>({controlId:n}),[n]);return(0,Wa.jsx)(uu.Provider,{value:i,children:(0,Wa.jsx)(a,Se(Se({},s),{},{ref:t}))})});Au.displayName="FormGroup";const Tu=Au,Pu=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Ru=r.forwardRef((e,t)=>{let{as:n="label",bsPrefix:a,column:s=!1,visuallyHidden:i=!1,className:o,htmlFor:l}=e,c=Ce(e,Pu);const{controlId:d}=(0,r.useContext)(uu);a=Co(a,"form-label");let u="col-form-label";"string"===typeof s&&(u="".concat(u," ").concat(u,"-").concat(s));const m=$s()(o,a,i&&"visually-hidden",s&&u);return l=l||d,s?(0,Wa.jsx)(bd,Se({ref:t,as:"label",className:m,htmlFor:l},c)):(0,Wa.jsx)(n,Se({ref:t,className:m,htmlFor:l},c))});Ru.displayName="FormLabel";const _u=Ru,Ou=["bsPrefix","className","id"],Iu=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,id:s}=e,i=Ce(e,Ou);const{controlId:o}=(0,r.useContext)(uu);return n=Co(n,"form-range"),(0,Wa.jsx)("input",Se(Se({},i),{},{type:"range",ref:t,className:$s()(a,n),id:s||o}))});Iu.displayName="FormRange";const Lu=Iu,Du=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Bu=r.forwardRef((e,t)=>{let{bsPrefix:n,size:a,htmlSize:s,className:i,isValid:o=!1,isInvalid:l=!1,id:c}=e,d=Ce(e,Du);const{controlId:u}=(0,r.useContext)(uu);return n=Co(n,"form-select"),(0,Wa.jsx)("select",Se(Se({},d),{},{size:s,ref:t,className:$s()(i,n,a&&"".concat(n,"-").concat(a),o&&"is-valid",l&&"is-invalid"),id:c||u}))});Bu.displayName="FormSelect";const Fu=Bu,Mu=["bsPrefix","className","as","muted"],zu=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,as:r="small",muted:s}=e,i=Ce(e,Mu);return n=Co(n,"form-text"),(0,Wa.jsx)(r,Se(Se({},i),{},{ref:t,className:$s()(a,n,s&&"text-muted")}))});zu.displayName="FormText";const Uu=zu,Wu=r.forwardRef((e,t)=>(0,Wa.jsx)(bu,Se(Se({},e),{},{ref:t,type:"switch"})));Wu.displayName="Switch";const Vu=Object.assign(Wu,{Input:bu.Input,Label:bu.Label}),qu=["bsPrefix","className","children","controlId","label"],Hu=r.forwardRef((e,t)=>{let{bsPrefix:n,className:a,children:r,controlId:s,label:i}=e,o=Ce(e,qu);return n=Co(n,"form-floating"),(0,Wa.jsxs)(Tu,Se(Se({ref:t,className:$s()(a,n),controlId:s},o),{},{children:[r,(0,Wa.jsx)("label",{htmlFor:s,children:i})]}))});Hu.displayName="FloatingLabel";const Ku=Hu,Qu=["className","validated","as"],$u={_ref:zo().any,validated:zo().bool,as:zo().elementType},Gu=r.forwardRef((e,t)=>{let{className:n,validated:a,as:r="form"}=e,s=Ce(e,Qu);return(0,Wa.jsx)(r,Se(Se({},s),{},{ref:t,className:$s()(n,a&&"was-validated")}))});Gu.displayName="Form",Gu.propTypes=$u;const Yu=Object.assign(Gu,{Group:Tu,Control:wu,Floating:Cu,Check:bu,Switch:Vu,Label:_u,Text:Uu,Range:Lu,Select:Fu,FloatingLabel:Ku}),Ju=()=>{var e;const[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)({name:"",upiId:"",description:"",isActive:!0,isDefault:!1}),[m,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[g,x]=(0,r.useState)({show:!1,message:"",variant:"success"}),[v,y]=(0,r.useState)({total:0,active:0,default:null});(0,r.useEffect)(()=>{b(),j()},[]);const b=async()=>{try{const e=(await Ua.get("/upi-barcodes",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.barcodes;n(e);const t=e.find(e=>e.isDefault);y(e=>Se(Se({},e),{},{default:t}))}catch(e){N("Error fetching barcodes","danger")}finally{s(!1)}},j=async()=>{try{const e=(await Ua.get("/upi-barcodes/admin/stats",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})).data.data.stats;y({total:e.totalBarcodes||0,active:e.activeBarcodes||0,default:null})}catch(e){console.error("Error fetching stats:",e)}},N=function(e){x({show:!0,message:e,variant:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>x({show:!1,message:"",variant:"success"}),5e3)},w=()=>{o(!1),c(null),u({name:"",upiId:"",description:"",isActive:!0,isDefault:!1}),h(null),f("")};return a?(0,Wa.jsx)(hd,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:(0,Wa.jsx)(_l,{animation:"border",role:"status",children:(0,Wa.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,Wa.jsxs)(hd,{fluid:!0,className:"py-4",children:[(0,Wa.jsxs)(gd,{className:"mb-4",children:[(0,Wa.jsxs)(bd,{children:[(0,Wa.jsx)("h2",{children:"UPI Barcode Management"}),(0,Wa.jsx)("p",{className:"text-muted",children:"Manage UPI payment barcodes for your application"})]}),(0,Wa.jsx)(bd,{xs:"auto",children:(0,Wa.jsxs)(Ll,{variant:"primary",onClick:()=>{c(null),u({name:"",upiId:"",description:"",isActive:!0}),h(null),f(""),o(!0)},children:[(0,Wa.jsx)("i",{className:"fas fa-plus me-2"}),"Add New Barcode"]})})]}),g.show&&(0,Wa.jsx)(Tl,{variant:g.variant,dismissible:!0,onClose:()=>x({show:!1,message:"",variant:"success"}),children:g.message}),(0,Wa.jsxs)(gd,{className:"mb-4",children:[(0,Wa.jsx)(bd,{md:4,children:(0,Wa.jsx)(eu,{children:(0,Wa.jsxs)(eu.Body,{children:[(0,Wa.jsx)("h5",{children:"Total Barcodes"}),(0,Wa.jsx)("h3",{className:"text-primary",children:v.total})]})})}),(0,Wa.jsx)(bd,{md:4,children:(0,Wa.jsx)(eu,{children:(0,Wa.jsxs)(eu.Body,{children:[(0,Wa.jsx)("h5",{children:"Active Barcodes"}),(0,Wa.jsx)("h3",{className:"text-success",children:v.active})]})})}),(0,Wa.jsx)(bd,{md:4,children:(0,Wa.jsx)(eu,{children:(0,Wa.jsxs)(eu.Body,{children:[(0,Wa.jsx)("h5",{children:"Default Barcode"}),(0,Wa.jsx)("h6",{className:"text-info",children:(null===(e=v.default)||void 0===e?void 0:e.name)||"None set"})]})})})]}),(0,Wa.jsxs)(eu,{children:[(0,Wa.jsx)(eu.Header,{children:(0,Wa.jsx)("h5",{className:"mb-0",children:"UPI Barcodes"})}),(0,Wa.jsx)(eu.Body,{children:0===t.length?(0,Wa.jsxs)("div",{className:"text-center py-4",children:[(0,Wa.jsx)("i",{className:"fas fa-qrcode fa-3x text-muted mb-3"}),(0,Wa.jsx)("p",{className:"text-muted",children:"No barcodes found. Add your first UPI barcode to get started."})]}):(0,Wa.jsxs)(au,{responsive:!0,striped:!0,hover:!0,children:[(0,Wa.jsx)("thead",{children:(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("th",{children:"Preview"}),(0,Wa.jsx)("th",{children:"Name"}),(0,Wa.jsx)("th",{children:"UPI ID"}),(0,Wa.jsx)("th",{children:"Status"}),(0,Wa.jsx)("th",{children:"Default"}),(0,Wa.jsx)("th",{children:"Usage Count"}),(0,Wa.jsx)("th",{children:"Actions"})]})}),(0,Wa.jsx)("tbody",{children:t.map(e=>(0,Wa.jsxs)("tr",{children:[(0,Wa.jsx)("td",{children:(0,Wa.jsx)("img",{src:e.barcodeUrl,alt:e.name,style:{width:"50px",height:"50px",objectFit:"cover"},className:"rounded"})}),(0,Wa.jsxs)("td",{children:[(0,Wa.jsx)("strong",{children:e.name}),e.description&&(0,Wa.jsx)("div",{className:"text-muted small",children:e.description})]}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)("code",{children:e.upiId})}),(0,Wa.jsx)("td",{children:(0,Wa.jsx)(iu,{bg:e.isActive?"success":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,Wa.jsx)("td",{children:e.isDefault?(0,Wa.jsxs)(iu,{bg:"warning",children:[(0,Wa.jsx)("i",{className:"fas fa-star me-1"}),"Default"]}):(0,Wa.jsx)(Ll,{variant:"outline-warning",size:"sm",onClick:()=>(async e=>{try{await Ua.put("/upi-barcodes/".concat(e,"/set-default"),{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),N("Default barcode updated successfully"),b(),j()}catch(t){N("Error setting default barcode","danger")}})(e._id),children:(0,Wa.jsx)("i",{className:"far fa-star"})})}),(0,Wa.jsx)("td",{children:e.usageCount||0}),(0,Wa.jsx)("td",{children:(0,Wa.jsxs)("div",{className:"d-flex gap-2",children:[(0,Wa.jsx)(Ll,{variant:"outline-primary",size:"sm",onClick:()=>(e=>{c(e),u({name:e.name,upiId:e.upiId,description:e.description||"",isActive:e.isActive,isDefault:e.isDefault}),f(e.barcodeUrl),o(!0)})(e),children:(0,Wa.jsx)("i",{className:"fas fa-edit"})}),(0,Wa.jsx)(Ll,{variant:e.isActive?"outline-secondary":"outline-success",size:"sm",onClick:()=>(async(e,t)=>{try{await Ua.put("/upi-barcodes/".concat(e),{isActive:!t},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),N("Barcode ".concat(t?"deactivated":"activated"," successfully")),b(),j()}catch(n){N("Error updating barcode status","danger")}})(e._id,e.isActive),children:(0,Wa.jsx)("i",{className:"fas fa-".concat(e.isActive?"pause":"play")})}),(0,Wa.jsx)(Ll,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this barcode?"))try{await Ua.delete("/upi-barcodes/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),N("Barcode deleted successfully"),b(),j()}catch(t){N("Error deleting barcode","danger")}})(e._id),children:(0,Wa.jsx)("i",{className:"fas fa-trash"})})]})})]},e._id))})]})})]}),(0,Wa.jsxs)(il,{show:i,onHide:w,size:"lg",children:[(0,Wa.jsx)(il.Header,{closeButton:!0,children:(0,Wa.jsx)(il.Title,{children:l?"Edit UPI Barcode":"Add New UPI Barcode"})}),(0,Wa.jsxs)(Yu,{onSubmit:async e=>{e.preventDefault();const t=new FormData;Object.keys(d).forEach(e=>{t.append(e,d[e])}),m&&t.append("barcodeImage",m);try{l?(await Ua.put("/upi-barcodes/".concat(l._id),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}}),N("Barcode updated successfully")):(await Ua.post("/upi-barcodes",t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"multipart/form-data"}}),N("Barcode created successfully")),w(),b(),j()}catch(r){var n,a;N((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Error saving barcode","danger")}},children:[(0,Wa.jsx)(il.Body,{children:(0,Wa.jsxs)(gd,{children:[(0,Wa.jsxs)(bd,{md:6,children:[(0,Wa.jsxs)(Yu.Group,{className:"mb-3",children:[(0,Wa.jsx)(Yu.Label,{children:"Barcode Name *"}),(0,Wa.jsx)(Yu.Control,{type:"text",value:d.name,onChange:e=>u(Se(Se({},d),{},{name:e.target.value})),required:!0,placeholder:"Enter barcode name"})]}),(0,Wa.jsxs)(Yu.Group,{className:"mb-3",children:[(0,Wa.jsx)(Yu.Label,{children:"UPI ID *"}),(0,Wa.jsx)(Yu.Control,{type:"text",value:d.upiId,onChange:e=>u(Se(Se({},d),{},{upiId:e.target.value})),required:!0,placeholder:"user@paytm"})]}),(0,Wa.jsxs)(Yu.Group,{className:"mb-3",children:[(0,Wa.jsx)(Yu.Label,{children:"Description"}),(0,Wa.jsx)(Yu.Control,{as:"textarea",rows:3,value:d.description,onChange:e=>u(Se(Se({},d),{},{description:e.target.value})),placeholder:"Optional description"})]}),(0,Wa.jsx)(Yu.Group,{className:"mb-3",children:(0,Wa.jsx)(Yu.Check,{type:"checkbox",label:"Active",checked:d.isActive,onChange:e=>u(Se(Se({},d),{},{isActive:e.target.checked}))})}),(0,Wa.jsx)(Yu.Group,{className:"mb-3",children:(0,Wa.jsx)(Yu.Check,{type:"checkbox",label:"Set as Default",checked:d.isDefault,onChange:e=>u(Se(Se({},d),{},{isDefault:e.target.checked}))})})]}),(0,Wa.jsxs)(bd,{md:6,children:[(0,Wa.jsxs)(Yu.Group,{className:"mb-3",children:[(0,Wa.jsxs)(Yu.Label,{children:["Barcode Image ",!l&&"*"]}),(0,Wa.jsx)(Yu.Control,{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){h(t);const e=new FileReader;e.onload=e=>f(e.target.result),e.readAsDataURL(t)}},required:!l}),(0,Wa.jsx)(Yu.Text,{className:"text-muted",children:"Upload a QR code image (PNG, JPG, JPEG). Max size: 5MB"})]}),p&&(0,Wa.jsxs)("div",{className:"text-center",children:[(0,Wa.jsx)("p",{className:"mb-2",children:"Preview:"}),(0,Wa.jsx)("img",{src:p,alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px"},className:"img-thumbnail"})]})]})]})}),(0,Wa.jsxs)(il.Footer,{children:[(0,Wa.jsx)(Ll,{variant:"secondary",onClick:w,children:"Cancel"}),(0,Wa.jsx)(Ll,{variant:"primary",type:"submit",children:l?"Update Barcode":"Create Barcode"})]})]})]})]})},Xu=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)([]),s=e=>{a(t=>[...t,"".concat((new Date).toLocaleTimeString(),": ").concat(e)])};return(0,Wa.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Wa.jsx)("h2",{children:"Amount Input Debug Test"}),(0,Wa.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Wa.jsx)("label",{htmlFor:"amount",children:"Amount:"}),(0,Wa.jsx)("input",{type:"number",id:"amount",name:"amount",value:e,onChange:e=>{const{value:n}=e.target;s("Input change: '".concat(n,"'")),t(n)},onFocus:()=>{s("Input focused")},onBlur:()=>{s("Input blurred")},onKeyDown:e=>{s("Key pressed: ".concat(e.key))},min:"1",max:1e4,step:"0.01",placeholder:"Enter amount",style:{marginLeft:"10px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",width:"200px"}})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Current Value:"})," '",e,"'"]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Max Value:"})," ",1e4]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Input Type:"})," number"]})]}),(0,Wa.jsxs)("div",{children:[(0,Wa.jsx)("h3",{children:"Event Log:"}),(0,Wa.jsx)("div",{style:{border:"1px solid #ccc",padding:"10px",height:"200px",overflowY:"scroll",backgroundColor:"#f9f9f9"},children:n.map((e,t)=>(0,Wa.jsx)("div",{style:{fontSize:"12px",marginBottom:"2px"},children:e},t))})]}),(0,Wa.jsx)("div",{style:{marginTop:"20px"},children:(0,Wa.jsx)("button",{onClick:()=>a([]),style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Log"})})]})},Zu=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=localStorage.getItem("token");l(e||"No token found")},[]);return(0,Wa.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Wa.jsx)("h2",{children:"Wallet API Test"}),(0,Wa.jsxs)("div",{style:{marginBottom:"20px",padding:"10px",backgroundColor:"#f5f5f5",borderRadius:"5px"},children:[(0,Wa.jsx)("h3",{children:"Current Token:"}),(0,Wa.jsx)("p",{style:{wordBreak:"break-all",fontSize:"12px"},children:o.length>100?o.substring(0,100)+"...":o})]}),(0,Wa.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Wa.jsx)("button",{onClick:async()=>{i(!0),a(null),t(null);try{const e=localStorage.getItem("token");console.log("Using token:",e?e.substring(0,50)+"...":"No token");const n=await fetch("/wallet/balance",{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});console.log("Response status:",n.status),console.log("Response headers:",Object.fromEntries(n.headers.entries()));const r=await n.json();console.log("Response data:",r),n.ok?t(r):a("API Error: ".concat(n.status," - ").concat(r.message||"Unknown error"))}catch(im){console.error("Fetch error:",im),a("Network Error: ".concat(im.message))}finally{i(!1)}},disabled:s,style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:s?"Testing...":"Test /wallet/balance"}),(0,Wa.jsx)("button",{onClick:async()=>{i(!0),a(null),t(null);try{const e=localStorage.getItem("token"),n=await fetch("/wallet/my-wallet",{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});console.log("Alternative endpoint response status:",n.status);const r=await n.json();console.log("Alternative endpoint response data:",r),n.ok?t(r):a("API Error: ".concat(n.status," - ").concat(r.message||"Unknown error"))}catch(im){console.error("Alternative endpoint fetch error:",im),a("Network Error: ".concat(im.message))}finally{i(!1)}},disabled:s,style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:s?"not-allowed":"pointer"},children:s?"Testing...":"Test /wallet/my-wallet"})]}),n&&(0,Wa.jsxs)("div",{style:{padding:"10px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"5px",marginBottom:"20px"},children:[(0,Wa.jsx)("h3",{children:"Error:"}),(0,Wa.jsx)("p",{children:n})]}),e&&(0,Wa.jsxs)("div",{style:{padding:"10px",backgroundColor:"#d4edda",color:"#155724",border:"1px solid #c3e6cb",borderRadius:"5px"},children:[(0,Wa.jsx)("h3",{children:"Success! Wallet Data:"}),(0,Wa.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontSize:"12px"},children:JSON.stringify(e,null,2)})]})]})},em=()=>{const[e,t]=(0,r.useState)({}),[n,a]=(0,r.useState)(!1);return(0,Wa.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,Wa.jsx)("h2",{children:"Recharge API Test"}),(0,Wa.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Wa.jsx)("button",{onClick:async()=>{a(!0);try{const e=await Ua.get("/wallet/balance");t(t=>Se(Se({},t),{},{walletBalance:{success:!0,data:e.data,url:"/wallet/balance"}}))}catch(e){t(t=>{var n;return Se(Se({},t),{},{walletBalance:{success:!1,error:(null===(n=e.response)||void 0===n?void 0:n.data)||e.message,url:"/wallet/balance"}})})}a(!1)},disabled:n,style:{marginRight:"10px",padding:"10px 15px"},children:"Test Wallet Balance"}),(0,Wa.jsx)("button",{onClick:async()=>{a(!0);try{const e=await Ua.post("/transactions/process",{type:"mobile-recharge",amount:10,metadata:{mobileNumber:"9999999999",operator:"test",plan:"test"}});t(t=>Se(Se({},t),{},{rechargeProcess:{success:!0,data:e.data,url:"/transactions/process"}}))}catch(e){t(t=>{var n;return Se(Se({},t),{},{rechargeProcess:{success:!1,error:(null===(n=e.response)||void 0===n?void 0:n.data)||e.message,url:"/transactions/process"}})})}a(!1)},disabled:n,style:{marginRight:"10px",padding:"10px 15px"},children:"Test Recharge Process"}),(0,Wa.jsx)("button",{onClick:async()=>{a(!0);try{const e=await Ua.post("/recharge/mobile",{mobileNumber:"9999999999",operator:"test",amount:10,circle:"test"});t(t=>Se(Se({},t),{},{rechargeEndpoint:{success:!0,data:e.data,url:"/recharge/mobile"}}))}catch(e){t(t=>{var n;return Se(Se({},t),{},{rechargeEndpoint:{success:!1,error:(null===(n=e.response)||void 0===n?void 0:n.data)||e.message,url:"/recharge/mobile"}})})}a(!1)},disabled:n,style:{padding:"10px 15px"},children:"Test Recharge Endpoint"})]}),n&&(0,Wa.jsx)("p",{children:"Testing..."}),(0,Wa.jsx)("div",{children:Object.entries(e).map(e=>{let[t,n]=e;return(0,Wa.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",border:"1px solid #ccc",borderRadius:"5px",backgroundColor:n.success?"#e8f5e8":"#ffe8e8"},children:[(0,Wa.jsx)("h3",{children:t}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"URL:"})," ",n.url]}),(0,Wa.jsxs)("p",{children:[(0,Wa.jsx)("strong",{children:"Status:"})," ",n.success?"SUCCESS":"FAILED"]}),(0,Wa.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"10px",borderRadius:"3px",overflow:"auto",fontSize:"12px"},children:JSON.stringify(n.success?n.data:n.error,null,2)})]},t)})})]})},tm=e=>{let{children:t}=e;const{isAuthenticated:n}=qa();return n?t:(0,Wa.jsx)(fe,{to:"/login"})},nm=()=>{const{isAuthenticated:e}=qa();return e?(0,Wa.jsx)(fe,{to:"/dashboard"}):(0,Wa.jsx)(Ds,{})},am=e=>{let{children:t}=e;const{isAuthenticated:n,currentUser:a}=qa();return n?"admin"!==(null===a||void 0===a?void 0:a.role)?(0,Wa.jsx)(fe,{to:"/dashboard"}):(0,Wa.jsx)(bs,{children:t}):(0,Wa.jsx)(fe,{to:"/login"})};const rm=function(){return(0,Wa.jsx)(Ks,{children:(0,Wa.jsx)(ws,{children:(0,Wa.jsx)(xs,{children:(0,Wa.jsxs)(Wa.Fragment,{children:[(0,Wa.jsx)(vs,{}),(0,Wa.jsx)(Ss,{}),(0,Wa.jsx)("main",{className:"container",children:(0,Wa.jsxs)(ve,{children:[(0,Wa.jsx)(ge,{path:"/",element:(0,Wa.jsx)(nm,{})}),(0,Wa.jsx)(ge,{path:"/login",element:(0,Wa.jsx)(Bs,{})}),(0,Wa.jsx)(ge,{path:"/register",element:(0,Wa.jsx)(Fs,{})}),(0,Wa.jsx)(ge,{path:"/forgot-password",element:(0,Wa.jsx)(Us,{})}),(0,Wa.jsx)(ge,{path:"/reset-password/:token",element:(0,Wa.jsx)(Ws,{})}),(0,Wa.jsx)(ge,{path:"/dashboard",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(zs,{})})}),(0,Wa.jsx)(ge,{path:"/wallet",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Fl,{})})}),(0,Wa.jsx)(ge,{path:"/mobile-recharge",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Ml,{})})}),(0,Wa.jsx)(ge,{path:"/dth-recharge",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(zl,{})})}),(0,Wa.jsx)(ge,{path:"/bill-payment",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Wl,{})})}),(0,Wa.jsx)(ge,{path:"/transactions",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(ql,{})})}),(0,Wa.jsx)(ge,{path:"/money-transfer",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Hc,{})})}),(0,Wa.jsx)(ge,{path:"/aeps",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Kc,{})})}),(0,Wa.jsx)(ge,{path:"/vouchers",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Vl,{})})}),(0,Wa.jsx)(ge,{path:"/recharge",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(Ul,{})})}),(0,Wa.jsx)(ge,{path:"/notifications",element:(0,Wa.jsx)(tm,{children:(0,Wa.jsx)(ld,{})})}),(0,Wa.jsx)(ge,{path:"/admin/dashboard",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)($c,{})})}),(0,Wa.jsx)(ge,{path:"/admin/user-management",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(id,{})})}),(0,Wa.jsx)(ge,{path:"/admin/transactions/pending",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Gc,{})})}),(0,Wa.jsx)(ge,{path:"/admin/transactions",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Yc,{})})}),(0,Wa.jsx)(ge,{path:"/admin/dmt-transactions",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(sd,{})})}),(0,Wa.jsx)(ge,{path:"/admin/commissions",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Jc,{})})}),(0,Wa.jsx)(ge,{path:"/admin/commission-schemes",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Xc,{})})}),(0,Wa.jsx)(ge,{path:"/admin/user-commissions",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Zc,{})})}),(0,Wa.jsx)(ge,{path:"/admin/vouchers",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(ed,{})})}),(0,Wa.jsx)(ge,{path:"/admin/voucher-orders",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(td,{})})}),(0,Wa.jsx)(ge,{path:"/admin/api-providers",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(nd,{})})}),(0,Wa.jsx)(ge,{path:"/admin/operators",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(ad,{})})}),(0,Wa.jsx)(ge,{path:"/admin/manual-recharges",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(rd,{})})}),(0,Wa.jsx)(ge,{path:"/admin/notifications",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(od,{})})}),(0,Wa.jsx)(ge,{path:"/admin/charge-slabs",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(cd,{})})}),(0,Wa.jsx)(ge,{path:"/admin/audit",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(dd,{})})}),(0,Wa.jsx)(ge,{path:"/admin/upi-barcodes",element:(0,Wa.jsx)(am,{children:(0,Wa.jsx)(Ju,{})})}),(0,Wa.jsx)(ge,{path:"/debug/amount-input",element:(0,Wa.jsx)(Xu,{})}),(0,Wa.jsx)(ge,{path:"/debug/wallet-api",element:(0,Wa.jsx)(Zu,{})}),(0,Wa.jsx)(ge,{path:"/debug/recharge-api",element:(0,Wa.jsx)(em,{})}),(0,Wa.jsx)(ge,{path:"*",element:(0,Wa.jsx)(Qc,{})})]})}),(0,Wa.jsx)(Ye,{position:"bottom-right",autoClose:3e3})]})})})})};i.createRoot(document.getElementById("root")).render((0,Wa.jsx)(r.StrictMode,{children:(0,Wa.jsx)(ht,{children:(0,Wa.jsx)(Ha,{children:(0,Wa.jsx)(rm,{})})})}))})()})();
//# sourceMappingURL=main.2b24af44.js.map